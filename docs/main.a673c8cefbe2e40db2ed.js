(self.webpackChunkholys_bet_manager=self.webpackChunkholys_bet_manager||[]).push([[179],{255:Zo=>{function Vr(dr){return Promise.resolve().then(()=>{var un=new Error("Cannot find module '"+dr+"'");throw un.code="MODULE_NOT_FOUND",un})}Vr.keys=()=>[],Vr.resolve=Vr,Vr.id=255,Zo.exports=Vr},676:function(Zo,Vr){!function(dr){"use strict";function un(U){return Array.prototype.slice.call(U)}function ea(U){return new Promise(function(ae,ve){U.onsuccess=function(){ae(U.result)},U.onerror=function(){ve(U.error)}})}function Ht(U,ae,ve){var Ve,be=new Promise(function(W,Xi){ea(Ve=U[ae].apply(U,ve)).then(W,Xi)});return be.request=Ve,be}function Qi(U,ae,ve){var Ve=Ht(U,ae,ve);return Ve.then(function(be){if(be)return new ue(be,Ve.request)})}function hr(U,ae,ve){ve.forEach(function(Ve){Object.defineProperty(U.prototype,Ve,{get:function(){return this[ae][Ve]},set:function(be){this[ae][Ve]=be}})})}function Br(U,ae,ve,Ve){Ve.forEach(function(be){be in ve.prototype&&(U.prototype[be]=function(){return Ht(this[ae],be,arguments)})})}function Ji(U,ae,ve,Ve){Ve.forEach(function(be){be in ve.prototype&&(U.prototype[be]=function(){return this[ae][be].apply(this[ae],arguments)})})}function Bg(U,ae,ve,Ve){Ve.forEach(function(be){be in ve.prototype&&(U.prototype[be]=function(){return Qi(this[ae],be,arguments)})})}function Hn(U){this._index=U}function ue(U,ae){this._cursor=U,this._request=ae}function En(U){this._store=U}function Ur(U){this._tx=U,this.complete=new Promise(function(ae,ve){U.oncomplete=function(){ae()},U.onerror=function(){ve(U.error)},U.onabort=function(){ve(U.error)}})}function Xl(U,ae,ve){this._db=U,this.oldVersion=ae,this.transaction=new Ur(ve)}function _e(U){this._db=U}hr(Hn,"_index",["name","keyPath","multiEntry","unique"]),Br(Hn,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Bg(Hn,"_index",IDBIndex,["openCursor","openKeyCursor"]),hr(ue,"_cursor",["direction","key","primaryKey","value"]),Br(ue,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(U){U in IDBCursor.prototype&&(ue.prototype[U]=function(){var ae=this,ve=arguments;return Promise.resolve().then(function(){return ae._cursor[U].apply(ae._cursor,ve),ea(ae._request).then(function(Ve){if(Ve)return new ue(Ve,ae._request)})})})}),En.prototype.createIndex=function(){return new Hn(this._store.createIndex.apply(this._store,arguments))},En.prototype.index=function(){return new Hn(this._store.index.apply(this._store,arguments))},hr(En,"_store",["name","keyPath","indexNames","autoIncrement"]),Br(En,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Bg(En,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Ji(En,"_store",IDBObjectStore,["deleteIndex"]),Ur.prototype.objectStore=function(){return new En(this._tx.objectStore.apply(this._tx,arguments))},hr(Ur,"_tx",["objectStoreNames","mode"]),Ji(Ur,"_tx",IDBTransaction,["abort"]),Xl.prototype.createObjectStore=function(){return new En(this._db.createObjectStore.apply(this._db,arguments))},hr(Xl,"_db",["name","version","objectStoreNames"]),Ji(Xl,"_db",IDBDatabase,["deleteObjectStore","close"]),_e.prototype.transaction=function(){return new Ur(this._db.transaction.apply(this._db,arguments))},hr(_e,"_db",["name","version","objectStoreNames"]),Ji(_e,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(U){[En,Hn].forEach(function(ae){U in ae.prototype&&(ae.prototype[U.replace("open","iterate")]=function(){var ve=un(arguments),Ve=ve[ve.length-1],be=this._store||this._index,W=be[U].apply(be,ve.slice(0,-1));W.onsuccess=function(){Ve(W.result)}})})}),[Hn,En].forEach(function(U){U.prototype.getAll||(U.prototype.getAll=function(ae,ve){var Ve=this,be=[];return new Promise(function(W){Ve.iterateCursor(ae,function(Xi){Xi?(be.push(Xi.value),void 0===ve||be.length!=ve?Xi.continue():W(be)):W(be)})})})}),dr.openDb=function(U,ae,ve){var Ve=Ht(indexedDB,"open",[U,ae]),be=Ve.request;return be&&(be.onupgradeneeded=function(W){ve&&ve(new Xl(be.result,W.oldVersion,be.transaction))}),Ve.then(function(W){return new _e(W)})},dr.deleteDb=function(U){return Ht(indexedDB,"deleteDatabase",[U])},Object.defineProperty(dr,"__esModule",{value:!0})}(Vr)},272:(Zo,Vr,dr)=>{"use strict";function un(n){return"function"==typeof n}let ea=!1;const Ht={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else ea&&console.log("RxJS: Back to a better error behavior. Thank you. <3");ea=n},get useDeprecatedSynchronousErrorHandling(){return ea}};function Qi(n){setTimeout(()=>{throw n},0)}const hr={closed:!0,next(n){},error(n){if(Ht.useDeprecatedSynchronousErrorHandling)throw n;Qi(n)},complete(){}},Br=Array.isArray||(n=>n&&"number"==typeof n.length);function Ji(n){return null!==n&&"object"==typeof n}const Hn=(()=>{function n(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((t,r)=>`${r+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return n.prototype=Object.create(Error.prototype),n})();class ue{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:r,_unsubscribe:i,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof ue)t.remove(this);else if(null!==t)for(let o=0;o<t.length;++o)t[o].remove(this);if(un(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(o){e=o instanceof Hn?En(o.errors):[o]}}if(Br(s)){let o=-1,a=s.length;for(;++o<a;){const l=s[o];if(Ji(l))try{l.unsubscribe()}catch(c){e=e||[],c instanceof Hn?e=e.concat(En(c.errors)):e.push(c)}}}if(e)throw new Hn(e)}add(e){let t=e;if(!e)return ue.EMPTY;switch(typeof e){case"function":t=new ue(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof ue)){const s=t;t=new ue,t._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=t;if(null===r)t._parentOrParents=this;else if(r instanceof ue){if(r===this)return t;t._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return t;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[t]:i.push(t),t}remove(e){const t=this._subscriptions;if(t){const r=t.indexOf(e);-1!==r&&t.splice(r,1)}}}var n;function En(n){return n.reduce((e,t)=>e.concat(t instanceof Hn?t.errors:t),[])}ue.EMPTY=((n=new ue).closed=!0,n);const Ur="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class _e extends ue{constructor(e,t,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=hr;break;case 1:if(!e){this.destination=hr;break}if("object"==typeof e){e instanceof _e?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new Td(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new Td(this,e,t,r)}}[Ur](){return this}static create(e,t,r){const i=new _e(e,t,r);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class Td extends _e{constructor(e,t,r,i){super(),this._parentSubscriber=e;let s,o=this;un(t)?s=t:t&&(s=t.next,r=t.error,i=t.complete,t!==hr&&(o=Object.create(t),un(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=r,this._complete=i}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;Ht.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:r}=Ht;if(this._error)r&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):Qi(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;Qi(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);Ht.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(r){if(this.unsubscribe(),Ht.useDeprecatedSynchronousErrorHandling)throw r;Qi(r)}}__tryOrSetError(e,t,r){if(!Ht.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,r)}catch(i){return Ht.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(Qi(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const ae="function"==typeof Symbol&&Symbol.observable||"@@observable";function ve(n){return n}let W=(()=>{class n{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const{operator:s}=this,o=function(n,e,t){if(n){if(n instanceof _e)return n;if(n[Ur])return n[Ur]()}return n||e||t?new _e(n,e,t):new _e(hr)}(t,r,i);if(o.add(s?s.call(o,this.source):this.source||Ht.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),Ht.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){Ht.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=r),function(n){for(;n;){const{closed:e,destination:t,isStopped:r}=n;if(e||r)return!1;n=t&&t instanceof _e?t:null}return!0}(t)?t.error(r):console.warn(r)}}forEach(t,r){return new(r=Xi(r))((i,s)=>{let o;o=this.subscribe(a=>{try{t(a)}catch(l){s(l),o&&o.unsubscribe()}},s,i)})}_subscribe(t){const{source:r}=this;return r&&r.subscribe(t)}[ae](){return this}pipe(...t){return 0===t.length?this:function(n){return 0===n.length?ve:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=Xi(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function Xi(n){if(n||(n=Ht.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const Ls=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class hD extends ue{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}class fD extends _e{constructor(e){super(e),this.destination=e}}let Ee=(()=>{class n extends W{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Ur](){return new fD(this)}lift(t){const r=new pD(this,this);return r.operator=t,r}next(t){if(this.closed)throw new Ls;if(!this.isStopped){const{observers:r}=this,i=r.length,s=r.slice();for(let o=0;o<i;o++)s[o].next(t)}}error(t){if(this.closed)throw new Ls;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:r}=this,i=r.length,s=r.slice();for(let o=0;o<i;o++)s[o].error(t);this.observers.length=0}complete(){if(this.closed)throw new Ls;this.isStopped=!0;const{observers:t}=this,r=t.length,i=t.slice();for(let s=0;s<r;s++)i[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new Ls;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new Ls;return this.hasError?(t.error(this.thrownError),ue.EMPTY):this.isStopped?(t.complete(),ue.EMPTY):(this.observers.push(t),new hD(this,t))}asObservable(){const t=new W;return t.source=this,t}}return n.create=(e,t)=>new pD(e,t),n})();class pD extends Ee{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):ue.EMPTY}}function ta(n){return n&&"function"==typeof n.schedule}function ne(n,e){return function(r){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new Z2(n,e))}}class Z2{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new eB(e,this.project,this.thisArg))}}class eB extends _e{constructor(e,t,r){super(e),this.project=t,this.count=0,this.thisArg=r||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const gD=n=>e=>{for(let t=0,r=n.length;t<r&&!e.closed;t++)e.next(n[t]);e.complete()},Dd="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",_D=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function mD(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const jg=n=>{if(n&&"function"==typeof n[ae])return(n=>e=>{const t=n[ae]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)})(n);if(_D(n))return gD(n);if(mD(n))return(n=>e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Qi),e))(n);if(n&&"function"==typeof n[Dd])return(n=>e=>{const t=n[Dd]();for(;;){let r;try{r=t.next()}catch(i){return e.error(i),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof t.return&&e.add(()=>{t.return&&t.return()}),e})(n);{const t=`You provided ${Ji(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}};function Hg(n,e){return new W(t=>{const r=new ue;let i=0;return r.add(e.schedule(function(){i!==n.length?(t.next(n[i++]),t.closed||r.add(this.schedule())):t.complete()})),r})}function It(n,e){return e?function(n,e){if(null!=n){if(function(n){return n&&"function"==typeof n[ae]}(n))return function(n,e){return new W(t=>{const r=new ue;return r.add(e.schedule(()=>{const i=n[ae]();r.add(i.subscribe({next(s){r.add(e.schedule(()=>t.next(s)))},error(s){r.add(e.schedule(()=>t.error(s)))},complete(){r.add(e.schedule(()=>t.complete()))}}))})),r})}(n,e);if(mD(n))return function(n,e){return new W(t=>{const r=new ue;return r.add(e.schedule(()=>n.then(i=>{r.add(e.schedule(()=>{t.next(i),r.add(e.schedule(()=>t.complete()))}))},i=>{r.add(e.schedule(()=>t.error(i)))}))),r})}(n,e);if(_D(n))return Hg(n,e);if(function(n){return n&&"function"==typeof n[Dd]}(n)||"string"==typeof n)return function(n,e){if(!n)throw new Error("Iterable cannot be null");return new W(t=>{const r=new ue;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=n[Dd](),r.add(e.schedule(function(){if(t.closed)return;let s,o;try{const a=i.next();s=a.value,o=a.done}catch(a){return void t.error(a)}o?t.complete():(t.next(s),this.schedule())}))})),r})}(n,e)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,e):n instanceof W?n:new W(jg(n))}class Zl extends _e{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ec extends _e{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function tc(n,e){if(e.closed)return;if(n instanceof W)return n.subscribe(e);let t;try{t=jg(n)(e)}catch(r){e.error(r)}return t}function Ft(n,e,t=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(Ft((i,s)=>It(n(i,s)).pipe(ne((o,a)=>e(i,o,s,a))),t)):("number"==typeof e&&(t=e),r=>r.lift(new dB(n,t)))}class dB{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new hB(e,this.project,this.concurrent))}}class hB extends ec{constructor(e,t,r=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t)}_innerSub(e){const t=new Zl(this),r=this.destination;r.add(t);const i=tc(e,t);i!==t&&r.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function nc(n=Number.POSITIVE_INFINITY){return Ft(ve,n)}function $g(n,e){return e?Hg(n,e):new W(gD(n))}function yD(...n){let e=Number.POSITIVE_INFINITY,t=null,r=n[n.length-1];return ta(r)?(t=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(e=n.pop())):"number"==typeof r&&(e=n.pop()),null===t&&1===n.length&&n[0]instanceof W?n[0]:nc(e)($g(n,t))}function Wg(){return function(e){return e.lift(new fB(e))}}class fB{constructor(e){this.connectable=e}call(e,t){const{connectable:r}=this;r._refCount++;const i=new pB(e,r),s=t.subscribe(i);return i.closed||(i.connection=r.connect()),s}}class pB extends _e{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:r}=this,i=e._connection;this.connection=null,i&&(!r||i===r)&&i.unsubscribe()}}class vD extends W{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new ue,e.add(this.source.subscribe(new _B(this.getSubject(),this))),e.closed&&(this._connection=null,e=ue.EMPTY)),e}refCount(){return Wg()(this)}}const gB=(()=>{const n=vD.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class _B extends fD{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function bB(){return new Ee}function bD(){return n=>Wg()(function(n,e){return function(r){let i;i="function"==typeof n?n:function(){return n};const s=Object.create(r,gB);return s.source=r,s.subjectFactory=i,s}}(bB)(n))}function Me(n){for(let e in n)if(n[e]===Me)return e;throw Error("Could not find renamed property on target object.")}function zg(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function oe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(oe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Gg(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const EB=Me({__forward_ref__:Me});function Sd(n){return n.__forward_ref__=Sd,n.toString=function(){return oe(this())},n}function V(n){return ED(n)?n():n}function ED(n){return"function"==typeof n&&n.hasOwnProperty(EB)&&n.__forward_ref__===Sd}class Vs extends Error{constructor(e,t){super(function(n,e){return`${n?`NG0${n}: `:""}${e}`}(e,t)),this.code=e}}function ee(n){return"string"==typeof n?n:null==n?"":String(n)}function Yt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ee(n)}function Ad(n,e){const t=e?` in ${e}`:"";throw new Vs("201",`No provider for ${Yt(n)} found${t}`)}function wn(n,e){null==n&&function(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function M(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ce(n){return{providers:n.providers||[],imports:n.imports||[]}}function vi(n){return CD(n,Rd)||CD(n,ID)}function CD(n,e){return n.hasOwnProperty(e)?n[e]:null}function wD(n){return n&&(n.hasOwnProperty(Kg)||n.hasOwnProperty(AB))?n[Kg]:null}const Rd=Me({\u0275prov:Me}),Kg=Me({\u0275inj:Me}),ID=Me({ngInjectableDef:Me}),AB=Me({ngInjectorDef:Me});var j=(()=>((j=j||{})[j.Default=0]="Default",j[j.Host=1]="Host",j[j.Self=2]="Self",j[j.SkipSelf=4]="SkipSelf",j[j.Optional=8]="Optional",j))();let Yg;function Zi(n){const e=Yg;return Yg=n,e}function TD(n,e,t){const r=vi(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&j.Optional?null:void 0!==e?e:void Ad(oe(n),"Injector")}function es(n){return{toString:n}.toString()}var $n=(()=>(($n=$n||{})[$n.OnPush=0]="OnPush",$n[$n.Default=1]="Default",$n))(),lt=(()=>((lt=lt||{})[lt.Emulated=0]="Emulated",lt[lt.None=2]="None",lt[lt.ShadowDom=3]="ShadowDom",lt))();const MB="undefined"!=typeof globalThis&&globalThis,kB="undefined"!=typeof window&&window,xB="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,xe=MB||"undefined"!=typeof global&&global||kB||xB,na={},Le=[],Md=Me({\u0275cmp:Me}),Qg=Me({\u0275dir:Me}),Jg=Me({\u0275pipe:Me}),DD=Me({\u0275mod:Me}),PB=Me({\u0275loc:Me}),bi=Me({\u0275fac:Me}),rc=Me({__NG_ELEMENT_ID__:Me});let OB=0;function qe(n){return es(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===$n.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Le,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||lt.Emulated,id:"c",styles:n.styles||Le,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,o=n.pipes;return r.id+=OB++,r.inputs=MD(n.inputs,t),r.outputs=MD(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(SD):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(AD):null,r})}function SD(n){return Qt(n)||function(n){return n[Qg]||null}(n)}function AD(n){return function(n){return n[Jg]||null}(n)}const RD={};function De(n){return es(()=>{const e={type:n.type,bootstrap:n.bootstrap||Le,declarations:n.declarations||Le,imports:n.imports||Le,exports:n.exports||Le,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(RD[n.id]=n.type),e})}function MD(n,e){if(null==n)return na;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const re=qe;function dn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Qt(n){return n[Md]||null}function Wn(n,e){const t=n[DD]||null;if(!t&&!0===e)throw new Error(`Type ${oe(n)} does not have '\u0275mod' property.`);return t}function jr(n){return Array.isArray(n)&&"object"==typeof n[1]}function pr(n){return Array.isArray(n)&&!0===n[1]}function e_(n){return 0!=(8&n.flags)}function Od(n){return 2==(2&n.flags)}function Nd(n){return 1==(1&n.flags)}function gr(n){return null!==n.template}function jB(n){return 0!=(512&n[2])}function $s(n,e){return n.hasOwnProperty(bi)?n[bi]:null}class xD{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function _r(){return PD}function PD(n){return n.type.prototype.ngOnChanges&&(n.setInput=zB),WB}function WB(){const n=ND(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===na)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function zB(n,e,t,r){const i=ND(n)||function(n,e){return n[OD]=e}(n,{previous:na,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],l=o[a];s[a]=new xD(l&&l.currentValue,e,o===na),n[r]=e}_r.ngInherit=!0;const OD="__ngSimpleChanges__";function ND(n){return n[OD]||null}let r_;function tt(n){return!!n.listen}const VD={createRenderer:(n,e)=>void 0!==r_?r_:"undefined"!=typeof document?document:void 0};function ct(n){for(;Array.isArray(n);)n=n[0];return n}function Fd(n,e){return ct(e[n])}function qn(n,e){return ct(e[n.index])}function s_(n,e){return n.data[e]}function aa(n,e){return n[e]}function Tn(n,e){const t=e[n];return jr(t)?t:t[0]}function BD(n){return 4==(4&n[2])}function o_(n){return 128==(128&n[2])}function ns(n,e){return null==e?null:n[e]}function UD(n){n[18]=0}function a_(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const q={lFrame:KD(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function jD(){return q.bindingsEnabled}function I(){return q.lFrame.lView}function we(){return q.lFrame.tView}function mr(n){return q.lFrame.contextLView=n,n[8]}function mt(){let n=HD();for(;null!==n&&64===n.type;)n=n.parent;return n}function HD(){return q.lFrame.currentTNode}function Hr(n,e){const t=q.lFrame;t.currentTNode=n,t.isParent=e}function l_(){return q.lFrame.isParent}function c_(){q.lFrame.isParent=!1}function Ld(){return q.isInCheckNoChangesMode}function Vd(n){q.isInCheckNoChangesMode=n}function Jt(){const n=q.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function la(){return q.lFrame.bindingIndex++}function oU(n,e){const t=q.lFrame;t.bindingIndex=t.bindingRootIndex=n,u_(e)}function u_(n){q.lFrame.currentDirectiveIndex=n}function d_(n){const e=q.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function zD(){return q.lFrame.currentQueryIndex}function h_(n){q.lFrame.currentQueryIndex=n}function lU(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function GD(n,e,t){if(t&j.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&j.Host||(i=lU(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=q.lFrame=qD();return r.currentTNode=e,r.lView=n,!0}function Bd(n){const e=qD(),t=n[1];q.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function qD(){const n=q.lFrame,e=null===n?null:n.child;return null===e?KD(n):e}function KD(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function YD(){const n=q.lFrame;return q.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const QD=YD;function Ud(){const n=YD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Xt(){return q.lFrame.selectedIndex}function rs(n){q.lFrame.selectedIndex=n}function nt(){const n=q.lFrame;return s_(n.tView,n.selectedIndex)}function jd(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function Hd(n,e,t){JD(n,e,3,t)}function $d(n,e,t,r){(3&n[2])===t&&JD(n,e,t,r)}function f_(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function JD(n,e,t,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[18]+=65536),(a<s||-1==s)&&(mU(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function mU(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class lc{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Wd(n,e,t){const r=tt(n);let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const o=t[i++],a=t[i++],l=t[i++];r?n.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=t[++i];g_(o)?r&&n.setProperty(e,o,a):r?n.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function XD(n){return 3===n||4===n||6===n}function g_(n){return 64===n.charCodeAt(0)}function zd(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||ZD(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function ZD(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function eS(n){return-1!==n}function ca(n){return 32767&n}function ua(n,e){let t=function(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let __=!0;function Gd(n){const e=__;return __=n,e}let wU=0;function uc(n,e){const t=y_(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,m_(r.data,n),m_(e,null),m_(r.blueprint,null));const i=qd(n,e),s=n.injectorIndex;if(eS(i)){const o=ca(i),a=ua(i,e),l=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function m_(n,e){n.push(0,0,0,0,0,0,0,0,e)}function y_(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function qd(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Kd(n,e,t){!function(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(rc)&&(r=t[rc]),null==r&&(r=t[rc]=wU++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function rS(n,e,t){if(t&j.Optional)return n;Ad(e,"NodeInjector")}function iS(n,e,t,r){if(t&j.Optional&&void 0===r&&(r=null),0==(t&(j.Self|j.Host))){const i=n[9],s=Zi(void 0);try{return i?i.get(e,r,t&j.Optional):TD(e,r,t&j.Optional)}finally{Zi(s)}}return rS(r,e,t)}function sS(n,e,t,r=j.Default,i){if(null!==n){const s=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(rc)?n[rc]:void 0;return"number"==typeof e?e>=0?255&e:DU:e}(t);if("function"==typeof s){if(!GD(e,n,r))return r&j.Host?rS(i,t,r):iS(e,t,r,i);try{const o=s(r);if(null!=o||r&j.Optional)return o;Ad(t)}finally{QD()}}else if("number"==typeof s){let o=null,a=y_(n,e),l=-1,c=r&j.Host?e[16][6]:null;for((-1===a||r&j.SkipSelf)&&(l=-1===a?qd(n,e):e[a+8],-1!==l&&lS(r,!1)?(o=e[1],a=ca(l),e=ua(l,e)):a=-1);-1!==a;){const u=e[1];if(aS(s,a,u.data)){const d=SU(a,e,t,o,r,c);if(d!==oS)return d}l=e[a+8],-1!==l&&lS(r,e[1].data[a+8]===c)&&aS(s,a,e)?(o=u,a=ca(l),e=ua(l,e)):a=-1}}}return iS(e,t,r,i)}const oS={};function DU(){return new da(mt(),I())}function SU(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],u=Yd(a,o,t,null==r?Od(a)&&__:r!=o&&0!=(3&a.type),i&j.Host&&s===a);return null!==u?dc(e,o,u,a):oS}function Yd(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(i){const f=o[l];if(f&&gr(f)&&f.type===t)return l}return null}function dc(n,e,t,r){let i=n[t];const s=e.data;if(function(n){return n instanceof lc}(i)){const o=i;o.resolving&&function(n,e){throw new Vs("200",`Circular dependency in DI detected for ${n}`)}(Yt(s[t]));const a=Gd(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Zi(o.injectImpl):null;GD(n,r,j.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=PD(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&Zi(l),Gd(a),o.resolving=!1,QD()}}return i}function aS(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function lS(n,e){return!(n&j.Self||n&j.Host&&e)}class da{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return sS(this._tNode,this._lView,e,void 0,t)}}function v_(n){return ED(n)?()=>{const e=v_(V(n));return e&&e()}:$s(n)}function ha(n){return function(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(XD(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(mt(),n)}const pa="__parameters__";function Ws(n,e,t){return es(()=>{const r=function(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(pa)?l[pa]:Object.defineProperty(l,pa,{value:[]})[pa];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class N{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=M({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const kU=new N("AnalyzeForEntryComponents"),_a=Function;function Kn(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),Kn(r,e)):e!==n&&e.push(r)}return e}function Wr(n,e){n.forEach(t=>Array.isArray(t)?Wr(t,e):e(t))}function Jd(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function zs(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ss(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function Dn(n,e,t){let r=ma(n,e);return r>=0?n[1|r]=t:(r=~r,function(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function E_(n,e){const t=ma(n,e);if(t>=0)return n[1|t]}function ma(n,e){return function(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const _c={},w_="__NG_DI_FLAG__",ya="ngTempTokenPath",jU=/\n/gm,I_="__source",T_=Me({provide:String,useValue:Me});let mc;function va(n){const e=mc;return mc=n,e}function $U(n,e=j.Default){if(void 0===mc)throw new Error("inject() must be called from an injection context");return null===mc?TD(n,void 0,e):mc.get(n,e&j.Optional?null:void 0,e)}function m(n,e=j.Default){return(Yg||$U)(V(n),e)}const D_=m;function Gs(n){const e=[];for(let t=0;t<n.length;t++){const r=V(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,s=j.Default;for(let o=0;o<r.length;o++){const a=r[o],l=WU(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(m(i,s))}else e.push(m(r))}return e}function yc(n,e){return n[w_]=e,n.prototype[w_]=e,n}function WU(n){return n[w_]}function pS(n,e,t,r){const i=n[ya];throw e[I_]&&i.unshift(e[I_]),n.message=function(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=oe(e);if(Array.isArray(e))i=e.map(oe).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):oe(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(jU,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[ya]=null,n}const ba=yc(Ws("Inject",n=>({token:n})),-1),Be=yc(Ws("Optional"),8),Ci=yc(Ws("SkipSelf"),4);let th;function Ca(n){var e;return(null===(e=function(){if(void 0===th&&(th=null,xe.trustedTypes))try{th=xe.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return th}())||void 0===e?void 0:e.createHTML(n))||n}class qs{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class tj extends qs{getTypeName(){return"HTML"}}class nj extends qs{getTypeName(){return"Style"}}class rj extends qs{getTypeName(){return"Script"}}class ij extends qs{getTypeName(){return"URL"}}class sj extends qs{getTypeName(){return"ResourceURL"}}function Sn(n){return n instanceof qs?n.changingThisBreaksApplicationSecurity:n}function zr(n,e){const t=CS(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}function CS(n){return n instanceof qs&&n.getTypeName()||null}class dj{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Ca(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class hj{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Ca(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=Ca(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const o=t.item(i).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const pj=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,gj=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function bc(n){return(n=String(n)).match(pj)||n.match(gj)?n:"unsafe:"+n}function IS(n){return(n=String(n)).split(",").map(e=>bc(e.trim())).join(", ")}function Gr(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Ec(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const TS=Gr("area,br,col,hr,img,wbr"),DS=Gr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),SS=Gr("rp,rt"),M_=Ec(TS,Ec(DS,Gr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ec(SS,Gr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ec(SS,DS)),k_=Gr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),x_=Gr("srcset"),AS=Ec(k_,x_,Gr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_j=Gr("script,style,template");class mj{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!M_.hasOwnProperty(t))return this.sanitizedSomething=!0,!_j.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!AS.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;k_[a]&&(l=bc(l)),x_[a]&&(l=IS(l)),this.buf.push(" ",o,'="',RS(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();M_.hasOwnProperty(t)&&!TS.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(RS(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const yj=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vj=/([^\#-~ |!])/g;function RS(n){return n.replace(/&/g,"&amp;").replace(yj,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(vj,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let rh;function MS(n,e){let t=null;try{rh=rh||function(n){const e=new hj(n);return function(){try{return!!(new window.DOMParser).parseFromString(Ca(""),"text/html")}catch(n){return!1}}()?new dj(e):e}(n);let r=e?String(e):"";t=rh.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=rh.getInertBodyElement(r)}while(r!==s);return Ca((new mj).sanitizeChildren(P_(t)||t))}finally{if(t){const r=P_(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function P_(n){return"content"in n&&function(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Se=(()=>((Se=Se||{})[Se.NONE=0]="NONE",Se[Se.HTML=1]="HTML",Se[Se.STYLE=2]="STYLE",Se[Se.SCRIPT=3]="SCRIPT",Se[Se.URL=4]="URL",Se[Se.RESOURCE_URL=5]="RESOURCE_URL",Se))();const PS="__ngContext__";function Wt(n,e){n[PS]=e}function F_(n){const e=function(n){return n[PS]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function ih(n){return n.ngOriginalError}function Lj(n,...e){n.error(...e)}class yr{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=this._findContext(e),i=function(n){return n&&n.ngErrorLogger||Lj}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),r&&i(this._console,"ERROR CONTEXT",r)}_findContext(e){return e?function(n){return n.ngDebugContext}(e)||this._findContext(ih(e)):null}_findOriginalError(e){let t=e&&ih(e);for(;t&&ih(t);)t=ih(t);return t||null}}const HS=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(xe))();function qr(n){return n instanceof Function?n():n}var An=(()=>((An=An||{})[An.Important=1]="Important",An[An.DashCase=2]="DashCase",An))();function B_(n,e){return undefined(n,e)}function Ic(n){const e=n[3];return pr(e)?e[3]:e}function U_(n){return qS(n[13])}function j_(n){return qS(n[4])}function qS(n){for(;null!==n&&!pr(n);)n=n[4];return n}function Ia(n,e,t,r,i){if(null!=r){let s,o=!1;pr(r)?s=r:jr(r)&&(o=!0,r=r[0]);const a=ct(r);0===n&&null!==t?null==i?ZS(e,t,a):Ks(e,t,a,i||null,!0):1===n&&null!==t?Ks(e,t,a,i||null,!0):2===n?function(n,e,t){const r=oh(n,e);r&&function(n,e,t,r){tt(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function(n,e,t,r,i){const s=t[7];s!==ct(t)&&Ia(e,n,r,s,i);for(let a=10;a<t.length;a++){const l=t[a];Tc(l[1],l,n,e,r,s)}}(e,n,s,t,i)}}function $_(n,e,t){return tt(n)?n.createElement(e,t):null===t?n.createElement(e):n.createElementNS(t,e)}function YS(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,a_(i,-1)),t.splice(r,1)}function W_(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&YS(i,r),e>0&&(n[t-1][4]=r[4]);const s=zs(n,10+e);!function(n,e){Tc(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function QS(n,e){if(!(256&e[2])){const t=e[11];tt(t)&&t.destroyNode&&Tc(n,e,t,3,null,null),function(n){let e=n[13];if(!e)return z_(n[1],n);for(;e;){let t=null;if(jr(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)jr(e)&&z_(e[1],e),e=e[3];null===e&&(e=n),jr(e)&&z_(e[1],e),t=e&&e[4]}e=t}}(e)}}function z_(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof lc)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):ct(e[o]),l=r[i=t[s+2]],c=t[s+3];"boolean"==typeof c?a.removeEventListener(t[s],l,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(n,e),1===e[1].type&&tt(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&pr(e[3])){t!==e[3]&&YS(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function JS(n,e,t){return function(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===lt.None||i===lt.Emulated)return null}return qn(r,t)}(n,e.parent,t)}function Ks(n,e,t,r,i){tt(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function ZS(n,e,t){tt(n)?n.appendChild(e,t):e.appendChild(t)}function eA(n,e,t,r,i){null!==r?Ks(n,e,t,r,i):ZS(n,e,t)}function oh(n,e){return tt(n)?n.parentNode(e):e.parentNode}function tA(n,e,t){return rA(n,e,t)}let rA=function(n,e,t){return 40&n.type?qn(n,t):null};function ah(n,e,t,r){const i=JS(n,r,e),s=e[11],a=tA(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)eA(s,i,t[l],a,!1);else eA(s,i,t,a,!1)}function lh(n,e){if(null!==e){const t=e.type;if(3&t)return qn(e,n);if(4&t)return q_(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return lh(n,r);{const i=n[e.index];return pr(i)?q_(-1,i):ct(i)}}if(32&t)return B_(e,n)()||ct(n[e.index]);{const r=sA(n,e);return null!==r?Array.isArray(r)?r[0]:lh(Ic(n[16]),r):lh(n,e.next)}}return null}function sA(n,e){return null!==e?n[16][6].projection[e.projection]:null}function q_(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return lh(r,i)}return e[7]}function K_(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&Wt(ct(a),r),t.flags|=4),64!=(64&t.flags))if(8&l)K_(n,e,t.child,r,i,s,!1),Ia(e,n,i,a,s);else if(32&l){const c=B_(t,r);let u;for(;u=c();)Ia(e,n,i,u,s);Ia(e,n,i,a,s)}else 16&l?aA(n,e,r,t,i,s):Ia(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Tc(n,e,t,r,i,s){K_(t,r,n.firstChild,e,i,s,!1)}function aA(n,e,t,r,i,s){const o=t[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Ia(e,n,i,l[c],s);else K_(n,e,l,o[3],i,s,!0)}function lA(n,e,t){tt(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function Y_(n,e,t){tt(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function cA(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const uA="ng-template";function cH(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==cA(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function dA(n){return 4===n.type&&n.value!==uA}function uH(n,e,t){return e===(4!==n.type||t?n.value:uA)}function dH(n,e,t){let r=4;const i=n.attrs||[],s=function(n){for(let e=0;e<n.length;e++)if(XD(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!uH(n,l,t)||""===l&&1===e.length){if(vr(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!cH(n.attrs,c,t)){if(vr(r))return!1;o=!0}continue}const d=hH(8&r?"class":l,i,dA(n),t);if(-1===d){if(vr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==cA(f,c,0)||2&r&&c!==h){if(vr(r))return!1;o=!0}}}}else{if(!o&&!vr(r)&&!vr(l))return!1;if(o&&vr(l))continue;o=!1,r=l|1&r}}return vr(r)||o}function vr(n){return 0==(1&n)}function hH(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function hA(n,e,t=!1){for(let r=0;r<e.length;r++)if(dH(n,e[r],t))return!0;return!1}function _H(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function fA(n,e){return n?":not("+e.trim()+")":e}function mH(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!vr(o)&&(e+=fA(s,i),i=""),r=o,s=s||!vr(r);t++}return""!==i&&(e+=fA(s,i)),e}const Q={};function P(n){pA(we(),I(),Xt()+n,Ld())}function pA(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&Hd(e,s,t)}else{const s=n.preOrderHooks;null!==s&&$d(e,s,0,t)}rs(t)}function ch(n,e){return n<<17|e<<2}function br(n){return n>>17&32767}function Q_(n){return 2|n}function wi(n){return(131068&n)>>2}function J_(n,e){return-131069&n|e<<2}function X_(n){return 1|n}function IA(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];h_(i),o.contentQueries(2,e[s],s)}}}function Dc(n,e,t,r,i,s,o,a,l,c){const u=e.blueprint.slice();return u[0]=i,u[2]=140|r,UD(u),u[3]=u[15]=n,u[8]=t,u[10]=o||n&&n[10],u[11]=a||n&&n[11],u[12]=l||n&&n[12]||null,u[9]=c||n&&n[9]||null,u[6]=s,u[16]=2==e.type?n[16]:u,u}function Ta(n,e,t,r,i){let s=n.data[e];if(null===s)s=function(n,e,t,r,i){const s=HD(),o=l_(),l=n.data[e]=function(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(n,e,t,r,i),q.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function(){const n=q.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Hr(s,!0),s}function Da(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Sc(n,e,t){Bd(e);try{const r=n.viewQuery;null!==r&&pm(1,r,t);const i=n.template;null!==i&&TA(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&IA(n,e),n.staticViewQueries&&pm(2,n.viewQuery,t);const s=n.components;null!==s&&function(n,e){for(let t=0;t<e.length;t++)QH(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Ud()}}function Sa(n,e,t,r){const i=e[2];if(256==(256&i))return;Bd(e);const s=Ld();try{UD(e),function(n){q.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&TA(n,e,t,2,r);const o=3==(3&i);if(!s)if(o){const c=n.preOrderCheckHooks;null!==c&&Hd(e,c,null)}else{const c=n.preOrderHooks;null!==c&&$d(e,c,0,null),f_(e,0)}if(function(n){for(let e=U_(n);null!==e;e=j_(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(1024&i[2])&&a_(s,1),i[2]|=1024}}}(e),function(n){for(let e=U_(n);null!==e;e=j_(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];o_(r)&&Sa(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&IA(n,e),!s)if(o){const c=n.contentCheckHooks;null!==c&&Hd(e,c)}else{const c=n.contentHooks;null!==c&&$d(e,c,1),f_(e,1)}!function(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)rs(~i);else{const s=i,o=t[++r],a=t[++r];oU(o,s),a(2,e[s])}}}finally{rs(-1)}}(n,e);const a=n.components;null!==a&&function(n,e){for(let t=0;t<e.length;t++)YH(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&pm(2,l,r),!s)if(o){const c=n.viewCheckHooks;null!==c&&Hd(e,c)}else{const c=n.viewHooks;null!==c&&$d(e,c,2),f_(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,a_(e[3],-1))}finally{Ud()}}function MH(n,e,t,r){const i=e[10],s=!Ld(),o=BD(e);try{s&&!o&&i.begin&&i.begin(),o&&Sc(n,e,r),Sa(n,e,t,r)}finally{s&&!o&&i.end&&i.end()}}function TA(n,e,t,r,i){const s=Xt(),o=2&r;try{rs(-1),o&&e.length>20&&pA(n,e,20,Ld()),t(r,i)}finally{rs(s)}}function DA(n,e,t){if(e_(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function om(n,e,t){!jD()||(function(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||uc(t,e),Wt(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=gr(l);c&&WH(e,t,l);const u=dc(e,n,a,t);Wt(u,e),null!==o&&zH(0,a-i,u,l,0,o),c&&(Tn(t.index,e)[8]=u)}}(n,e,t,qn(t,e)),128==(128&t.flags)&&function(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,a=q.lFrame.currentDirectiveIndex;try{rs(o);for(let l=r;l<i;l++){const c=n.data[l],u=e[l];u_(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&OA(c,u)}}finally{rs(-1),u_(a)}}(n,e,t))}function am(n,e,t=qn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function SA(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=hh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function hh(n,e,t,r,i,s,o,a,l,c){const u=20+r,d=u+i,h=function(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Q);return t}(u,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function MA(n,e,t,r){const i=UA(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&jA(n).push(r,i.length-1))}function kA(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function Rn(n,e,t,r,i,s,o,a){const l=qn(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(WA(n,t,u,r,i),Od(e)&&function(n,e){const t=Tn(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,tt(s)?s.setProperty(l,r,i):g_(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function lm(n,e,t,r){let i=!1;if(jD()){const s=function(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];hA(t,o.selectors,!1)&&(i||(i=[]),Kd(uc(t,e),n,o.type),gr(o)?(NA(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,FA(t,n.data.length,s.length);for(let u=0;u<s.length;u++){const d=s[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=Da(n,e,s.length,null);for(let u=0;u<s.length;u++){const d=s[u];t.mergedAttrs=zd(t.mergedAttrs,d.hostAttrs),LA(n,t,e,c,d),$H(c,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),c++}!function(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,l=null;for(let c=e.directiveStart;c<r;c++){const u=i[c],d=u.inputs,h=null===s||dA(e)?null:GH(d,s);o.push(h),a=kA(d,c,a),l=kA(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}(n,t)}o&&function(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new Vs("301",`Export of name '${e[i+1]}' not found!`);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=zd(t.mergedAttrs,t.attrs),i}function PA(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(r,i,o)}}function OA(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function NA(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function $H(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;gr(e)&&(t[""]=n)}}function FA(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function LA(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=$s(i.type)),o=new lc(s,gr(i),null);n.blueprint[r]=o,t[r]=o,PA(n,e,0,r,Da(n,t,i.hostVars,Q),i)}function WH(n,e,t){const r=qn(e,n),i=SA(t),s=n[10],o=fh(n,Dc(n,i,null,t.onPush?64:16,r,e,s,s.createRenderer(r,t),null,null));n[e.index]=o}function Kr(n,e,t,r,i,s){const o=qn(n,e);!function(n,e,t,r,i,s,o){if(null==s)tt(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const a=null==o?ee(s):o(s,r||"",i);tt(n)?n.setAttribute(e,i,a,t):t?e.setAttributeNS(t,i,a):e.setAttribute(i,a)}}(e[11],o,s,n.value,t,r,i)}function zH(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?r.setInput(t,d,c,u):t[u]=d}}}function GH(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function VA(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function YH(n,e){const t=Tn(e,n);if(o_(t)){const r=t[1];80&t[2]?Sa(r,t,r.template,t[8]):t[5]>0&&um(t)}}function um(n){for(let r=U_(n);null!==r;r=j_(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];Sa(o,s,o.template,s[8])}else s[5]>0&&um(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Tn(t[r],n);o_(i)&&i[5]>0&&um(i)}}function QH(n,e){const t=Tn(e,n),r=t[1];(function(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),Sc(r,t,t[8])}function fh(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function dm(n){for(;n;){n[2]|=64;const e=Ic(n);if(jB(n)&&!e)return n;n=e}return null}function fm(n,e,t){const r=e[10];r.begin&&r.begin();try{Sa(n,e,n.template,t)}catch(i){throw $A(e,i),i}finally{r.end&&r.end()}}function BA(n){!function(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=F_(t),i=r[1];MH(i,r,i.template,t)}}(n[8])}function pm(n,e,t){h_(0),e(n,t)}const t$=(()=>Promise.resolve(null))();function UA(n){return n[7]||(n[7]=[])}function jA(n){return n.cleanup||(n.cleanup=[])}function HA(n,e,t){return(null===n||gr(n))&&(t=function(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(t[e.index])),t[11]}function $A(n,e){const t=n[9],r=t?t.get(yr,null):null;r&&r.handleError(e)}function WA(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function Ti(n,e,t){const r=Fd(e,n);!function(n,e,t){tt(n)?n.setValue(e,t):e.textContent=t}(n[11],r,t)}function ph(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Gg(i,a):2==s&&(r=Gg(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const Aa=new N("INJECTOR",-1);class zA{get(e,t=_c){if(t===_c){const r=new Error(`NullInjectorError: No provider for ${oe(e)}!`);throw r.name="NullInjectorError",r}return t}}const Ac=new N("Set Injector scope."),Rc={},i$={};let gm;function GA(){return void 0===gm&&(gm=new zA),gm}function qA(n,e=null,t=null,r){return new o$(n,t,e||GA(),r)}class o${constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&Wr(t,a=>this.processProvider(a,e,t)),Wr([e],a=>this.processInjectorType(a,[],s)),this.records.set(Aa,Ra(void 0,this));const o=this.records.get(Ac);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:oe(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=_c,r=j.Default){this.assertNotDestroyed();const i=va(this),s=Zi(void 0);try{if(!(r&j.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof N}(e)&&vi(e);a=l&&this.injectableDefInScope(l)?Ra(_m(e),Rc):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&j.Self?GA():this.parent).get(e,t=r&j.Optional&&t===_c?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[ya]=o[ya]||[]).unshift(oe(e)),i)throw o;return pS(o,e,"R3InjectorError",this.source)}throw o}finally{Zi(s),va(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(oe(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,r){if(!(e=V(e)))return!1;let i=wD(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=wD(s)),null==i)return!1;if(null!=i.imports&&!a){let u;r.push(o);try{Wr(i.imports,d=>{this.processInjectorType(d,t,r)&&(void 0===u&&(u=[]),u.push(d))})}finally{}if(void 0!==u)for(let d=0;d<u.length;d++){const{ngModule:h,providers:f}=u[d];Wr(f,p=>this.processProvider(p,h,f||Le))}}this.injectorDefTypes.add(o);const l=$s(o)||(()=>new o);this.records.set(o,Ra(l,Rc));const c=i.providers;if(null!=c&&!a){const u=e;Wr(c,d=>this.processProvider(d,u,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,r){let i=Ma(e=V(e))?e:V(e&&e.provide);const s=function(n,e,t){return YA(n)?Ra(void 0,n.useValue):Ra(function(n,e,t){let r;if(Ma(n)){const i=V(n);return $s(i)||_m(i)}if(YA(n))r=()=>V(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Gs(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))r=()=>m(V(n.useExisting));else{const i=V(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return $s(i)||_m(i);r=()=>new i(...Gs(n.deps))}return r}(n),Rc)}(e);if(Ma(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=Ra(void 0,Rc,!0),o.factory=()=>Gs(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,t){return t.value===Rc&&(t.value=i$,t.value=t.factory()),"object"==typeof t.value&&t.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=V(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function _m(n){const e=vi(n),t=null!==e?e.factory:$s(n);if(null!==t)return t;if(n instanceof N)throw new Error(`Token ${oe(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const e=n.length;if(e>0){const r=ss(e,"?");throw new Error(`Can't resolve all parameters for ${oe(n)}: (${r.join(", ")}).`)}const t=function(n){const e=n&&(n[Rd]||n[ID]);if(e){const t=function(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Error("unreachable")}function Ra(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function YA(n){return null!==n&&"object"==typeof n&&T_ in n}function Ma(n){return"function"==typeof n}const QA=function(n,e,t){return function(n,e=null,t=null,r){const i=qA(n,e,t,r);return i._resolveInjectorDefTypes(),i}({name:t},e,n,t)};let me=(()=>{class n{static create(t,r){return Array.isArray(t)?QA(t,r,""):QA(t.providers,t.parent,t.name||"")}}return n.THROW_IF_NOT_FOUND=_c,n.NULL=new zA,n.\u0275prov=M({token:n,providedIn:"any",factory:()=>m(Aa)}),n.__NG_ELEMENT_ID__=-1,n})();function S$(n,e){jd(F_(n)[1],mt())}function Mn(n){let e=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(gr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=Cm(n.inputs),o.declaredInputs=Cm(n.declaredInputs),o.outputs=Cm(n.outputs);const a=i.hostBindings;a&&k$(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&R$(n,l),c&&M$(n,c),zg(n.inputs,i.inputs),zg(n.declaredInputs,i.declaredInputs),zg(n.outputs,i.outputs),gr(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Mn&&(t=!1)}}e=Object.getPrototypeOf(e)}!function(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=zd(i.hostAttrs,t=zd(t,i.hostAttrs))}}(r)}function Cm(n){return n===na?{}:n===Le?[]:n}function R$(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function M$(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function k$(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let gh=null;function ka(){if(!gh){const n=xe.Symbol;if(n&&n.iterator)gh=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(gh=r)}}}return gh}class Cr{constructor(e){this.wrapped=e}static wrap(e){return new Cr(e)}static unwrap(e){return Cr.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Cr}}function kc(n){return!!wm(n)&&(Array.isArray(n)||!(n instanceof Map)&&ka()in n)}function wm(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Yr(n,e,t){return n[e]=t}function zt(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Si(n,e,t,r){const i=I();return zt(i,la(),e)&&(we(),Kr(nt(),i,n,e,t,r)),Si}function Ye(n,e,t,r,i,s,o,a){const l=I(),c=we(),u=n+20,d=c.firstCreatePass?function(n,e,t,r,i,s,o,a,l){const c=e.consts,u=Ta(e,n,4,o||null,ns(c,a));lm(e,t,u,ns(c,l)),jd(e,u);const d=u.tViews=hh(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,s,o):c.data[u];Hr(d,!1);const h=l[11].createComment("");ah(c,l,h,d),Wt(h,l),fh(l,l[u]=VA(h,l,h,d)),Nd(d)&&om(c,l,d),null!=o&&am(l,d,a)}function Pc(n){return aa(q.lFrame.contextLView,20+n)}function b(n,e=j.Default){const t=I();return null===t?m(n,e):sS(mt(),t,V(n),e)}function he(n,e,t){const r=I();return zt(r,la(),e)&&Rn(we(),nt(),r,n,e,r[11],t,!1),he}function Am(n,e,t,r,i){const o=i?"class":"style";WA(n,t,e.inputs[o],o,r)}function C(n,e,t,r){const i=I(),s=we(),o=20+n,a=i[11],l=i[o]=$_(a,e,q.lFrame.currentNamespace),c=s.firstCreatePass?function(n,e,t,r,i,s,o){const a=e.consts,c=Ta(e,n,2,i,ns(a,s));return lm(e,t,c,ns(a,o)),null!==c.attrs&&ph(c,c.attrs,!1),null!==c.mergedAttrs&&ph(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,t,r):s.data[o];Hr(c,!0);const u=c.mergedAttrs;null!==u&&Wd(a,l,u);const d=c.classes;null!==d&&Y_(a,l,d);const h=c.styles;null!==h&&lA(a,l,h),64!=(64&c.flags)&&ah(s,i,l,c),0===q.lFrame.elementDepthCount&&Wt(l,i),q.lFrame.elementDepthCount++,Nd(c)&&(om(s,i,c),DA(s,c,i)),null!==r&&am(i,c)}function w(){let n=mt();l_()?c_():(n=n.parent,Hr(n,!1));const e=n;q.lFrame.elementDepthCount--;const t=we();t.firstCreatePass&&(jd(t,n),e_(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(e)&&Am(t,e,I(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(e)&&Am(t,e,I(),e.stylesWithoutHost,!1)}function Jn(n,e,t,r){C(n,e,t,r),w()}function Rm(n,e,t){const r=I(),i=we(),s=n+20,o=i.firstCreatePass?function(n,e,t,r,i){const s=e.consts,o=ns(s,r),a=Ta(e,n,8,"ng-container",o);return null!==o&&ph(a,o,!0),lm(e,t,a,ns(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];Hr(o,!0);const a=r[s]=r[11].createComment("");ah(i,r,a,o),Wt(a,r),Nd(o)&&(om(i,r,o),DA(i,o,r)),null!=t&&am(r,o)}function Mm(){let n=mt();const e=we();l_()?c_():(n=n.parent,Hr(n,!1)),e.firstCreatePass&&(jd(e,n),e_(n)&&e.queries.elementEnd(n))}function Qr(){return I()}function yh(n){return!!n&&"function"==typeof n.then}function F0(n){return!!n&&"function"==typeof n.subscribe}const km=F0;function Ge(n,e,t,r){const i=I(),s=we(),o=mt();return L0(s,i,i[11],o,n,e,!!t,r),Ge}function xm(n,e){const t=mt(),r=I(),i=we();return L0(i,r,HA(d_(i.data),t,r),t,n,e,!1),xm}function L0(n,e,t,r,i,s,o,a){const l=Nd(r),u=n.firstCreatePass&&jA(n),d=e[8],h=UA(e);let f=!0;if(3&r.type||a){const g=qn(r,e),v=a?a(g):g,y=h.length,T=a?S=>a(ct(S[r.index])):r.index;if(tt(t)){let S=null;if(!a&&l&&(S=function(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==S)(S.__ngLastListenerFn__||S).__ngNextListenerFn__=s,S.__ngLastListenerFn__=s,f=!1;else{s=Pm(r,e,d,s,!1);const z=t.listen(v,i,s);h.push(s,z),u&&u.push(i,T,y,y+1)}}else s=Pm(r,e,d,s,!0),v.addEventListener(i,s,o),h.push(s),u&&u.push(i,T,y,o)}else s=Pm(r,e,d,s,!1);const p=r.outputs;let _;if(f&&null!==p&&(_=p[i])){const g=_.length;if(g)for(let v=0;v<g;v+=2){const Ie=e[_[v]][_[v+1]].subscribe(s),ke=h.length;h.push(s,Ie),u&&u.push(i,r.index,ke,-(ke+1))}}}function V0(n,e,t,r){try{return!1!==t(r)}catch(i){return $A(n,i),!1}}function Pm(n,e,t,r,i){return function s(o){if(o===Function)return r;const a=2&n.flags?Tn(n.index,e):e;0==(32&e[2])&&dm(a);let l=V0(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)l=V0(e,0,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function Dt(n=1){return function(n){return(q.lFrame.contextLView=function(n,e){for(;n>0;)e=e[15],n--;return e}(n,q.lFrame.contextLView))[8]}(n)}function dW(n,e){let t=null;const r=function(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?hA(n,s,!0):_H(r,s))return i}else t=i}return t}function Jr(n){const e=I()[16][6];if(!e.projection){const r=e.projection=ss(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?dW(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function kn(n,e=0,t){const r=I(),i=we(),s=Ta(i,20+n,16,null,t||null);null===s.projection&&(s.projection=e),c_(),64!=(64&s.flags)&&function(n,e,t){aA(e[11],0,e,t,JS(n,t,e),tA(t.parent||e[6],t,e))}(i,r,s)}function K0(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?br(s):wi(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];pW(n[a],e)&&(l=!0,n[a+1]=r?X_(u):Q_(u)),a=r?br(u):wi(u)}l&&(n[t+1]=r?Q_(s):X_(s))}function pW(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&ma(n,e)>=0}function en(n,e){return function(n,e,t,r){const i=I(),s=we(),o=function(n){const e=q.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Xt()],o=function(n,e){return e>=n.expandoStartIndex}(n,t);(function(n,e){return 0!=(n.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function(n,e,t,r){const i=d_(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Oc(t=Fm(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=Fm(i,n,e,t,r),null===s){let l=function(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==wi(r))return n[br(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=Fm(null,n,e,l[1],r),l=Oc(l,e.attrs,r),function(n,e,t,r){n[br(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Oc(r,n[s].hostAttrs,t);return Oc(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=br(o),l=wi(o);n[r]=t;let u,c=!1;if(Array.isArray(t)){const d=t;u=d[1],(null===u||ma(d,u)>0)&&(c=!0)}else u=t;if(i)if(0!==l){const h=br(n[a+1]);n[r+1]=ch(h,a),0!==h&&(n[h+1]=J_(n[h+1],r)),n[a+1]=function(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=ch(a,0),0!==a&&(n[a+1]=J_(n[a+1],r)),a=r;else n[r+1]=ch(l,0),0===a?a=r:n[l+1]=J_(n[l+1],r),l=r;c&&(n[r+1]=Q_(n[r+1])),K0(n,u,r,!0),K0(n,u,r,!1),function(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&ma(s,e)>=0&&(t[r+1]=X_(t[r+1]))}(e,u,n,r,s),o=ch(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==Q&&zt(i,o,e)&&function(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1];vh(function(n){return 1==(1&n)}(c)?sR(l,e,t,i,wi(c),o):void 0)||(vh(s)||function(n){return 2==(2&n)}(c)&&(s=sR(l,null,t,i,a,o)),function(n,e,t,r,i){const s=tt(n);if(e)i?s?n.addClass(t,r):t.classList.add(r):s?n.removeClass(t,r):t.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:An.DashCase;if(null==i)s?n.removeStyle(t,r,o):t.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=An.Important),s?n.setStyle(t,r,i,o):t.style.setProperty(r,i,a?"important":"")}}}(r,o,Fd(Xt(),t),i,s))}(s,s.data[Xt()],i,i[11],n,i[o+1]=function(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=oe(Sn(n)))),n}(e,t),r,o)}(n,e,null,!0),en}function Fm(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Oc(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Oc(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Dn(n,o,!!t||e[++s]))}return void 0===n?null:n}function sR(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[i+1];h===Q&&(h=d?Le:void 0);let f=d?E_(h,r):u===r?h:void 0;if(c&&!vh(f)&&(f=E_(l,r)),vh(f)&&(a=f,o))return a;const p=n[i+1];i=o?br(p):wi(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=E_(l,r))}return a}function vh(n){return void 0!==n}function F(n,e=""){const t=I(),r=we(),i=n+20,s=r.firstCreatePass?Ta(r,i,1,e,null):r.data[i],o=t[i]=function(n,e){return tt(n)?n.createText(e):n.createTextNode(e)}(t[11],e);ah(r,t,o,s),Hr(s,!1)}function Je(n){return St("",n,""),Je}function St(n,e,t){const r=I(),i=function(n,e,t,r){return zt(n,la(),t)?e+ee(t)+r:Q}(r,n,e,t);return i!==Q&&Ti(r,Xt(),i),St}function $a(n,e,t){const r=I();return zt(r,la(),e)&&Rn(we(),nt(),r,n,e,r[11],t,!0),$a}function Lm(n,e,t){const r=I();if(zt(r,la(),e)){const s=we(),o=nt();Rn(s,o,r,n,e,HA(d_(s.data),o,r),t,!0)}return Lm}const Qs=void 0;var YW=["en",[["a","p"],["AM","PM"],Qs],[["AM","PM"],Qs,Qs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qs,"{1} 'at' {0}",Qs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===t?1:5}];let Wa={};function tn(n){const e=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=TR(e);if(t)return t;const r=e.split("-")[0];if(t=TR(r),t)return t;if("en"===r)return YW;throw new Error(`Missing locale data for the locale "${n}".`)}function TR(n){return n in Wa||(Wa[n]=xe.ng&&xe.ng.common&&xe.ng.common.locales&&xe.ng.common.locales[n]),Wa[n]}var x=(()=>((x=x||{})[x.LocaleId=0]="LocaleId",x[x.DayPeriodsFormat=1]="DayPeriodsFormat",x[x.DayPeriodsStandalone=2]="DayPeriodsStandalone",x[x.DaysFormat=3]="DaysFormat",x[x.DaysStandalone=4]="DaysStandalone",x[x.MonthsFormat=5]="MonthsFormat",x[x.MonthsStandalone=6]="MonthsStandalone",x[x.Eras=7]="Eras",x[x.FirstDayOfWeek=8]="FirstDayOfWeek",x[x.WeekendRange=9]="WeekendRange",x[x.DateFormat=10]="DateFormat",x[x.TimeFormat=11]="TimeFormat",x[x.DateTimeFormat=12]="DateTimeFormat",x[x.NumberSymbols=13]="NumberSymbols",x[x.NumberFormats=14]="NumberFormats",x[x.CurrencyCode=15]="CurrencyCode",x[x.CurrencySymbol=16]="CurrencySymbol",x[x.CurrencyName=17]="CurrencyName",x[x.Currencies=18]="Currencies",x[x.Directionality=19]="Directionality",x[x.PluralCase=20]="PluralCase",x[x.ExtraData=21]="ExtraData",x))();const bh="en-US";let DR=bh;function Vm(n){wn(n,"Expected localeId to be defined"),"string"==typeof n&&(DR=n.toLowerCase().replace(/_/g,"-"))}class JR{}const ZR="ngComponent";class Y3{resolveComponentFactory(e){throw function(n){const e=Error(`No component factory found for ${oe(n)}. Did you add it to @NgModule.entryComponents?`);return e[ZR]=n,e}(e)}}let Ai=(()=>{class n{}return n.NULL=new Y3,n})();function Th(...n){}function Ga(n,e){return new Ae(qn(n,e))}const X3=function(){return Ga(mt(),I())};let Ae=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=X3,n})();function eM(n){return n instanceof Ae?n.nativeElement:n}class Js{}let Dh=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>ez(),n})();const ez=function(){const n=I(),t=Tn(mt().index,n);return function(n){return n[11]}(jr(t)?t:n)};let Gm=(()=>{class n{}return n.\u0275prov=M({token:n,providedIn:"root",factory:()=>null}),n})();class cs{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const qm=new cs("12.2.9");class tM{constructor(){}supports(e){return kc(e)}create(e){return new iz(e)}}const rz=(n,e)=>e;class iz{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||rz}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<rM(r,i,s)?t:r,a=rM(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!kc(e))throw new Error(`Error trying to diff '${oe(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[ka()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new sz(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new nM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class sz{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oz{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class nM{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new oz,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rM(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class iM{constructor(){}supports(e){return e instanceof Map||wm(e)}create(){return new az}}class az{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||wm(e)))throw new Error(`Error trying to diff '${oe(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new lz(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class lz{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sM(){return new qa([new tM])}let qa=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||sM()),deps:[[n,new Ci,new Be]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'`)}}return n.\u0275prov=M({token:n,providedIn:"root",factory:sM}),n})();function oM(){return new Ka([new iM])}let Ka=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||oM()),deps:[[n,new Ci,new Be]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return n.\u0275prov=M({token:n,providedIn:"root",factory:oM}),n})();function Sh(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(ct(s)),pr(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1].firstChild;null!==c&&Sh(l[1],l,c,r)}const o=t.type;if(8&o)Sh(n,e,t.child,r);else if(32&o){const a=B_(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=sA(e,t);if(Array.isArray(a))r.push(...a);else{const l=Ic(e[16]);Sh(l[1],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Bc{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Sh(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(pr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(W_(e,r),zs(t,r))}this._attachedToViewContainer=!1}QS(this._lView[1],this._lView)}onDestroy(e){MA(this._lView[1],this._lView,null,e)}markForCheck(){dm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){fm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,e,t){Vd(!0);try{fm(n,e,t)}finally{Vd(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,e){Tc(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class uz extends Bc{constructor(e){super(e),this._view=e}detectChanges(){BA(this._view)}checkNoChanges(){!function(n){Vd(!0);try{BA(n)}finally{Vd(!1)}}(this._view)}get context(){return null}}const hz=function(n){return function(n,e,t){if(Od(n)&&!t){const r=Tn(n.index,e);return new Bc(r,r)}return 47&n.type?new Bc(e[16],e):null}(mt(),I(),16==(16&n))};let Xs=(()=>{class n{}return n.__NG_ELEMENT_ID__=hz,n})();const gz=[new iM],mz=new qa([new tM]),yz=new Ka(gz),bz=function(){return Ah(mt(),I())};let xn=(()=>{class n{}return n.__NG_ELEMENT_ID__=bz,n})();const Ez=xn,Cz=class extends Ez{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=Dc(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(t)),Sc(t,r,e),new Bc(r)}};function Ah(n,e){return 4&n.type?new Cz(e,n,Ga(n,e)):null}class ei{}class aM{}const Tz=function(){return uM(mt(),I())};let nn=(()=>{class n{}return n.__NG_ELEMENT_ID__=Tz,n})();const Sz=nn,lM=class extends Sz{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ga(this._hostTNode,this._hostLView)}get injector(){return new da(this._hostTNode,this._hostLView)}get parentInjector(){const e=qd(this._hostTNode,this._hostLView);if(eS(e)){const t=ua(e,this._hostLView),r=ca(e);return new da(t[1].data[r+8],t)}return new da(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=cM(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,s){const o=r||this.parentInjector;if(!s&&null==e.ngModule&&o){const l=o.get(ei,null);l&&(s=l)}const a=e.create(o,i,void 0,s);return this.insert(a.hostView,t),a}insert(e,t){const r=e._lView,i=r[1];if(function(n){return pr(n[3])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=r[3],h=new lM(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],Jd(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(i,r,o,s);const a=q_(s,o),l=r[11],c=oh(l,o[7]);return null!==c&&function(n,e,t,r,i,s){r[0]=i,r[6]=e,Tc(n,r,t,1,i,s)}(i,o[6],l,r,c,a),e.attachToViewContainerRef(),Jd(Km(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=cM(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=W_(this._lContainer,t);r&&(zs(Km(this._lContainer),t),QS(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=W_(this._lContainer,t);return r&&null!=zs(Km(this._lContainer),t)?new Bc(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function cM(n){return n[8]}function Km(n){return n[8]||(n[8]=[])}function uM(n,e){let t;const r=e[n.index];if(pr(r))t=r;else{let i;if(8&n.type)i=ct(r);else{const s=e[11];i=s.createComment("");const o=qn(n,e);Ks(s,oh(s,o),i,function(n,e){return tt(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=VA(r,e,i,n),fh(e,t)}return new lM(t,n,e)}const Xa={};class MM extends Ai{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Qt(e);return new xM(t,this.ngModule)}}function kM(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}const w8=new N("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>HS});class xM extends JR{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function(n){return n.map(mH).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return kM(this.componentDef.inputs)}get outputs(){return kM(this.componentDef.outputs)}create(e,t,r,i){const s=(i=i||this.ngModule)?function(n,e){return{get:(t,r,i)=>{const s=n.get(t,Xa,i);return s!==Xa||r===Xa?s:e.get(t,r,i)}}}(e,i.injector):e,o=s.get(Js,VD),a=s.get(Gm,null),l=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=r?function(n,e,t){if(tt(n))return n.selectRootElement(e,t===lt.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(l,r,this.componentDef.encapsulation):$_(o.createRenderer(null,this.componentDef),c,function(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,h=function(n,e){return{components:[],scheduler:n||HS,clean:t$,playerHandler:e||null,flags:0}}(),f=hh(0,null,null,1,0,null,null,null,null,null),p=Dc(null,f,h,d,null,null,o,l,a,s);let _,g;Bd(p);try{const v=function(n,e,t,r,i,s){const o=t[1];t[20]=n;const l=Ta(o,20,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(ph(l,c,!0),null!==n&&(Wd(i,n,c),null!==l.classes&&Y_(i,n,l.classes),null!==l.styles&&lA(i,n,l.styles)));const u=r.createRenderer(n,e),d=Dc(t,SA(e),null,e.onPush?64:16,t[20],l,r,u,s||null,null);return o.firstCreatePass&&(Kd(uc(l,t),o,e.type),NA(o,l),FA(l,t.length,1)),fh(t,d),t[20]=d}(u,this.componentDef,p,o,l);if(u)if(r)Wd(l,u,["ng-version",qm.full]);else{const{attrs:y,classes:T}=function(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!vr(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);y&&Wd(l,u,y),T&&T.length>0&&Y_(l,u,T.join(" "))}if(g=s_(f,20),void 0!==t){const y=g.projection=[];for(let T=0;T<this.ngContentSelectors.length;T++){const S=t[T];y.push(null!=S?Array.from(S):null)}}_=function(n,e,t,r,i){const s=t[1],o=function(n,e,t){const r=mt();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),LA(n,r,e,Da(n,e,1,null),t));const i=dc(e,n,r.directiveStart,r);Wt(i,e);const s=qn(r,e);return s&&Wt(s,e),i}(s,t,e);if(r.components.push(o),n[8]=o,i&&i.forEach(l=>l(o,e)),e.contentQueries){const l=mt();e.contentQueries(1,o,l.directiveStart)}const a=mt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(rs(a.index),PA(t[1],a,0,a.directiveStart,a.directiveEnd,e),OA(e,o)),o}(v,this.componentDef,p,h,[S$]),Sc(f,p,null)}finally{Ud()}return new D8(this.componentType,_,Ga(g,p),p,g)}}class D8 extends class{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new uz(i),this.componentType=e}get injector(){return new da(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const Za=new Map;class R8 extends ei{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new MM(this);const r=Wn(e),i=function(n){return n[PB]||null}(e);i&&Vm(i),this._bootstrapComponents=qr(r.bootstrap),this._r3Injector=qA(e,t,[{provide:ei,useValue:this},{provide:Ai,useValue:this.componentFactoryResolver}],oe(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=me.THROW_IF_NOT_FOUND,r=j.Default){return e===me||e===ei||e===Aa?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ay extends aM{constructor(e){super(),this.moduleType=e,null!==Wn(e)&&function(n){const e=new Set;!function t(r){const i=Wn(r,!0),s=i.id;null!==s&&(function(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${oe(e)} vs ${oe(e.name)}`)}(s,Za.get(s),r),Za.set(s,r));const o=qr(i.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new R8(this.moduleType,e)}}function qc(n,e){const t=n[e];return t===Q?void 0:t}function FM(n,e,t,r,i,s){const o=e+t;return zt(n,o,i)?Yr(n,o+1,s?r.call(s,i):r(i)):qc(n,o+1)}function LM(n,e,t,r,i,s,o){const a=e+t;return function(n,e,t,r){const i=zt(n,e,t);return zt(n,e+1,r)||i}(n,a,i,s)?Yr(n,a+2,o?r.call(o,i,s):r(i,s)):qc(n,a+2)}function to(n,e){const t=we();let r;const i=n+20;t.firstCreatePass?(r=function(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}throw new Vs("302",`The pipe '${n}' could not be found!`)}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=$s(r.type)),o=Zi(b);try{const a=Gd(!1),l=s();return Gd(a),function(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,I(),i,l),l}finally{Zi(o)}}function Kc(n,e,t){const r=n+20,i=I(),s=aa(i,r);return Qc(i,Yc(i,r)?FM(i,Jt(),e,s.transform,t,s):s.transform(t))}function ly(n,e,t,r){const i=n+20,s=I(),o=aa(s,i);return Qc(s,Yc(s,i)?LM(s,Jt(),e,o.transform,t,r,o):o.transform(t,r))}function Yc(n,e){return n[1].data[e].pure}function Qc(n,e){return Cr.isWrapped(e)&&(e=Cr.unwrap(e),n[q.lFrame.bindingIndex]=Q),e}function cy(n){return e=>{setTimeout(n,void 0,e)}}const Fe=class extends Ee{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,s,o;let a=e,l=t||(()=>null),c=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),l=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(l=cy(l),a&&(a=cy(a)),c&&(c=cy(c)));const u=super.subscribe({next:a,error:l,complete:c});return e instanceof ue&&e.add(u),u}};function W8(){return this._results[ka()]()}class Ph{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=ka(),r=Ph.prototype;r[t]||(r[t]=W8)}get changes(){return this._changes||(this._changes=new Fe)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=Kn(e);(this._changesDetected=!function(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class uy{constructor(e){this.queryList=e,this.matches=null}clone(){return new uy(this.queryList)}setDirty(){this.queryList.setDirty()}}class dy{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new dy(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==zM(e,t).matches&&this.queries[t].setDirty()}}class jM{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class hy{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new hy(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class fy{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new fy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,q8(t,s)),this.matchTNodeWithReadOption(e,t,Yd(t,e,s,!1,!1))}else r===xn?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Yd(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Ae||i===nn||i===xn&&4&t.type)this.addMatch(t.index,-2);else{const s=Yd(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function q8(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function Y8(n,e,t,r){return-1===t?function(n,e){return 11&n.type?Ga(n,e):4&n.type?Ah(n,e):null}(e,n):-2===t?function(n,e,t){return t===Ae?Ga(e,n):t===xn?Ah(e,n):t===nn?uM(e,n):void 0}(n,e,r):dc(n,n[1],t,e)}function HM(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:Y8(e,s[c],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function py(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=HM(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&py(h[1],h,c,r)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];py(f[1],f,c,r)}}}}}return r}function el(n){const e=I(),t=we(),r=zD();h_(r+1);const i=zM(t,r);if(n.dirty&&BD(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?py(t,e,r,[]):HM(t,e,i,r);n.reset(s,eM),n.notifyOnChanges()}return!0}return!1}function Oh(n,e,t){const r=we();r.firstCreatePass&&(function(n,e,t){null===n.queries&&(n.queries=new hy),n.queries.track(new fy(e,t))}(r,new jM(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),function(n,e,t){const r=new Ph(4==(4&t));MA(n,e,r,r.destroy),null===e[19]&&(e[19]=new dy),e[19].queries.push(new uy(r))}(r,I(),e)}function tl(){return function(n,e){return n[19].queries[e].queryList}(I(),zD())}function zM(n,e){return n.queries.getByIndex(e)}function _y(n,e){return Ah(n,e)}const Xc=new N("Application Initializer");let rl=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Th,this.reject=Th,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(yh(s))t.push(s);else if(km(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(m(Xc,8))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();const Zc=new N("AppId"),TG={provide:Zc,useFactory:function(){return`${Cy()}${Cy()}${Cy()}`},deps:[]};function Cy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ck=new N("Platform Initializer"),ds=new N("Platform ID"),uk=new N("appBootstrapListener");let Lh=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();const Ri=new N("LocaleId"),dk=new N("DefaultCurrencyCode");class SG{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const wy=function(n){return new ay(n)},AG=wy,RG=function(n){return Promise.resolve(wy(n))},hk=function(n){const e=wy(n),r=qr(Wn(n).declarations).reduce((i,s)=>{const o=Qt(s);return o&&i.push(new xM(o)),i},[]);return new SG(e,r)},MG=hk,kG=function(n){return Promise.resolve(hk(n))};let no=(()=>{class n{constructor(){this.compileModuleSync=AG,this.compileModuleAsync=RG,this.compileModuleAndAllComponentsSync=MG,this.compileModuleAndAllComponentsAsync=kG}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();const OG=(()=>Promise.resolve(0))();function Iy(n){"undefined"==typeof Zone?OG.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Y{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fe(!1),this.onMicrotaskEmpty=new Fe(!1),this.onStable=new Fe(!1),this.onError=new Fe(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let n=xe.requestAnimationFrame,e=xe.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(n){const e=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(xe,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Dy(n),n.isCheckStableRunning=!0,Ty(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Dy(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return fk(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),pk(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return fk(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),pk(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Dy(n),Ty(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Y.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Y.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,FG,Th,Th);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const FG={};function Ty(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Dy(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function fk(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function pk(n){n._nesting--,Ty(n)}class BG{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fe,this.onMicrotaskEmpty=new Fe,this.onStable=new Fe,this.onError=new Fe}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let Sy=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Y.assertNotInAngularZone(),Iy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Iy(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(m(Y))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})(),gk=(()=>{class n{constructor(){this._applications=new Map,Ay.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Ay.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();class UG{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let Ay=new UG,_k=!0,mk=!1;function Ry(){return mk=!0,_k}let Sr;const yk=new N("AllowMultipleToken");class My{constructor(e,t){this.name=e,this.token=t}}function vk(n,e,t=[]){const r=`Platform: ${e}`,i=new N(r);return(s=[])=>{let o=bk();if(!o||o.injector.get(yk,!1))if(n)n(t.concat(s).concat({provide:i,useValue:!0}));else{const a=t.concat(s).concat({provide:i,useValue:!0},{provide:Ac,useValue:"platform"});!function(n){if(Sr&&!Sr.destroyed&&!Sr.injector.get(yk,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Sr=n.get(Ek);const e=n.get(ck,null);e&&e.forEach(t=>t())}(me.create({providers:a,name:r}))}return function(n){const e=bk();if(!e)throw new Error("No platform exists!");if(!e.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function bk(){return Sr&&!Sr.destroyed?Sr:null}let Ek=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const a=function(n,e){let t;return t="noop"===n?new BG:("zone.js"===n?void 0:n)||new Y({enableLongStackTrace:Ry(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),l=[{provide:Y,useValue:a}];return a.run(()=>{const c=me.create({providers:l,parent:this.injector,name:t.moduleType.name}),u=t.create(c),d=u.injector.get(yr,null);if(!d)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});u.onDestroy(()=>{ky(this._modules,u),h.unsubscribe()})}),function(n,e,t){try{const r=t();return yh(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(d,a,()=>{const h=u.injector.get(rl);return h.runInitializers(),h.donePromise.then(()=>(Vm(u.injector.get(Ri,bh)||bh),this._moduleDoBootstrap(u),u))})})}bootstrapModule(t,r=[]){const i=Ck({},r);return function(n,e,t){const r=new ay(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(ro);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${oe(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(m(me))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();function Ck(n,e){return Array.isArray(e)?e.reduce(Ck,n):Object.assign(Object.assign({},n),e)}let ro=(()=>{class n{constructor(t,r,i,s,o){this._zone=t,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new W(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),l=new W(c=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Y.assertNotInAngularZone(),Iy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{Y.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{u.unsubscribe(),d.unsubscribe()}});this.isStable=yD(a,l.pipe(bD()))}bootstrap(t,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=t instanceof JR?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);const s=function(n){return n.isBoundToModule}(i)?void 0:this._injector.get(ei),a=i.create(me.NULL,[],r||i.selector,s),l=a.location.nativeElement,c=a.injector.get(Sy,null),u=c&&a.injector.get(gk);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),ky(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;ky(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(uk,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(m(Y),m(me),m(yr),m(Ai),m(rl))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();function ky(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Bh{}class t4{}const n4={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let r4=(()=>{class n{constructor(t,r){this._compiler=t,this._config=r||n4}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[r,i]=t.split("#");return void 0===i&&(i="default"),dr(255)(r).then(s=>s[i]).then(s=>Dk(s,r,i)).then(s=>this._compiler.compileModuleAsync(s))}loadFactory(t){let[r,i]=t.split("#"),s="NgFactory";return void 0===i&&(i="default",s=""),dr(255)(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(o=>o[i+s]).then(o=>Dk(o,r,i))}}return n.\u0275fac=function(t){return new(t||n)(m(no),m(t4,8))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();function Dk(n,e,t){if(!n)throw new Error(`Cannot find '${t}' in '${e}'`);return n}const f4=vk(null,"core",[{provide:ds,useValue:"unknown"},{provide:Ek,deps:[me]},{provide:gk,deps:[]},{provide:Lh,deps:[]}]),y4=[{provide:ro,useClass:ro,deps:[Y,me,yr,Ai,rl]},{provide:w8,deps:[Y],useFactory:function(n){let e=[];return n.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:rl,useClass:rl,deps:[[new Be,Xc]]},{provide:no,useClass:no,deps:[]},TG,{provide:qa,useFactory:function(){return mz},deps:[]},{provide:Ka,useFactory:function(){return yz},deps:[]},{provide:Ri,useFactory:function(n){return Vm(n=n||"undefined"!=typeof $localize&&$localize.locale||bh),n},deps:[[new ba(Ri),new Be,new Ci]]},{provide:dk,useValue:"USD"}];let b4=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(m(ro))},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({providers:y4}),n})(),Yh=null;function fs(){return Yh}const L=new N("DocumentToken");let oo=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({factory:v6,token:n,providedIn:"platform"}),n})();function v6(){return m(Qk)}const b6=new N("Location Initialized");let Qk=(()=>{class n extends oo{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return fs().getBaseHref(this._doc)}onPopState(t){const r=fs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=fs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Jk()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Jk()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(m(L))},n.\u0275prov=M({factory:E6,token:n,providedIn:"platform"}),n})();function Jk(){return!!window.history.pushState}function E6(){return new Qk(m(L))}function Gy(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Xk(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ki(n){return n&&"?"!==n[0]?"?"+n:n}let ol=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({factory:C6,token:n,providedIn:"root"}),n})();function C6(n){const e=m(L).location;return new Zk(m(oo),e&&e.origin||"")}const qy=new N("appBaseHref");let Zk=(()=>{class n extends ol{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Gy(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ki(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+ki(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+ki(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(m(oo),m(qy,8))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})(),w6=(()=>{class n extends ol{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Gy(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+ki(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+ki(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(m(oo),m(qy,8))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})(),al=(()=>{class n{constructor(t,r){this._subject=new Fe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Xk(ex(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ki(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ex(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ki(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ki(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.\u0275fac=function(t){return new(t||n)(m(ol),m(oo))},n.normalizeQueryParams=ki,n.joinWithSlash=Gy,n.stripTrailingSlash=Xk,n.\u0275prov=M({factory:I6,token:n,providedIn:"root"}),n})();function I6(){return new al(m(ol),m(oo))}function ex(n){return n.replace(/\/index.html$/,"")}var ut=(()=>((ut=ut||{})[ut.Zero=0]="Zero",ut[ut.One=1]="One",ut[ut.Two=2]="Two",ut[ut.Few=3]="Few",ut[ut.Many=4]="Many",ut[ut.Other=5]="Other",ut))(),at=(()=>((at=at||{})[at.Format=0]="Format",at[at.Standalone=1]="Standalone",at))(),ge=(()=>((ge=ge||{})[ge.Narrow=0]="Narrow",ge[ge.Abbreviated=1]="Abbreviated",ge[ge.Wide=2]="Wide",ge[ge.Short=3]="Short",ge))(),Ze=(()=>((Ze=Ze||{})[Ze.Short=0]="Short",Ze[Ze.Medium=1]="Medium",Ze[Ze.Long=2]="Long",Ze[Ze.Full=3]="Full",Ze))(),$=(()=>(($=$||{})[$.Decimal=0]="Decimal",$[$.Group=1]="Group",$[$.List=2]="List",$[$.PercentSign=3]="PercentSign",$[$.PlusSign=4]="PlusSign",$[$.MinusSign=5]="MinusSign",$[$.Exponential=6]="Exponential",$[$.SuperscriptingExponent=7]="SuperscriptingExponent",$[$.PerMille=8]="PerMille",$[$.Infinity=9]="Infinity",$[$.NaN=10]="NaN",$[$.TimeSeparator=11]="TimeSeparator",$[$.CurrencyDecimal=12]="CurrencyDecimal",$[$.CurrencyGroup=13]="CurrencyGroup",$))();function Qh(n,e){return tr(tn(n)[x.DateFormat],e)}function Jh(n,e){return tr(tn(n)[x.TimeFormat],e)}function Xh(n,e){return tr(tn(n)[x.DateTimeFormat],e)}function er(n,e){const t=tn(n),r=t[x.NumberSymbols][e];if(void 0===r){if(e===$.CurrencyDecimal)return t[x.NumberSymbols][$.Decimal];if(e===$.CurrencyGroup)return t[x.NumberSymbols][$.Group]}return r}const x6=function(n){return tn(n)[x.PluralCase]};function nx(n){if(!n[x.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[x.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function tr(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function Yy(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const V6=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,iu={},B6=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var bt=(()=>((bt=bt||{})[bt.Short=0]="Short",bt[bt.ShortGMT=1]="ShortGMT",bt[bt.Long=2]="Long",bt[bt.Extended=3]="Extended",bt))(),G=(()=>((G=G||{})[G.FullYear=0]="FullYear",G[G.Month=1]="Month",G[G.Date=2]="Date",G[G.Hours=3]="Hours",G[G.Minutes=4]="Minutes",G[G.Seconds=5]="Seconds",G[G.FractionalSeconds=6]="FractionalSeconds",G[G.Day=7]="Day",G))(),se=(()=>((se=se||{})[se.DayPeriods=0]="DayPeriods",se[se.Days=1]="Days",se[se.Months=2]="Months",se[se.Eras=3]="Eras",se))();function U6(n,e,t,r){let i=function(n){if(sx(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,o=1]=n.split("-").map(a=>+a);return Zh(i,s-1,o)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(V6))return function(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-t,a=Number(n[5]||0)-r,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,o,a,l,c),e}(r)}const e=new Date(n);if(!sx(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=xi(t,e)||e;let a,o=[];for(;e;){if(a=B6.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const u=o.pop();if(!u)break;e=u}}let l=i.getTimezoneOffset();r&&(l=ix(r,l),i=function(n,e,t){const i=n.getTimezoneOffset();return function(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,-1*(ix(e,i)-i))}(i,r));let c="";return o.forEach(u=>{const d=function(n){if(Jy[n])return Jy[n];let e;switch(n){case"G":case"GG":case"GGG":e=He(se.Eras,ge.Abbreviated);break;case"GGGG":e=He(se.Eras,ge.Wide);break;case"GGGGG":e=He(se.Eras,ge.Narrow);break;case"y":e=dt(G.FullYear,1,0,!1,!0);break;case"yy":e=dt(G.FullYear,2,0,!0,!0);break;case"yyy":e=dt(G.FullYear,3,0,!1,!0);break;case"yyyy":e=dt(G.FullYear,4,0,!1,!0);break;case"Y":e=rf(1);break;case"YY":e=rf(2,!0);break;case"YYY":e=rf(3);break;case"YYYY":e=rf(4);break;case"M":case"L":e=dt(G.Month,1,1);break;case"MM":case"LL":e=dt(G.Month,2,1);break;case"MMM":e=He(se.Months,ge.Abbreviated);break;case"MMMM":e=He(se.Months,ge.Wide);break;case"MMMMM":e=He(se.Months,ge.Narrow);break;case"LLL":e=He(se.Months,ge.Abbreviated,at.Standalone);break;case"LLLL":e=He(se.Months,ge.Wide,at.Standalone);break;case"LLLLL":e=He(se.Months,ge.Narrow,at.Standalone);break;case"w":e=Qy(1);break;case"ww":e=Qy(2);break;case"W":e=Qy(1,!0);break;case"d":e=dt(G.Date,1);break;case"dd":e=dt(G.Date,2);break;case"c":case"cc":e=dt(G.Day,1);break;case"ccc":e=He(se.Days,ge.Abbreviated,at.Standalone);break;case"cccc":e=He(se.Days,ge.Wide,at.Standalone);break;case"ccccc":e=He(se.Days,ge.Narrow,at.Standalone);break;case"cccccc":e=He(se.Days,ge.Short,at.Standalone);break;case"E":case"EE":case"EEE":e=He(se.Days,ge.Abbreviated);break;case"EEEE":e=He(se.Days,ge.Wide);break;case"EEEEE":e=He(se.Days,ge.Narrow);break;case"EEEEEE":e=He(se.Days,ge.Short);break;case"a":case"aa":case"aaa":e=He(se.DayPeriods,ge.Abbreviated);break;case"aaaa":e=He(se.DayPeriods,ge.Wide);break;case"aaaaa":e=He(se.DayPeriods,ge.Narrow);break;case"b":case"bb":case"bbb":e=He(se.DayPeriods,ge.Abbreviated,at.Standalone,!0);break;case"bbbb":e=He(se.DayPeriods,ge.Wide,at.Standalone,!0);break;case"bbbbb":e=He(se.DayPeriods,ge.Narrow,at.Standalone,!0);break;case"B":case"BB":case"BBB":e=He(se.DayPeriods,ge.Abbreviated,at.Format,!0);break;case"BBBB":e=He(se.DayPeriods,ge.Wide,at.Format,!0);break;case"BBBBB":e=He(se.DayPeriods,ge.Narrow,at.Format,!0);break;case"h":e=dt(G.Hours,1,-12);break;case"hh":e=dt(G.Hours,2,-12);break;case"H":e=dt(G.Hours,1);break;case"HH":e=dt(G.Hours,2);break;case"m":e=dt(G.Minutes,1);break;case"mm":e=dt(G.Minutes,2);break;case"s":e=dt(G.Seconds,1);break;case"ss":e=dt(G.Seconds,2);break;case"S":e=dt(G.FractionalSeconds,1);break;case"SS":e=dt(G.FractionalSeconds,2);break;case"SSS":e=dt(G.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=tf(bt.Short);break;case"ZZZZZ":e=tf(bt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=tf(bt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=tf(bt.Long);break;default:return null}return Jy[n]=e,e}(u);c+=d?d(i,t,l):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Zh(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function xi(n,e){const t=function(n){return tn(n)[x.LocaleId]}(n);if(iu[t]=iu[t]||{},iu[t][e])return iu[t][e];let r="";switch(e){case"shortDate":r=Qh(n,Ze.Short);break;case"mediumDate":r=Qh(n,Ze.Medium);break;case"longDate":r=Qh(n,Ze.Long);break;case"fullDate":r=Qh(n,Ze.Full);break;case"shortTime":r=Jh(n,Ze.Short);break;case"mediumTime":r=Jh(n,Ze.Medium);break;case"longTime":r=Jh(n,Ze.Long);break;case"fullTime":r=Jh(n,Ze.Full);break;case"short":const i=xi(n,"shortTime"),s=xi(n,"shortDate");r=ef(Xh(n,Ze.Short),[i,s]);break;case"medium":const o=xi(n,"mediumTime"),a=xi(n,"mediumDate");r=ef(Xh(n,Ze.Medium),[o,a]);break;case"long":const l=xi(n,"longTime"),c=xi(n,"longDate");r=ef(Xh(n,Ze.Long),[l,c]);break;case"full":const u=xi(n,"fullTime"),d=xi(n,"fullDate");r=ef(Xh(n,Ze.Full),[u,d])}return r&&(iu[t][e]=r),r}function ef(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Mr(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.substr(o.length-e)),s+o}function dt(n,e,t=0,r=!1,i=!1){return function(s,o){let a=function(n,e){switch(n){case G.FullYear:return e.getFullYear();case G.Month:return e.getMonth();case G.Date:return e.getDate();case G.Hours:return e.getHours();case G.Minutes:return e.getMinutes();case G.Seconds:return e.getSeconds();case G.FractionalSeconds:return e.getMilliseconds();case G.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||a>-t)&&(a+=t),n===G.Hours)0===a&&-12===t&&(a=12);else if(n===G.FractionalSeconds)return function(n,e){return Mr(n,3).substr(0,e)}(a,e);const l=er(o,$.MinusSign);return Mr(a,e,l,r,i)}}function He(n,e,t=at.Format,r=!1){return function(i,s){return function(n,e,t,r,i,s){switch(t){case se.Months:return function(n,e,t){const r=tn(n),s=tr([r[x.MonthsFormat],r[x.MonthsStandalone]],e);return tr(s,t)}(e,i,r)[n.getMonth()];case se.Days:return function(n,e,t){const r=tn(n),s=tr([r[x.DaysFormat],r[x.DaysStandalone]],e);return tr(s,t)}(e,i,r)[n.getDay()];case se.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const c=function(n){const e=tn(n);return nx(e),(e[x.ExtraData][2]||[]).map(r=>"string"==typeof r?Yy(r):[Yy(r[0]),Yy(r[1])])}(e),u=function(n,e,t){const r=tn(n);nx(r);const s=tr([r[x.ExtraData][0],r[x.ExtraData][1]],e)||[];return tr(s,t)||[]}(e,i,r),d=c.findIndex(h=>{if(Array.isArray(h)){const[f,p]=h,_=o>=f.hours&&a>=f.minutes,g=o<p.hours||o===p.hours&&a<p.minutes;if(f.hours<p.hours){if(_&&g)return!0}else if(_||g)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(-1!==d)return u[d]}return function(n,e,t){const r=tn(n),s=tr([r[x.DayPeriodsFormat],r[x.DayPeriodsStandalone]],e);return tr(s,t)}(e,i,r)[o<12?0:1];case se.Eras:return function(n,e){return tr(tn(n)[x.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,s,n,e,t,r)}}function tf(n){return function(e,t,r){const i=-1*r,s=er(t,$.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case bt.Short:return(i>=0?"+":"")+Mr(o,2,s)+Mr(Math.abs(i%60),2,s);case bt.ShortGMT:return"GMT"+(i>=0?"+":"")+Mr(o,1,s);case bt.Long:return"GMT"+(i>=0?"+":"")+Mr(o,2,s)+":"+Mr(Math.abs(i%60),2,s);case bt.Extended:return 0===r?"Z":(i>=0?"+":"")+Mr(o,2,s)+":"+Mr(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function rx(n){return Zh(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Qy(n,e=!1){return function(t,r){let i;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{const s=rx(t),o=function(n){const e=Zh(n,0,1).getDay();return Zh(n,0,1+(e<=4?4:11)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Mr(i,n,er(r,$.MinusSign))}}function rf(n,e=!1){return function(t,r){return Mr(rx(t).getFullYear(),n,er(r,$.MinusSign),e)}}const Jy={};function ix(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function sx(n){return n instanceof Date&&!isNaN(n.valueOf())}class af{}let aq=(()=>{class n extends af{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(x6(r||this.locale)(t)){case ut.Zero:return"zero";case ut.One:return"one";case ut.Two:return"two";case ut.Few:return"few";case ut.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(m(Ri))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();function cx(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class uq{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ps=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((i,s,o)=>{if(null==i.previousIndex){const a=this._viewContainer.createEmbeddedView(this._template,new uq(null,this._ngForOf,-1,-1),null===o?void 0:o),l=new ux(i,a);r.push(l)}else if(null==o)this._viewContainer.remove(null===s?void 0:s);else if(null!==s){const a=this._viewContainer.get(s);this._viewContainer.move(a,o);const l=new ux(i,a);r.push(l)}});for(let i=0;i<r.length;i++)this._perViewChange(r[i].view,r[i].record);for(let i=0,s=this._viewContainer.length;i<s;i++){const o=this._viewContainer.get(i);o.context.index=i,o.context.count=s,o.context.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{this._viewContainer.get(i.currentIndex).context.$implicit=i.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(b(nn),b(xn),b(qa))},n.\u0275dir=re({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class ux{constructor(e,t){this.record=e,this.view=t}}let ou=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new hq,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){dx("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){dx("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(b(nn),b(xn))},n.\u0275dir=re({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class hq{constructor(){this.$implicit=null,this.ngIf=null}}function dx(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${oe(e)}'.`)}let fx=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(b(nn))},n.\u0275dir=re({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[_r]}),n})();function kr(n,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${oe(n)}'`)}class mq{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class yq{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const vq=new yq,bq=new mq;let au=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(yh(t))return vq;if(F0(t))return bq;throw kr(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(b(Xs,16))},n.\u0275pipe=dn({name:"async",type:n,pure:!1}),n})(),iv=(()=>{class n{constructor(t){this.locale=t}transform(t,r="mediumDate",i,s){if(null==t||""===t||t!=t)return null;try{return U6(t,r,s||this.locale,i)}catch(o){throw kr(n,o.message)}}}return n.\u0275fac=function(t){return new(t||n)(b(Ri,16))},n.\u0275pipe=dn({name:"date",type:n,pure:!0}),n})(),lf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({providers:[{provide:af,useClass:aq}]}),n})();const gx="browser";let _x=(()=>{class n{}return n.\u0275prov=M({token:n,providedIn:"root",factory:()=>new Bq(m(L),window)}),n})();class Bq{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=mx(this.window.history)||mx(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function mx(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class yx{}class av extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){Yh||(Yh=n)}(new av)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(lu=lu||document.querySelector("base"),lu?lu.getAttribute("href"):null);return null==t?null:function(n){cf=cf||document.createElement("a"),cf.setAttribute("href",n);const e=cf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){lu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return cx(document.cookie,e)}}let cf,lu=null;const vx=new N("TRANSITION_ID"),zq=[{provide:Xc,useFactory:function(n,e,t){return()=>{t.get(rl).donePromise.then(()=>{const r=fs(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[vx,L,me],multi:!0}];class lv{static init(){!function(n){Ay=n}(new lv)}addToWindow(e){xe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},xe.getAllAngularTestabilities=()=>e.getAllTestabilities(),xe.getAllAngularRootElements=()=>e.getAllRootElements(),xe.frameworkStabilizers||(xe.frameworkStabilizers=[]),xe.frameworkStabilizers.push(r=>{const i=xe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?fs().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Gq=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();const cu=new N("EventManagerPlugins");let df=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(m(cu),m(Y))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();class cv{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=fs().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Ex=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})(),uu=(()=>{class n extends Ex{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Cx),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Cx))}}return n.\u0275fac=function(t){return new(t||n)(m(L))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();function Cx(n){fs().remove(n)}const uv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},dv=/%COMP%/g;function hf(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?hf(n,i,t):(i=i.replace(dv,n),t.push(i))}return t}function Tx(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ff=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new hv(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case lt.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new aK(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case lt.ShadowDom:return new lK(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=hf(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(m(df),m(uu),m(Zc))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();class hv{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(uv[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=uv[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=uv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(An.DashCase|An.Important)?e.style.setProperty(t,r,i&An.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&An.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Tx(r)):this.eventManager.addEventListener(e,t,Tx(r))}}class aK extends hv{constructor(e,t,r,i){super(e),this.component=r;const s=hf(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace(dv,n)}(i+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(dv,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class lK extends hv{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=hf(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let cK=(()=>{class n extends cv{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(m(L))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();const Ax=["alt","control","meta","shift"],_K={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Rx={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},mK={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let yK=(()=>{class n extends cv{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>fs().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="";if(Ax.forEach(l=>{const c=r.indexOf(l);c>-1&&(r.splice(c,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(t){let r="",i=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Rx.hasOwnProperty(e)&&(e=Rx[e]))}return _K[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ax.forEach(s=>{s!=i&&mK[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(m(L))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})(),ll=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({factory:function(){return m(pv)},token:n,providedIn:"root"}),n})(),pv=(()=>{class n extends ll{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Se.NONE:return r;case Se.HTML:return zr(r,"HTML")?Sn(r):MS(this._doc,String(r)).toString();case Se.STYLE:return zr(r,"Style")?Sn(r):r;case Se.SCRIPT:if(zr(r,"Script"))return Sn(r);throw new Error("unsafe value used in a script context");case Se.URL:return CS(r),zr(r,"URL")?Sn(r):bc(String(r));case Se.RESOURCE_URL:if(zr(r,"ResourceURL"))return Sn(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function(n){return new tj(n)}(t)}bypassSecurityTrustStyle(t){return function(n){return new nj(n)}(t)}bypassSecurityTrustScript(t){return function(n){return new rj(n)}(t)}bypassSecurityTrustUrl(t){return function(n){return new ij(n)}(t)}bypassSecurityTrustResourceUrl(t){return function(n){return new sj(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(m(L))},n.\u0275prov=M({factory:function(){return function(n){return new pv(n.get(L))}(m(Aa))},token:n,providedIn:"root"}),n})();const DK=vk(f4,"browser",[{provide:ds,useValue:gx},{provide:ck,useValue:function(){av.makeCurrent(),lv.init()},multi:!0},{provide:L,useFactory:function(){return function(n){r_=n}(document),document},deps:[]}]),SK=[[],{provide:Ac,useValue:"root"},{provide:yr,useFactory:function(){return new yr},deps:[]},{provide:cu,useClass:cK,multi:!0,deps:[L,Y,ds]},{provide:cu,useClass:yK,multi:!0,deps:[L]},[],{provide:ff,useClass:ff,deps:[df,uu,Zc]},{provide:Js,useExisting:ff},{provide:Ex,useExisting:uu},{provide:uu,useClass:uu,deps:[L]},{provide:Sy,useClass:Sy,deps:[Y]},{provide:df,useClass:df,deps:[cu,Y]},{provide:yx,useClass:Gq,deps:[]},[]];let gv=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:Zc,useValue:t.appId},{provide:vx,useExisting:Zc},zq]}}}return n.\u0275fac=function(t){return new(t||n)(m(n,12))},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({providers:SK,imports:[lf,b4]}),n})();function B(...n){let e=n[n.length-1];return ta(e)?(n.pop(),Hg(n,e)):$g(n)}function cl(n,e){return Ft(n,e,1)}function pn(n,e){return function(r){return r.lift(new NK(n,e))}}"undefined"!=typeof window&&window;class NK{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new FK(e,this.predicate,this.thisArg))}}class FK extends _e{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}class kx{}class xx{}class Pi{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Pi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Pi;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Pi?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class LK{encodeKey(e){return Px(e)}encodeValue(e){return Px(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const BK=/%(\d[a-f0-9])/gi,UK={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Px(n){return encodeURIComponent(n).replace(BK,(e,t)=>{var r;return null!==(r=UK[t])&&void 0!==r?r:e})}function Ox(n){return`${n}`}class _s{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new LK,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new _s({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Ox(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Ox(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class jK{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function Nx(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Fx(n){return"undefined"!=typeof Blob&&n instanceof Blob}function Lx(n){return"undefined"!=typeof FormData&&n instanceof FormData}class du{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Pi),this.context||(this.context=new jK),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new _s,this.urlWithParams=t}serializeBody(){return null===this.body?null:Nx(this.body)||Fx(this.body)||Lx(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof _s?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Lx(this.body)?null:Fx(this.body)?this.body.type||null:Nx(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof _s?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,s=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,l=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const d=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((h,f)=>h.set(f,e.setHeaders[f]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((h,f)=>h.set(f,e.setParams[f]),u)),new du(r,i,o,{params:u,headers:c,context:d,reportProgress:l,responseType:s,withCredentials:a})}}var ht=(()=>((ht=ht||{})[ht.Sent=0]="Sent",ht[ht.UploadProgress=1]="UploadProgress",ht[ht.ResponseHeader=2]="ResponseHeader",ht[ht.DownloadProgress=3]="DownloadProgress",ht[ht.Response=4]="Response",ht[ht.User=5]="User",ht))();class mv{constructor(e,t=200,r="OK"){this.headers=e.headers||new Pi,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class yv extends mv{constructor(e={}){super(e),this.type=ht.ResponseHeader}clone(e={}){return new yv({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class pf extends mv{constructor(e={}){super(e),this.type=ht.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new pf({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Vx extends mv{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function vv(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let hu=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof du)s=t;else{let l,c;l=i.headers instanceof Pi?i.headers:new Pi(i.headers),i.params&&(c=i.params instanceof _s?i.params:new _s({fromObject:i.params})),s=new du(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=B(s).pipe(cl(l=>this.handler.handle(l)));if(t instanceof du||"events"===i.observe)return o;const a=o.pipe(pn(l=>l instanceof pf));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ne(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(ne(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(ne(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(ne(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new _s).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,vv(i,r))}post(t,r,i={}){return this.request("POST",t,vv(i,r))}put(t,r,i={}){return this.request("PUT",t,vv(i,r))}}return n.\u0275fac=function(t){return new(t||n)(m(kx))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();class Bx{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const Ux=new N("HTTP_INTERCEPTORS");let WK=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();const zK=/^\)\]\}',?\n/;let jx=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new W(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const f=t.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(t.responseType){const f=t.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const s=t.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=1223===i.status?204:i.status,p=i.statusText||"OK",_=new Pi(i.getAllResponseHeaders()),g=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return o=new yv({headers:_,status:f,statusText:p,url:g}),o},l=()=>{let{headers:f,status:p,statusText:_,url:g}=a(),v=null;204!==p&&(v=void 0===i.response?i.responseText:i.response),0===p&&(p=v?200:0);let y=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof v){const T=v;v=v.replace(zK,"");try{v=""!==v?JSON.parse(v):null}catch(S){v=T,y&&(y=!1,v={error:S,text:v})}}y?(r.next(new pf({body:v,headers:f,status:p,statusText:_,url:g||void 0})),r.complete()):r.error(new Vx({error:v,headers:f,status:p,statusText:_,url:g||void 0}))},c=f=>{const{url:p}=a(),_=new Vx({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(_)};let u=!1;const d=f=>{u||(r.next(a()),u=!0);let p={type:ht.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===t.responseType&&!!i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:ht.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",l),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),t.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",h)),i.send(s),r.next({type:ht.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",l),i.removeEventListener("timeout",c),t.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(m(yx))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();const bv=new N("XSRF_COOKIE_NAME"),Ev=new N("XSRF_HEADER_NAME");class Hx{}let qK=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=cx(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(m(L),m(ds),m(bv))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})(),Cv=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(m(Hx),m(Ev))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})(),KK=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(Ux,[]);this.chain=r.reduceRight((i,s)=>new Bx(i,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(m(xx),m(me))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})(),YK=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Cv,useClass:WK}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:bv,useValue:t.cookieName}:[],t.headerName?{provide:Ev,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({providers:[Cv,{provide:Ux,useExisting:Cv,multi:!0},{provide:Hx,useClass:qK},{provide:bv,useValue:"XSRF-TOKEN"},{provide:Ev,useValue:"X-XSRF-TOKEN"}]}),n})(),QK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({providers:[hu,{provide:kx,useClass:KK},jx,{provide:xx,useExisting:jx}],imports:[[YK.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();function Wx(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function fu(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pu(n,e){var t="function"==typeof Symbol&&n[Symbol.iterator];if(!t)return n;var i,o,r=t.call(n),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s}function Gx(n,e,t){if(t||2===arguments.length)for(var s,r=0,i=e.length;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}const D=function(n,e){if(!n)throw ul(e)},ul=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},qx=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},_f={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(qx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Tv=function(n){try{return _f.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function t5(n){return Qx(void 0,n)}function Qx(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!n5(t)||(n[t]=Qx(n[t],e[t]));return n}function n5(n){return"__proto__"!==n}class ao{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Pn(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Dv(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pn())}function Sv(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function Jx(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function dl(){return"object"==typeof indexedDB}function mf(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function Av(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ms extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ti.prototype.create)}}class ti{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function(n,e){return n.replace(o5,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new ms(i,`${this.serviceName}: ${o} (${i}).`,r)}}const o5=/\{\$([^}]+)}/g;function gu(n){return JSON.parse(n)}function Mt(n){return JSON.stringify(n)}const yf=function(n){let e={},t={},r={},i="";try{const s=n.split(".");e=gu(Tv(s[0])||""),t=gu(Tv(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch(s){}return{header:e,claims:t,data:r,signature:i}};function ni(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function hl(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Xx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function vf(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function Rv(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(Zx(s)&&Zx(o)){if(!Rv(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function Zx(n){return null!==n&&"object"==typeof n}function Mv(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class c5{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)r[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let c,u,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const r=t-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<t;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<t;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class d5{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function(n,e){if("object"!=typeof n||null===n)return!1;for(const t of["next","error","complete"])if(t in n&&"function"==typeof n[t])return!0;return!1}(e)?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=kv),void 0===i.error&&(i.error=kv),void 0===i.complete&&(i.complete=kv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kv(){}function lo(n,e){return`${n} failed: ${e} argument `}const bf=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};function xv(n,e=1e3,t=2){const r=e*Math.pow(t,n),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function ri(n){return n&&n._delegate?n._delegate:n}var on=function(){function n(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return n.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},n.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},n.prototype.setServiceProps=function(e){return this.serviceProps=e,this},n.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},n}(),co="[DEFAULT]",v5=function(){function n(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return n.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var r=new ao;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch(s){}}return this.instancesDeferred.get(t).promise},n.prototype.getImmediate=function(e){var t,r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}},n.prototype.getComponent=function(){return this.component},n.prototype.setComponent=function(e){var t,r;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:co})}catch(d){}try{for(var i=fu(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var o=pu(s.value,2),l=o[1],c=this.normalizeInstanceIdentifier(o[0]);try{var u=this.getOrInitializeService({instanceIdentifier:c});l.resolve(u)}catch(d){}}}catch(d){t={error:d}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}}},n.prototype.clearInstance=function(e){void 0===e&&(e=co),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},n.prototype.delete=function(){return function(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function(){var e;return function(n,e){var r,i,s,o,t={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return function(c){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=2&c[0]?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[2&c[0],s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(!(s=(s=t.trys).length>0&&s[s.length-1])&&(6===c[0]||2===c[0])){t=0;continue}if(3===c[0]&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(6===c[0]&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(u){c=[6,u],i=0}finally{r=s=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Gx(Gx([],pu(e.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),pu(e.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return t.sent(),[2]}})})},n.prototype.isComponentSet=function(){return null!=this.component},n.prototype.isInitialized=function(e){return void 0===e&&(e=co),this.instances.has(e)},n.prototype.getOptions=function(e){return void 0===e&&(e=co),this.instancesOptions.get(e)||{}},n.prototype.initialize=function(e){var t,r;void 0===e&&(e={});var i=e.options,s=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var l=fu(this.instancesDeferred.entries()),c=l.next();!c.done;c=l.next()){var u=pu(c.value,2),h=u[1];o===this.normalizeInstanceIdentifier(u[0])&&h.resolve(a)}}catch(p){t={error:p}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}return a},n.prototype.onInit=function(e,t){var r,i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);var o=this.instances.get(i);return o&&e(o,i),function(){s.delete(e)}},n.prototype.invokeOnInitCallbacks=function(e,t){var r,i,s=this.onInitCallbacks.get(t);if(s)try{for(var o=fu(s),a=o.next();!a.done;a=o.next()){var l=a.value;try{l(e,t)}catch(c){}}}catch(c){r={error:c}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},n.prototype.getOrInitializeService=function(e){var t=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:b5(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch(o){}return s||null},n.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=co),this.component?this.component.multipleInstances?e:co:e},n.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},n}();function b5(n){return n===co?void 0:n}var C5=function(){function n(e){this.name=e,this.providers=new Map}return n.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},n.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},n.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new v5(e,this);return this.providers.set(e,t),t},n.prototype.getProviders=function(){return Array.from(this.providers.values())},n}();const Pv=[];var Oe=(()=>(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"}(Oe||(Oe={})),Oe))();const eP={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},w5=Oe.INFO,I5={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},T5=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=I5[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class fl{constructor(e){this.name=e,this._logLevel=w5,this._logHandler=T5,this._userLogHandler=null,Pv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?eP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}class D5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function(n){const e=n.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const tP="@firebase/app",Ov=new fl("@firebase/app"),Nv="[DEFAULT]",e7={[tP]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},uo=new Map,Ef=new Map;function t7(n,e){try{n.container.addComponent(e)}catch(t){Ov.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function gn(n){const e=n.name;if(Ef.has(e))return Ov.debug(`There were multiple attempts to register component ${e}.`),!1;Ef.set(e,n);for(const t of uo.values())t7(t,n);return!0}function Cf(n,e){return n.container.getProvider(e)}const _u=new ti("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class r7{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new on("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _u.create("app-deleted",{appName:this._name})}}function i7(n,e={}){"object"!=typeof e&&(e={name:e});const t=Object.assign({name:Nv,automaticDataCollectionEnabled:!1},e),r=t.name;if("string"!=typeof r||!r)throw _u.create("bad-app-name",{appName:String(r)});const i=uo.get(r);if(i){if(Rv(n,i.options)&&Rv(t,i.config))return i;throw _u.create("duplicate-app",{appName:r})}const s=new C5(r);for(const a of Ef.values())s.addComponent(a);const o=new r7(n,t,s);return uo.set(r,o),o}function nP(n=Nv){const e=uo.get(n);if(!e)throw _u.create("no-app",{appName:n});return e}function rP(){return Array.from(uo.values())}function On(n,e,t){var r;let i=null!==(r=e7[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ov.warn(a.join(" "))}gn(new on(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function iP(n,e,t,r,i,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function E(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(l){iP(s,r,i,o,a,"next",l)}function a(l){iP(s,r,i,o,a,"throw",l)}o(void 0)})}}gn(new on("platform-logger",e=>new D5(e),"PRIVATE")),On(tP,"0.7.3",void 0),On("fire-js",""),On("firebase","9.1.2","app");var pl=dr(676);const aP="w:0.5.1",lP="FIS_v2",Ni=new ti("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function cP(n){return n instanceof ms&&n.code.includes("request-failed")}function Lv({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function uP(n){return{token:n.token,requestStatus:2,expiresIn:p7(n.expiresIn),creationTime:Date.now()}}function Vv(n,e){return Bv.apply(this,arguments)}function Bv(){return(Bv=E(function*(n,e){const r=(yield e.json()).error;return Ni.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function dP({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function hP(n,{refreshToken:e}){const t=dP(n);return t.append("Authorization",function(n){return`${lP} ${n}`}(e)),t}function Uv(n){return jv.apply(this,arguments)}function jv(){return(jv=E(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function p7(n){return Number(n.replace("s","000"))}function _7(n,e){return Hv.apply(this,arguments)}function Hv(){return(Hv=E(function*(n,{fid:e}){const t=Lv(n),s={method:"POST",headers:dP(n),body:JSON.stringify({fid:e,authVersion:lP,appId:n.appId,sdkVersion:aP})},o=yield Uv(()=>fetch(t,s));if(o.ok){const a=yield o.json();return{fid:a.fid||e,registrationStatus:2,refreshToken:a.refreshToken,authToken:uP(a.authToken)}}throw yield Vv("Create Installation",o)})).apply(this,arguments)}function fP(n){return new Promise(e=>{setTimeout(e,n)})}const y7=/^[cdef][\w-]{21}$/;function v7(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function(n){return function(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return y7.test(t)?t:""}catch(n){return""}}function gl(n){return`${n.appName}!${n.appId}`}const _l=new Map;function pP(n,e){const t=gl(n);gP(t,e),function(n,e){const t=(!ho&&"BroadcastChannel"in self&&(ho=new BroadcastChannel("[Firebase] FID Change"),ho.onmessage=n=>{gP(n.data.key,n.data.fid)}),ho);t&&t.postMessage({key:n,fid:e}),0===_l.size&&ho&&(ho.close(),ho=null)}(t,e)}function gP(n,e){const t=_l.get(n);if(t)for(const r of t)r(e)}let ho=null;const fo="firebase-installations-store";let Wv=null;function zv(){return Wv||(Wv=(0,pl.openDb)("firebase-installations-database",1,n=>{switch(n.oldVersion){case 0:n.createObjectStore(fo)}})),Wv}function If(n,e){return Gv.apply(this,arguments)}function Gv(){return(Gv=E(function*(n,e){const t=gl(n),i=(yield zv()).transaction(fo,"readwrite"),s=i.objectStore(fo),o=yield s.get(t);return yield s.put(e,t),yield i.complete,(!o||o.fid!==e.fid)&&pP(n,e.fid),e})).apply(this,arguments)}function qv(n){return Kv.apply(this,arguments)}function Kv(){return(Kv=E(function*(n){const e=gl(n),r=(yield zv()).transaction(fo,"readwrite");yield r.objectStore(fo).delete(e),yield r.complete})).apply(this,arguments)}function mu(n,e){return Yv.apply(this,arguments)}function Yv(){return(Yv=E(function*(n,e){const t=gl(n),i=(yield zv()).transaction(fo,"readwrite"),s=i.objectStore(fo),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.complete,a&&(!o||o.fid!==a.fid)&&pP(n,a.fid),a})).apply(this,arguments)}function Qv(n){return Jv.apply(this,arguments)}function Jv(){return(Jv=E(function*(n){let e;const t=yield mu(n,r=>{const i=D7(r),s=S7(n,i);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function D7(n){return vP(n||{fid:v7(),registrationStatus:0})}function S7(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ni.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:t,registrationPromise:function(n,e){return Xv.apply(this,arguments)}(n,t)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:R7(n)}:{installationEntry:e}}function Xv(){return(Xv=E(function*(n,e){try{return If(n,yield _7(n,e))}catch(t){throw cP(t)&&409===t.customData.serverCode?yield qv(n):yield If(n,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function R7(n){return Zv.apply(this,arguments)}function Zv(){return(Zv=E(function*(n){let e=yield yP(n);for(;1===e.registrationStatus;)yield fP(100),e=yield yP(n);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield Qv(n);return r||t}return e})).apply(this,arguments)}function yP(n){return mu(n,e=>{if(!e)throw Ni.create("installation-not-found");return vP(e)})}function vP(n){return function(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function k7(n,e){return eb.apply(this,arguments)}function eb(){return(eb=E(function*({appConfig:n,platformLoggerProvider:e},t){const r=x7(n,t),i=hP(n,t),s=e.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:aP}})},l=yield Uv(()=>fetch(r,a));if(l.ok)return uP(yield l.json());throw yield Vv("Generate Auth Token",l)})).apply(this,arguments)}function x7(n,{fid:e}){return`${Lv(n)}/${e}/authTokens:generate`}function tb(n){return nb.apply(this,arguments)}function nb(){return(nb=E(function*(n,e=!1){let t;const r=yield mu(n.appConfig,s=>{if(!EP(s))throw Ni.create("not-registered");const o=s.authToken;if(!e&&N7(o))return s;if(1===o.requestStatus)return t=P7(n,e),s;{if(!navigator.onLine)throw Ni.create("app-offline");const a=L7(s);return t=O7(n,a),a}});return t?yield t:r.authToken})).apply(this,arguments)}function P7(n,e){return rb.apply(this,arguments)}function rb(){return(rb=E(function*(n,e){let t=yield bP(n.appConfig);for(;1===t.authToken.requestStatus;)yield fP(100),t=yield bP(n.appConfig);const r=t.authToken;return 0===r.requestStatus?tb(n,e):r})).apply(this,arguments)}function bP(n){return mu(n,e=>{if(!EP(e))throw Ni.create("not-registered");return function(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function O7(n,e){return ib.apply(this,arguments)}function ib(){return(ib=E(function*(n,e){try{const t=yield k7(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield If(n.appConfig,r),t}catch(t){if(!cP(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield If(n.appConfig,r)}else yield qv(n.appConfig);throw t}})).apply(this,arguments)}function EP(n){return void 0!==n&&2===n.registrationStatus}function N7(n){return 2===n.requestStatus&&!function(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function L7(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function sb(){return(sb=E(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield Qv(e.appConfig);return r?r.catch(console.error):tb(e).catch(console.error),t.fid})).apply(this,arguments)}function ob(){return(ob=E(function*(n,e=!1){const t=n;return yield j7(t.appConfig),(yield tb(t,e)).token})).apply(this,arguments)}function j7(n){return ab.apply(this,arguments)}function ab(){return(ab=E(function*(n){const{registrationPromise:e}=yield Qv(n);e&&(yield e)})).apply(this,arguments)}function ub(n){return Ni.create("missing-app-config-values",{valueName:n})}const CP="installations";gn(new on(CP,n=>{const e=n.getProvider("app").getImmediate();return{app:e,appConfig:function(n){if(!n||!n.options)throw ub("App Configuration");if(!n.name)throw ub("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw ub(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e),platformLoggerProvider:Cf(e,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),gn(new on("installations-internal",n=>{const t=Cf(n.getProvider("app").getImmediate(),CP).getImmediate();return{getId:()=>function(n){return sb.apply(this,arguments)}(t),getToken:i=>function(n){return ob.apply(this,arguments)}(t,i)}},"PRIVATE")),On("@firebase/installations","0.5.1");const wP="@firebase/remote-config",_n=new ti("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class oY{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return E(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function aY(n=navigator){return n.languages&&n.languages[0]||n.language}class lY{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return E(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:aY()},c={method:"POST",headers:a,body:JSON.stringify(l)},u=fetch(o,c),d=new Promise((v,y)=>{e.signal.addEventListener(()=>{const T=new Error("The operation was aborted.");T.name="AbortError",y(T)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(v){let y="fetch-client-network";throw"AbortError"===v.name&&(y="fetch-timeout"),_n.create(y,{originalErrorMessage:v.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let _,g;if(200===h.status){let v;try{v=yield h.json()}catch(y){throw _n.create("fetch-client-parse",{originalErrorMessage:y.message})}_=v.entries,g=v.state}if("INSTANCE_STATE_UNSPECIFIED"===g?f=500:"NO_CHANGE"===g?f=304:("NO_TEMPLATE"===g||"EMPTY_CONFIG"===g)&&(_={}),304!==f&&200!==f)throw _n.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:_}})()}}class dY{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return E(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return E(function*(){yield function(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(_n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function(n){if(!(n instanceof ms&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+xv(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class pY{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Df(n,e){const t=n.target.error||void 0;return _n.create(e,{originalErrorMessage:t&&t.message})}const po="app_namespace_store";class yY{constructor(e,t,r,i=function(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(Df(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(po,{keyPath:"compositeKey"})}}}catch(t){e(_n.create("storage-open",{originalErrorMessage:t}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return E(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([po],"readonly").objectStore(po),l=t.createCompositeKey(e);try{const c=a.get(l);c.onerror=u=>{s(Df(u,"storage-get"))},c.onsuccess=u=>{const d=u.target.result;i(d?d.value:void 0)}}catch(c){s(_n.create("storage-get",{originalErrorMessage:c&&c.message}))}})})()}set(e,t){var r=this;return E(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const l=i.transaction([po],"readwrite").objectStore(po),c=r.createCompositeKey(e);try{const u=l.put({compositeKey:c,value:t});u.onerror=d=>{o(Df(d,"storage-set"))},u.onsuccess=()=>{s()}}catch(u){o(_n.create("storage-set",{originalErrorMessage:u&&u.message}))}})})()}delete(e){var t=this;return E(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([po],"readwrite").objectStore(po),l=t.createCompositeKey(e);try{const c=a.delete(l);c.onerror=u=>{s(Df(u,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(_n.create("storage-delete",{originalErrorMessage:c&&c.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class vY{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return E(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function EY(){return gb.apply(this,arguments)}function gb(){return(gb=E(function*(){if(!dl())return!1;try{return yield mf()}catch(n){return!1}})).apply(this,arguments)}gn(new on("remote-config",function(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw _n.create("registration-window");if(!dl())throw _n.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw _n.create("registration-project-id");if(!o)throw _n.create("registration-api-key");if(!a)throw _n.create("registration-app-id");const l=new yY(a,r.name,t=t||"firebase"),c=new vY(l),u=new fl(wP);u.logLevel=Oe.ERROR;const d=new lY(i,"9.1.2",t,s,o,a),h=new dY(d,l),f=new oY(h,l,c,u),p=new pY(r,f,c,l,u);return function(n){const e=ri(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),On(wP,"0.3.0");const CY="/firebase-messaging-sw.js",wY="/firebase-cloud-messaging-push-scope",DP="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",SP="google.c.a.c_id",TY="google.c.a.c_l",DY="google.c.a.ts",SY="google.c.a.e";var ml=(()=>(function(n){n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked"}(ml||(ml={})),ml))();function Fi(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function AY(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const _b="fcm_token_details_db",AP="fcm_token_object_Store";function MY(n){return mb.apply(this,arguments)}function mb(){return(mb=E(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(_b))return null;let e=null;return(yield(0,pl.openDb)(_b,5,function(){var r=E(function*(i){var s;if(i.oldVersion<2||!i.objectStoreNames.contains(AP))return;const o=i.transaction.objectStore(AP),a=yield o.index("fcmSenderId").get(n);if(yield o.clear(),a)if(2===i.oldVersion){const l=a;if(!l.auth||!l.p256dh||!l.endpoint)return;e={token:l.fcmToken,createTime:null!==(s=l.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:l.auth,p256dh:l.p256dh,endpoint:l.endpoint,swScope:l.swScope,vapidKey:"string"==typeof l.vapidKey?l.vapidKey:Fi(l.vapidKey)}}}else if(3===i.oldVersion){const l=a;e={token:l.fcmToken,createTime:l.createTime,subscriptionOptions:{auth:Fi(l.auth),p256dh:Fi(l.p256dh),endpoint:l.endpoint,swScope:l.swScope,vapidKey:Fi(l.vapidKey)}}}else if(4===i.oldVersion){const l=a;e={token:l.fcmToken,createTime:l.createTime,subscriptionOptions:{auth:Fi(l.auth),p256dh:Fi(l.p256dh),endpoint:l.endpoint,swScope:l.swScope,vapidKey:Fi(l.vapidKey)}}}});return function(i){return r.apply(this,arguments)}}())).close(),yield(0,pl.deleteDb)(_b),yield(0,pl.deleteDb)("fcm_vapid_details_db"),yield(0,pl.deleteDb)("undefined"),kY(e)?e:null})).apply(this,arguments)}function kY(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const go="firebase-messaging-store";let yb=null;function vb(){return yb||(yb=(0,pl.openDb)("firebase-messaging-database",1,n=>{switch(n.oldVersion){case 0:n.createObjectStore(go)}})),yb}function RP(n){return bb.apply(this,arguments)}function bb(){return(bb=E(function*(n){const e=Ib(n),r=yield(yield vb()).transaction(go).objectStore(go).get(e);if(r)return r;{const i=yield MY(n.appConfig.senderId);if(i)return yield Eb(n,i),i}})).apply(this,arguments)}function Eb(n,e){return Cb.apply(this,arguments)}function Cb(){return(Cb=E(function*(n,e){const t=Ib(n),i=(yield vb()).transaction(go,"readwrite");return yield i.objectStore(go).put(e,t),yield i.complete,e})).apply(this,arguments)}function OY(n){return wb.apply(this,arguments)}function wb(){return(wb=E(function*(n){const e=Ib(n),r=(yield vb()).transaction(go,"readwrite");yield r.objectStore(go).delete(e),yield r.complete})).apply(this,arguments)}function Ib({appConfig:n}){return n.appId}const Lt=new ti("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function FY(n,e){return Tb.apply(this,arguments)}function Tb(){return(Tb=E(function*(n,e){const t=yield Rb(n),r=kP(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(Ab(n.appConfig),i)).json()}catch(o){throw Lt.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw Lt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Lt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function LY(n,e){return Db.apply(this,arguments)}function Db(){return(Db=E(function*(n,e){const t=yield Rb(n),r=kP(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${Ab(n.appConfig)}/${e.token}`,i)).json()}catch(o){throw Lt.create("token-update-failed",{errorInfo:o})}if(s.error)throw Lt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Lt.create("token-update-no-token");return s.token})).apply(this,arguments)}function MP(n,e){return Sb.apply(this,arguments)}function Sb(){return(Sb=E(function*(n,e){const r={method:"DELETE",headers:yield Rb(n)};try{const s=yield(yield fetch(`${Ab(n.appConfig)}/${e}`,r)).json();if(s.error)throw Lt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Lt.create("token-unsubscribe-failed",{errorInfo:i})}})).apply(this,arguments)}function Ab({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function Rb(n){return Mb.apply(this,arguments)}function Mb(){return(Mb=E(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function kP({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==DP&&(i.web.applicationPubKey=r),i}const VY=6048e5;function BY(n){return kb.apply(this,arguments)}function kb(){return(kb=E(function*(n){const e=yield jY(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Fi(e.getKey("auth")),p256dh:Fi(e.getKey("p256dh"))},r=yield RP(n.firebaseDependencies);if(r){if(HY(r.subscriptionOptions,t))return Date.now()>=r.createTime+VY?UY(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield MP(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return PP(n.firebaseDependencies,t)}return PP(n.firebaseDependencies,t)})).apply(this,arguments)}function xP(n){return xb.apply(this,arguments)}function xb(){return(xb=E(function*(n){const e=yield RP(n.firebaseDependencies);e&&(yield MP(n.firebaseDependencies,e.token),yield OY(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function UY(n,e){return Pb.apply(this,arguments)}function Pb(){return(Pb=E(function*(n,e){try{const t=yield LY(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield Eb(n.firebaseDependencies,r),t}catch(t){throw yield xP(n),t}})).apply(this,arguments)}function PP(n,e){return Ob.apply(this,arguments)}function Ob(){return(Ob=E(function*(n,e){const r={token:yield FY(n,e),createTime:Date.now(),subscriptionOptions:e};return yield Eb(n,r),r.token})).apply(this,arguments)}function jY(n,e){return Nb.apply(this,arguments)}function Nb(){return(Nb=E(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:AY(e)})})).apply(this,arguments)}function HY(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function OP(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcm_message_id};return function(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i)}(e,n),function(n,e){!e.data||(n.data=e.data)}(e,n),function(n,e){if(!e.fcmOptions)return;n.fcmOptions={};const t=e.fcmOptions.link;t&&(n.fcmOptions.link=t);const r=e.fcmOptions.analytics_label;r&&(n.fcmOptions.analyticsLabel=r)}(e,n),e}function GY(n){return"object"==typeof n&&!!n&&SP in n}function NP(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function Fb(n){return Lt.create("missing-app-config-values",{valueName:n})}NP("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),NP("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class KY{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function(n){if(!n||!n.options)throw Fb("App Configuration Object");if(!n.name)throw Fb("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw Fb(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function FP(n){return Lb.apply(this,arguments)}function Lb(){return(Lb=E(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(CY,{scope:wY}),n.swRegistration.update().catch(()=>{})}catch(e){throw Lt.create("failed-service-worker-registration",{browserErrorMessage:e.message})}})).apply(this,arguments)}function YY(n,e){return Vb.apply(this,arguments)}function Vb(){return(Vb=E(function*(n,e){if(!e&&!n.swRegistration&&(yield FP(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Lt.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function QY(n,e){return Bb.apply(this,arguments)}function Bb(){return(Bb=E(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=DP)})).apply(this,arguments)}function Ub(){return(Ub=E(function*(n,e){if(!navigator)throw Lt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Lt.create("permission-blocked");return yield QY(n,null==e?void 0:e.vapidKey),yield YY(n,null==e?void 0:e.serviceWorkerRegistration),BY(n)})).apply(this,arguments)}function JY(n,e,t){return jb.apply(this,arguments)}function jb(){return(jb=E(function*(n,e,t){const r=XY(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[SP],message_name:t[TY],message_time:t[DY],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function XY(n){switch(n){case ml.NOTIFICATION_CLICKED:return"notification_open";case ml.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Hb(){return(Hb=E(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===ml.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(OP(t)):n.onMessageHandler.next(OP(t)));const r=t.data;GY(r)&&"1"===r[SY]&&(yield JY(n,t.messageType,r))})).apply(this,arguments)}function VP(){return $b.apply(this,arguments)}function $b(){return($b=E(function*(){return"undefined"!=typeof window&&dl()&&(yield mf())&&Av()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}gn(new on("messaging",n=>{const e=new KY(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function(n,e){return Hb.apply(this,arguments)}(e,t)),e},"PUBLIC")),gn(new on("messaging-internal",n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function(n,e){return Ub.apply(this,arguments)}(e,r)}},"PRIVATE"));const Sf="analytics",s9="firebase_id",l9="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",BP="https://www.googletagmanager.com/gtag/js",Vt=new fl("@firebase/analytics");function UP(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function c9(n,e){const t=document.createElement("script");t.src=`${BP}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function d9(n,e,t,r,i,s){return Gb.apply(this,arguments)}function Gb(){return(Gb=E(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const l=(yield UP(t)).find(c=>c.measurementId===i);l&&(yield e[l.appId])}}catch(a){Vt.error(a)}n("config",i,s)})).apply(this,arguments)}function h9(n,e,t,r,i){return qb.apply(this,arguments)}function qb(){return(qb=E(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield UP(t);for(const l of o){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){Vt.error(s)}})).apply(this,arguments)}function g9(){const n=window.document.getElementsByTagName("script");for(const e of Object.values(n))if(e.src&&e.src.includes(BP))return e;return null}const Nn=new ti("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),jP=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function b9(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function E9(n){return Kb.apply(this,arguments)}function Kb(){return(Kb=E(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:b9(r)},s=l9.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const l=yield o.json();(null===(e=l.error)||void 0===e?void 0:e.message)&&(a=l.error.message)}catch(l){}throw Nn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function C9(n){return Yb.apply(this,arguments)}function Yb(){return(Yb=E(function*(n,e=jP,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw Nn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Nn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new T9;return setTimeout(E(function*(){a.abort()}),void 0!==t?t:6e4),HP({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function HP(n,e,t){return Qb.apply(this,arguments)}function Qb(){return(Qb=E(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=jP){const{appId:s,measurementId:o}=n;try{yield w9(r,e)}catch(a){if(o)return Vt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield E9(n);return i.deleteThrottleMetadata(s),a}catch(a){if(!I9(a)){if(i.deleteThrottleMetadata(s),o)return Vt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const l=503===Number(a.customData.httpStatus)?xv(t,i.intervalMillis,30):xv(t,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+l,backoffCount:t+1};return i.setThrottleMetadata(s,c),Vt.debug(`Calling attemptFetch again in ${l} millis`),HP(n,c,r,i)}})).apply(this,arguments)}function w9(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Nn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function I9(n){if(!(n instanceof ms&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class T9{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function D9(){return Jb.apply(this,arguments)}function Jb(){return(Jb=E(function*(){if(!dl())return Vt.warn(Nn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield mf()}catch(n){return Vt.warn(Nn.create("indexeddb-unavailable",{errorInfo:n}).message),!1}return!0})).apply(this,arguments)}function Xb(){return(Xb=E(function*(n,e,t,r,i,s,o){var a;const l=C9(n);l.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&Vt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Vt.error(f)),e.push(l);const c=D9().then(f=>{if(f)return r.getId()}),[u,d]=yield Promise.all([l,c]);g9()||c9(s,u.measurementId),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[s9]=d),i("config",u.measurementId,h),u.measurementId})).apply(this,arguments)}class A9{constructor(e){this.app=e}_delete(){return delete Li[this.app.options.appId],Promise.resolve()}}let Li={},$P=[];const WP={};let GP,yu,Af="dataLayer",Zb=!1;function M9(n,e,t){!function(){const n=[];if(Sv()&&n.push("This is a browser extension environment."),Av()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Nn.create("invalid-analytics-context",{errorInfo:e});Vt.warn(t.message)}}();const r=n.options.appId;if(!r)throw Nn.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Nn.create("no-api-key");Vt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Li[r])throw Nn.create("already-exists",{id:r});if(!Zb){!function(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Af);const{wrappedGtag:s,gtagCore:o}=function(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function(n,e,t,r){function s(){return(s=E(function*(o,a,l){try{"event"===o?yield h9(n,e,t,a,l):"config"===o?yield d9(n,e,t,r,a,l):n("set",a)}catch(c){Vt.error(c)}})).apply(this,arguments)}return function(o,a,l){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(Li,$P,WP,Af,"gtag");yu=s,GP=o,Zb=!0}return Li[r]=function(n,e,t,r,i,s,o){return Xb.apply(this,arguments)}(n,$P,WP,e,GP,Af,t),new A9(n)}function eE(){return(eE=E(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function L9(){return sE.apply(this,arguments)}function sE(){return(sE=E(function*(){if(Sv()||!Av()||!dl())return!1;try{return yield mf()}catch(n){return!1}})).apply(this,arguments)}gn(new on(Sf,(e,{options:t})=>M9(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),gn(new on("analytics-internal",function(e){try{const t=e.getProvider(Sf).getImmediate();return{logEvent:(r,i,s)=>function(n,e,t,r){n=ri(n),function(n,e,t,r,i){return eE.apply(this,arguments)}(yu,Li[n.app.options.appId],e,t,r).catch(i=>Vt.error(i))}(t,r,i,s)}}catch(t){throw Nn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),On("@firebase/analytics","0.7.1");class H9 extends ue{constructor(e,t){super()}schedule(e,t=0){return this}}class Rf extends H9{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!==r&&this.delay===r&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=!!s&&s||new Error(s)}if(r)return this.unsubscribe(),i}_unsubscribe(){const e=this.id,t=this.scheduler,r=t.actions,i=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&r.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let qP=(()=>{class n{constructor(t,r=n.now){this.SchedulerAction=t,this.now=r}schedule(t,r=0,i){return new this.SchedulerAction(this,t).schedule(i,r)}}return n.now=()=>Date.now(),n})();class xr extends qP{constructor(e,t=qP.now){super(e,()=>xr.delegate&&xr.delegate!==this?xr.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,r){return xr.delegate&&xr.delegate!==this?xr.delegate.schedule(e,t,r):super.schedule(e,t,r)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const KP=new class extends xr{}(class extends Rf{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!==r&&r>0||null===r&&this.delay>0?super.requestAsyncId(e,t,r):e.flush(this)}}),YP=new xr(Rf),Mf=YP;function ys(){}function Et(n,e,t){return function(i){return i.lift(new G9(n,e,t))}}class G9{constructor(e,t,r){this.nextOrObserver=e,this.error=t,this.complete=r}call(e,t){return t.subscribe(new q9(e,this.nextOrObserver,this.error,this.complete))}}class q9 extends _e{constructor(e,t,r,i){super(e),this._tapNext=ys,this._tapError=ys,this._tapComplete=ys,this._tapError=r||ys,this._tapComplete=i||ys,un(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||ys,this._tapError=t.error||ys,this._tapComplete=t.complete||ys)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}let K9=1;const Y9=Promise.resolve(),kf={};function QP(n){return n in kf&&(delete kf[n],!0)}const JP={setImmediate(n){const e=K9++;return kf[e]=!0,Y9.then(()=>QP(e)&&n()),e},clearImmediate(n){QP(n)}},oE=new class extends xr{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let r,i=-1,s=t.length;e=e||t.shift();do{if(r=e.execute(e.state,e.delay))break}while(++i<s&&(e=t.shift()));if(this.active=!1,r){for(;++i<s&&(e=t.shift());)e.unsubscribe();throw r}}}(class extends Rf{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=JP.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(JP.clearImmediate(t),e.scheduled=void 0)}});function aE(n){return!Br(n)&&n-parseFloat(n)+1>=0}class xf extends W{constructor(e,t=0,r=oE){super(),this.source=e,this.delayTime=t,this.scheduler=r,(!aE(t)||t<0)&&(this.delayTime=0),(!r||"function"!=typeof r.schedule)&&(this.scheduler=oE)}static create(e,t=0,r=oE){return new xf(e,t,r)}static dispatch(e){const{source:t,subscriber:r}=e;return this.add(t.subscribe(r))}_subscribe(e){return this.scheduler.schedule(xf.dispatch,this.delayTime,{source:this.source,subscriber:e})}}function ZP(n,e=0){return function(r){return r.lift(new X9(n,e))}}class X9{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return new xf(t,this.delay,this.scheduler).subscribe(e)}}const yl=new W(n=>n.complete());function Pf(n){return n?function(n){return new W(e=>n.schedule(()=>e.complete()))}(n):yl}function eO(n,e){return new W(e?t=>e.schedule(eQ,0,{error:n,subscriber:t}):t=>t.error(n))}function eQ({error:n,subscriber:e}){e.error(n)}class mn{constructor(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}}accept(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,r)}toObservable(){switch(this.kind){case"N":return B(this.value);case"E":return eO(this.error);case"C":return Pf()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new mn("N",e):mn.undefinedValueNotification}static createError(e){return new mn("E",void 0,e)}static createComplete(){return mn.completeNotification}}function tO(n,e=0){return function(r){return r.lift(new tQ(n,e))}}mn.completeNotification=new mn("C"),mn.undefinedValueNotification=new mn("N",void 0);class tQ{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new Of(e,this.scheduler,this.delay))}}class Of extends _e{constructor(e,t,r=0){super(e),this.scheduler=t,this.delay=r}static dispatch(e){const{notification:t,destination:r}=e;t.observe(r),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(Of.dispatch,this.delay,new nQ(e,this.destination)))}_next(e){this.scheduleMessage(mn.createNext(e))}_error(e){this.scheduleMessage(mn.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(mn.createComplete()),this.unsubscribe()}}class nQ{constructor(e,t){this.notification=e,this.destination=t}}const lE=new cs("7.1.0"),cE="__angularfire_symbol__analyticsIsSupported",uE="__angularfire_symbol__remoteConfigIsSupported",dE="__angularfire_symbol__messagingIsSupported";globalThis[cE]||(globalThis[cE]=L9().then(n=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=n)),globalThis[dE]||(globalThis[dE]=VP().then(n=>globalThis.__angularfire_symbol__messagingIsSupportedValue=n)),globalThis[uE]||(globalThis[uE]=EY().then(n=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=n));const pE=(n,e)=>{const t=e?[e]:rP(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function vl(){}class sO{constructor(e,t=KP){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class rQ{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vl,{},vl,vl)),t.pipe(Et({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let oO=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new sO(Zone.current)),this.insideAngular=t.run(()=>new sO(Zone.current,YP)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(m(Y))},n.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _o(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function iQ(n){return _o().ngZone.runOutsideAngular(()=>n())}function mo(n){return _o().ngZone.run(()=>n())}function sQ(n){return _o(),function(n){return function(t){return(t=t.lift(new rQ(n.ngZone))).pipe(ZP(n.outsideAngular),tO(n.insideAngular))}}(_o())(n)}const aQ=(n,e)=>{const t=void 0;return function(){return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),mo(()=>n.apply(t,arguments))}},bl=(n,e)=>function(){let t;for(let i=0;i<arguments.length;i++)"function"==typeof arguments[i]&&(e&&(t||(t=mo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vl,{},vl,vl)))),arguments[i]=aQ(arguments[i],t));const r=iQ(()=>n.apply(this,arguments));if(!e){if(r instanceof W){const i=_o();return r.pipe(ZP(i.outsideAngular),tO(i.insideAngular))}return mo(()=>r)}return r instanceof W?r.pipe(sQ):r instanceof Promise?mo(()=>new Promise((i,s)=>r.then(o=>mo(()=>i(o)),o=>mo(()=>s(o))))):"function"==typeof r&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),r.apply(this,arguments)}:mo(()=>r)};class El{constructor(e){return e}}class aO{constructor(){return rP()}}const gE=new N("angularfire2._apps"),cQ={provide:El,useFactory:function(n){return n&&1===n.length?n[0]:new El(nP())},deps:[[new Be,gE]]},uQ={provide:aO,deps:[[new Be,gE]]};function dQ(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new El(r)}}let hQ=(()=>{class n{constructor(t){On("angularfire",lE.full,"core"),On("angularfire",lE.full,"app"),On("angular",qm.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(m(ds))},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({providers:[cQ,uQ]}),n})();function fQ(n,...e){return{ngModule:hQ,providers:[{provide:gE,useFactory:dQ(n),multi:!0,deps:[Y,me,oO,...e]}]}}const pQ=bl(i7,!0);const gQ=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},cO=new ti("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),uO=new fl("@firebase/auth");function Nf(n,...e){uO.logLevel<=Oe.ERROR&&uO.error(`Auth (9.1.2): ${n}`,...e)}function yn(n,...e){throw _E(n,...e)}function ii(n,...e){return _E(n,...e)}function dO(n,e,t){const r=Object.assign(Object.assign({},gQ()),{[e]:t});return new ti("auth","Firebase",r).create(e,{appName:n.name})}function _E(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return cO.create(n,...e)}function R(n,e,...t){if(!n)throw _E(e,...t)}function si(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Nf(e),new Error(e)}function vs(n,e){n||si(e)}const hO=new Map;function Vi(n){vs(n instanceof Function,"Expected a class definition");let e=hO.get(n);return e?(vs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,hO.set(n,e),e)}function fO(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class bu{constructor(e,t){this.shortDelay=e,this.longDelay=t,vs(t>e,"Short delay should be less than long delay!"),this.isMobile=Dv()||Jx()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===fO()||"https:"===fO()||Sv()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}class vE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bQ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},EQ=new bu(3e4,6e4);function kt(n,e,t,r){return bE.apply(this,arguments)}function bE(){return(bE=E(function*(n,e,t,r,i={}){return pO(n,i,()=>{let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Mv(Object.assign({key:n.config.apiKey},o)).slice(1),l=new(vE.headers());return l.set("Content-Type","application/json"),l.set("X-Client-Version",n._getSdkClientVersion()),n.languageCode&&l.set("X-Firebase-Locale",n.languageCode),vE.fetch()(gO(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})})).apply(this,arguments)}function pO(n,e,t){return EE.apply(this,arguments)}function EE(){return(EE=E(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},bQ),e);try{const i=new CQ(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Ff(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Ff(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw Ff(n,"email-already-in-use",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw dO(n,u,c);yn(n,u)}}catch(i){if(i instanceof ms)throw i;yn(n,"network-request-failed")}})).apply(this,arguments)}function gO(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?function(n,e){vs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,i):`${n.config.apiScheme}://${i}`}class CQ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ii(this.auth,"timeout")),EQ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ff(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ii(n,e,r);return i.customData._tokenResponse=t,i}function wE(){return(wE=E(function*(n,e){return kt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function TQ(n,e){return TE.apply(this,arguments)}function TE(){return(TE=E(function*(n,e){return kt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Eu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function DE(){return(DE=E(function*(n,e=!1){const t=ri(n),r=yield t.getIdToken(e),i=Lf(r);R(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Eu(SE(i.auth_time)),issuedAtTime:Eu(SE(i.iat)),expirationTime:Eu(SE(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function SE(n){return 1e3*Number(n)}function Lf(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Nf("JWT malformed, contained fewer than 3 sections"),null;try{const i=Tv(t);return i?JSON.parse(i):(Nf("Failed to decode base64 JWT payload"),null)}catch(i){return Nf("Caught error parsing JWT payload as JSON",i),null}}function Ui(n,e){return AE.apply(this,arguments)}function AE(){return(AE=E(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof ms&&AQ(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function AQ({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class RQ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(E(function*(){yield t.iteration()}),r)}iteration(){var e=this;return E(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&e.schedule(!0))}e.schedule()})()}}class _O{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eu(this.lastLoginAt),this.creationTime=Eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Cu(n){return RE.apply(this,arguments)}function RE(){return(RE=E(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Ui(n,TQ(t,{idToken:r}));R(null==i?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?xQ(s.providerUserInfo):[],a=kQ(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new _O(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)})).apply(this,arguments)}function ME(){return(ME=E(function*(n){const e=ri(n);yield Cu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function kQ(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function xQ(n){return n.map(e=>{var{providerId:t}=e,r=Wx(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function kE(){return(kE=E(function*(n,e){const t=yield pO(n,{},()=>{const r=Mv({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=gO(n,i,"/v1/token",`key=${s}`);return vE.fetch()(o,{method:"POST",headers:{"X-Client-Version":n._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class wu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){R(e.idToken,"internal-error"),R(void 0!==e.idToken,"internal-error"),R(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(n){const e=Lf(n);return R(e,"internal-error"),R(void 0!==e.exp,"internal-error"),R(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return E(function*(){return R(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return E(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function(n,e){return kE.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new wu;return r&&(R("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(R("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(R("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wu,this.toJSON())}_performRefresh(){return si("not implemented")}}function bs(n,e){R("string"==typeof n||void 0===n,"internal-error",{appName:e})}class yo{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Wx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new RQ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.metadata=new _O(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return E(function*(){const r=yield Ui(t,t.stsTokenManager.getToken(t.auth,e));return R(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function(n){return DE.apply(this,arguments)}(this,e)}reload(){return function(n){return ME.apply(this,arguments)}(this)}_assign(e){this!==e&&(R(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new yo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){R(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return E(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Cu(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return E(function*(){const t=yield e.getIdToken();return yield Ui(e,function(n,e){return wE.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,_=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,v=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:T,emailVerified:S,isAnonymous:z,providerData:Ie,stsTokenManager:ke}=t;R(T&&ke,e,"internal-error");const jt=wu.fromJSON(this.name,ke);R("string"==typeof T,e,"internal-error"),bs(d,e.name),bs(h,e.name),R("boolean"==typeof S,e,"internal-error"),R("boolean"==typeof z,e,"internal-error"),bs(f,e.name),bs(p,e.name),bs(_,e.name),bs(g,e.name),bs(v,e.name),bs(y,e.name);const _t=new yo({uid:T,auth:e,email:h,emailVerified:S,displayName:d,isAnonymous:z,photoURL:p,phoneNumber:f,tenantId:_,stsTokenManager:jt,createdAt:v,lastLoginAt:y});return Ie&&Array.isArray(Ie)&&(_t.providerData=Ie.map(Ot=>Object.assign({},Ot))),g&&(_t._redirectEventId=g),_t}static _fromIdTokenResponse(e,t,r=!1){return E(function*(){const i=new wu;i.updateFromServerResponse(t);const s=new yo({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Cu(s),s})()}}const mO=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(function*(){return!0})()}_set(t,r){var i=this;return E(function*(){i.storage[t]=r})()}_get(t){var r=this;return E(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return E(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Vf(n,e,t){return`firebase:${n}:${e}:${t}`}class wl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Vf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Vf("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return E(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?yo._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return E(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return E(function*(){if(!t.length)return new wl(Vi(mO),e,r);const i=(yield Promise.all(t.map(function(){var c=E(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Vi(mO);const o=Vf(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=yield c._get(o);if(u){const d=yo._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch(u){}const l=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=E(function*(u){if(u!==s)try{yield u._remove(o)}catch(d){}});return function(u){return c.apply(this,arguments)}}())),new wl(s,e,r)):new wl(s,e,r)})()}}function yO(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function(n=Pn()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function(n=Pn()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function(n=Pn()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function(n=Pn()){return/webos/i.test(n)}(e))return"Webos";if(function(n=Pn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function(n=Pn()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function(n=Pn()){return/android/i.test(n)}(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function TO(n,e=[]){let t;switch(n){case"Browser":t=yO(Pn());break;case"Worker":t=`${yO(Pn())}-${n}`;break;default:t=n}return`${t}/JsCore/9.1.2/${e.length?e.join(","):"FirebaseCore-web"}`}class FQ{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DO(this),this.idTokenSubscription=new DO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cO,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Vi(t)),this._initializationPromise=this.queue(E(function*(){var i;r._deleted||(r.persistenceManager=yield wl.create(r,e),!r._deleted&&((null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)&&(yield r._popupRedirectResolver._initialize(r)),yield r.initializeCurrentUser(t),!r._deleted&&(r._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var e=this;return E(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t)}})()}initializeCurrentUser(e){var t=this;return E(function*(){var r;let i=yield t.assertedPersistence.getCurrentUser();if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const s=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,o=null==i?void 0:i._redirectEventId,a=yield t.tryRedirectSignIn(e);(!s||s===o)&&(null==a?void 0:a.user)&&(i=a.user)}return i?i._redirectEventId?(R(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===i._redirectEventId?t.directlySetCurrentUser(i):t.reloadAndSetCurrentUserOrClear(i)):t.reloadAndSetCurrentUserOrClear(i):t.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var t=this;return E(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(i){yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return E(function*(){try{yield Cu(e)}catch(r){if("auth/network-request-failed"!==r.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return E(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return E(function*(){const r=e?ri(e):null;return r&&R(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e){var t=this;return E(function*(){if(!t._deleted)return e&&R(t.tenantId===e.tenantId,t,"tenant-id-mismatch"),t.queue(E(function*(){yield t.directlySetCurrentUser(e),t.notifyAuthListeners()}))})()}signOut(){var e=this;return E(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var t=this;return this.queue(E(function*(){yield t.assertedPersistence.setPersistence(Vi(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ti("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return E(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return E(function*(){if(!t.redirectPersistenceManager){const r=e&&Vi(e)||t._popupRedirectResolver;R(r,t,"argument-error"),t.redirectPersistenceManager=yield wl.create(t,[Vi(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return E(function*(){var r,i;return t._isInitialized&&(yield t.queue(E(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return E(function*(){if(e===t.currentUser)return t.queue(E(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return R(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return E(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return R(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}class DO{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(n,e){const t=new d5(n,void 0);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return R(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}new WeakMap,Math.floor(1e6*Math.random()),new bu(3e4,6e4),new bu(2e3,1e4),new Map,new bu(3e4,6e4),new bu(5e3,15e3),new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);class DX{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return E(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){R(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function(n){gn(new on("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),{apiKey:i,authDomain:s}=r.options;return(o=>{R(i&&!i.includes(":"),"invalid-api-key",{appName:o.name}),R(!(null==s?void 0:s.includes(":")),"argument-error",{appName:o.name});const a={apiKey:i,authDomain:s,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TO(n)},l=new FQ(o,a);return function(n,e){const t=(null==e?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Vi);(null==e?void 0:e.errorMap)&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(l,t),l})(r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),gn(new on("auth-internal",e=>{const t=function(n){return ri(n)}(e.getProvider("auth").getImmediate());return new DX(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),On("@firebase/auth","0.18.2",void 0)}("Browser");class rN{constructor(){return pE("auth")}}const iN=new Map,xX={activated:!1,tokenObservers:[]},PX={initialized:!1,enabled:!1};function an(n){return iN.get(n)||xX}function oi(n,e){iN.set(n,e)}function Qf(){return PX}class FX{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return E(function*(){t.stop();try{t.pending=new ao,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new ao,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Fn=new ti("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function lN(n){if(!an(n).activated)throw Fn.create("use-before-activation",{appName:n.name})}function cN(n,e){return _w.apply(this,arguments)}function _w(){return(_w=E(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(n,s)}catch(d){throw Fn.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==o.status)throw Fn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Fn.create("fetch-parse-error",{originalErrorMessage:d.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Fn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(l[1]),u=Date.now();return{token:a.attestationToken,expireTimeMillis:u+c,issuedAtTimeMillis:u}})).apply(this,arguments)}function jX(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Su="firebase-app-check-store";let Jf=null;function dN(){return Jf||(Jf=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Fn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Su,{keyPath:"compositeKey"})}}}catch(t){e(Fn.create("storage-open",{originalErrorMessage:t.message}))}}),Jf)}function mw(){return(mw=E(function*(n,e){const r=(yield dN()).transaction(Su,"readwrite"),s=r.objectStore(Su).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var c;a(Fn.create("storage-set",{originalErrorMessage:null===(c=l.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const Xf=new fl("@firebase/app-check");function gN(n,e){return dl()?function(n,e){return function(n,e){return mw.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Xf.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function _N(){return Qf().enabled}function mN(){return Ew.apply(this,arguments)}function Ew(){return(Ew=E(function*(){const n=Qf();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const JX={error:"UNKNOWN_ERROR"};function XX(n){return _f.encodeString(JSON.stringify(n),!1)}function Zf(n){return Cw.apply(this,arguments)}function Cw(){return(Cw=E(function*(n,e=!1){const t=n.app;lN(t);const r=an(t);let s,o,i=r.token;if(!i){const a=yield r.cachedTokenPromise;a&&Au(a)&&(i=a,oi(t,Object.assign(Object.assign({},r),{token:i})),vN(t,{token:i.token}))}if(!e&&i&&Au(i))return{token:i.token};if(_N()){const a=yield cN(jX(t,yield mN()),n.platformLoggerProvider);return yield gN(t,a),oi(t,Object.assign(Object.assign({},r),{token:a})),{token:a.token}}try{i=yield r.provider.getToken()}catch(a){Xf.error(a),s=a}return i?(o={token:i.token},oi(t,Object.assign(Object.assign({},r),{token:i})),yield gN(t,i)):o=eZ(s),vN(t,o),o})).apply(this,arguments)}function ww(n,e){const t=an(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),oi(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function vN(n,e){const t=an(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function Au(n){return n.expireTimeMillis-Date.now()>0}function eZ(n){return{token:XX(JX),error:n}}class tZ{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=an(this.app);for(const t of e)ww(this.app,t.next);return Promise.resolve()}}const wN="app-check-internal";gn(new on("app-check",n=>function(n,e){return new tZ(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(wN).initialize()})),gn(new on(wN,n=>function(n){return{getToken:e=>Zf(n,e),addTokenListener:e=>function(n,e,t,r){const{app:i}=n,s=an(i),o={next:t,error:r,type:e},a=Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]});if(!a.tokenRefresher){const l=function(n){const{app:e}=n;return new FX(E(function*(){let r;if(r=an(e).token?yield Zf(n,!0):yield Zf(n),r.error)throw r.error}),()=>!0,()=>{const t=an(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n);a.tokenRefresher=l}if(!a.tokenRefresher.isRunning()&&s.isTokenAutoRefreshEnabled&&a.tokenRefresher.start(),s.token&&Au(s.token)){const l=s.token;Promise.resolve().then(()=>t({token:l.token})).catch(()=>{})}else null==s.token&&s.cachedTokenPromise.then(l=>{l&&Au(l)&&t({token:l.token})}).catch(()=>{});oi(i,a)}(n,"INTERNAL",e),removeTokenListener:e=>ww(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),On("@firebase/app-check","0.4.2");class TN{constructor(){return pE("app-check")}}"undefined"!=typeof window&&window;class vZ{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new Aw(e,this.delay,this.scheduler))}}class Aw extends _e{constructor(e,t,r){super(e),this.delay=t,this.scheduler=r,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,r=t.queue,i=e.scheduler,s=e.destination;for(;r.length>0&&r[0].time-i.now()<=0;)r.shift().notification.observe(s);if(r.length>0){const o=Math.max(0,r[0].time-i.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(Aw.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,r=new bZ(t.now()+this.delay,e);this.queue.push(r),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(mn.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(mn.createComplete()),this.unsubscribe()}}class bZ{constructor(e,t){this.time=e,this.notification=t}}let Rw="";class IZ{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Mt(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:gu(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class TZ{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return ni(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const DN=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new IZ(e)}}catch(e){}return new TZ},Co=DN("localStorage"),Mw=DN("sessionStorage"),Il=new fl("@firebase/database"),SN=function(){let n=1;return function(){return n++}}(),AN=function(n){const e=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,D(r<n.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(n.charCodeAt(r)-56320)}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e}(n),t=new c5;t.update(e);const r=t.digest();return _f.encodeByteArray(r)},Ru=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Ru.apply(null,r):e+="object"==typeof r?Mt(r):r,e+=" "}return e};let wo=null,RN=!0;const xt=function(...n){if(!0===RN&&(RN=!1,null===wo&&!0===Mw.get("logging_enabled")&&function(n,e){D(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Il.logLevel=Oe.VERBOSE,wo=Il.log.bind(Il),e&&Mw.set("logging_enabled",!0)):"function"==typeof n?wo=n:(wo=null,Mw.remove("logging_enabled"))}(!0)),wo){const e=Ru.apply(null,n);wo(e)}},Mu=function(n){return function(...e){xt(n,...e)}},kw=function(...n){const e="FIREBASE INTERNAL ERROR: "+Ru(...n);Il.error(e)},ai=function(...n){const e=`FIREBASE FATAL ERROR: ${Ru(...n)}`;throw Il.error(e),new Error(e)},ln=function(...n){const e="FIREBASE WARNING: "+Ru(...n);Il.warn(e)},ep=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Hi="[MIN_NAME]",li="[MAX_NAME]",Io=function(n,e){if(n===e)return 0;if(n===Hi||e===li)return-1;if(e===Hi||n===li)return 1;{const t=tp(n),r=tp(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},AZ=function(n,e){return n===e?0:n<e?-1:1},ku=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Mt(e))},xw=function(n){if("object"!=typeof n||null===n)return Mt(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=Mt(e[r]),t+=":",t+=xw(n[e[r]]);return t+="}",t},kN=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function Pt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const xN=function(n){D(!ep(n),"Invalid JSON number");const r=1023;let i,s,o,a,l;0===n?(s=0,o=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=a+r,o=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const c=[];for(l=52;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=11;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},xZ=new RegExp("^-?(0*)\\d{1,10}$"),tp=function(n){if(xZ.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Tl=function(n){try{n()}catch(e){setTimeout(()=>{throw ln("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},xu=function(n,e){const t=setTimeout(n,e);return"object"==typeof t&&t.unref&&t.unref(),t};class OZ{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ln(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class NZ{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(xt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ln(e)}}let Pu=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const VN=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,UN="websocket",jN="long_polling";class Nw{constructor(e,t,r,i,s=!1,o="",a=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Co.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Co.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function HN(n,e,t){let r;if(D("string"==typeof e,"typeof type must == string"),D("object"==typeof t,"typeof params must == object"),e===UN)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==jN)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return Pt(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class VZ{constructor(){this.counters_={}}incrementCounter(e,t=1){ni(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return t5(this.counters_)}}const Fw={},Lw={};function Vw(n){const e=n.toString();return Fw[e]||(Fw[e]=new VZ),Fw[e]}class UZ{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Tl(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Dl{constructor(e,t,r,i,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Mu(e),this.stats_=Vw(t),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),HN(t,jN,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new UZ(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Bw((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=l;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&VN.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Dl.forceAllow_=!0}static forceDisallow(){Dl.forceDisallow_=!0}static isAvailable(){return!(!Dl.forceAllow_&&(Dl.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Mt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=function(n){const e=qx(n);return _f.encodeByteArray(e,!0)}(t),i=kN(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Mt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Bw{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=SN(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Bw.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){xt("frame writing exception"),a.stack&&xt(a.stack),xt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||xt("No IE domain setting required")}catch(t){const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{xt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let Ou=null;"undefined"!=typeof MozWebSocket?Ou=MozWebSocket:"undefined"!=typeof WebSocket&&(Ou=WebSocket);let Nu=(()=>{class n{constructor(t,r,i,s,o,a,l){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Mu(this.connId),this.stats_=Vw(r),this.connURL=n.connectionURL_(r,a,l,s),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s){const o={v:"5"};return"undefined"!=typeof location&&location.hostname&&VN.test(location.hostname)&&(o.r="f"),r&&(o.s=r),i&&(o.ls=i),s&&(o.ac=s),HN(t,UN,o)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Co.set("previous_websocket_failure",!0);try{this.mySock=new Ou(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==Ou&&!n.forceDisallow_}static previouslyFailed(){return Co.isInMemoryStorage||!0===Co.get("previous_websocket_failure")}markConnectionHealthy(){Co.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=gu(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(D(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=Mt(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=kN(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class Uw{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Dl,Nu]}initTransports_(e){const t=Nu&&Nu.isAvailable();let r=t&&!Nu.previouslyFailed();if(e.webSocketOnly&&(t||ln("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Nu];else{const i=this.transports_=[];for(const s of Uw.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class t1{constructor(e,t,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Mu("c:"+this.id+":"),this.transportManager_=new Uw(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=xu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=ku("t",e),r=ku("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=ku("t",e),r=ku("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=ku("t",e);if("d"in e){const r=e.d;if("h"===t)this.onHandshake_(r);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?kw("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):kw("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&ln("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),xu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):xu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Co.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class n1{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class r1{constructor(e){this.allowedEvents_=e,this.listeners_={},D(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){D(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class rp extends r1{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!Dv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new rp}getInitialEvent(e){return D("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Ne{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Re(){return new Ne("")}function le(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Es(n){return n.pieces_.length-n.pieceNum_}function Ue(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Ne(n.pieces_,e)}function Hw(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Fu(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function o1(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Ne(e,0)}function Qe(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof Ne)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new Ne(t,0)}function ce(n){return n.pieceNum_>=n.pieces_.length}function cn(n,e){const t=le(n),r=le(e);if(null===t)return e;if(t===r)return cn(Ue(n),Ue(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function lee(n,e){const t=Fu(n,0),r=Fu(e,0);for(let i=0;i<t.length&&i<r.length;i++){const s=Io(t[i],r[i]);if(0!==s)return s}return t.length===r.length?0:t.length<r.length?-1:1}function $w(n,e){if(Es(n)!==Es(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function rr(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Es(n)>Es(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class cee{constructor(e,t){this.errorPrefix_=t,this.parts_=Fu(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=bf(this.parts_[r]);a1(this)}}function a1(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+To(n))}function To(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Ww extends r1{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Ww}getInitialEvent(e){return D("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Lu=1e3;let sp,Do=(()=>{class n extends n1{constructor(t,r,i,s,o,a,l,c){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=n.nextPersistentConnectionId_++,this.log_=Mu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Lu,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ww.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&rp.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,o={r:s,a:t,b:r};this.log_(Mt(o)),D(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new ao,i={p:t._path.toString(),q:t._queryObject},s={action:"g",request:i,onComplete:a=>{const l=a.d;"ok"===a.s?(this.onDataUpdate_(i.p,l,!1,null),r.resolve(l)):r.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const a=this.outstandingGets_[o];void 0===a||s!==a||(delete this.outstandingGets_[o],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+o+" timed out on connection"),r.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(o),r.promise}listen(t,r,i,s){this.initConnection_();const o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),D(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),D(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};t.tag&&(o.q=r._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,l=>{const c=l.d,u=l.s;n.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",l),"ok"!==u&&this.removeListen_(i,s),t.onComplete&&t.onComplete(u,c))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&ni(t,"w")){const i=hl(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();ln(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=yf(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=function(n){const t=yf(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===t&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),D(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const o={p:t};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Mt(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):kw("Unrecognized action received from server: "+Mt(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){D(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Lu,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Lu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Lu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return E(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),o=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let l=!1,c=null;const u=function(){c?c.close():(l=!0,s())};t.realtime_={close:u,sendRequest:function(f){D(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)}};const h=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([t.authTokenProvider_.getToken(h),t.appCheckTokenProvider_.getToken(h)]);l?xt("getToken() completed but was canceled"):(xt("getToken() completed. Creating connection."),t.authToken_=f&&f.accessToken,t.appCheckToken_=p&&p.token,c=new t1(o,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,_=>{ln(_+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(f){t.log_("Failed to get token: "+f),l||(t.repoInfo_.nodeAdmin&&ln(f),u())}}})()}interrupt(t){xt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){xt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Xx(this.interruptReasons_)&&(this.reconnectDelay_=Lu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(o=>xw(o)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new Ne(t).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){xt("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){xt("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+Rw.replace(/\./g,"-")]=1,Dv()?t["framework.cordova"]=1:Jx()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=rp.getInstance().currentlyOnline();return Xx(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class fe{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new fe(e,t)}}class ip{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new fe(Hi,e),i=new fe(Hi,t);return 0!==this.compare(r,i)}minPost(){return fe.MIN}}class u1 extends ip{static get __EMPTY_NODE(){return sp}static set __EMPTY_NODE(e){sp=e}compare(e,t){return Io(e.name,t.name)}isDefinedOn(e){throw ul("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return fe.MIN}maxPost(){return new fe(li,sp)}makePost(e,t){return D("string"==typeof e,"KeyIndex indexValue must always be a string."),new fe(e,sp)}toString(){return".key"}}const ci=new u1;class op{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?r(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let Gw,Pr=(()=>{class n{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=null!=i?i:n.RED,this.left=null!=s?s:bn.EMPTY_NODE,this.right=null!=o?o:bn.EMPTY_NODE}copy(t,r,i,s,o){return new n(null!=t?t:this.key,null!=r?r:this.value,null!=i?i:this.color,null!=s?s:this.left,null!=o?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return bn.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return bn.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class bn{constructor(e,t=bn.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new bn(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Pr.BLACK,null,null))}remove(e){return new bn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Pr.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new op(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new op(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new op(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new op(this.root_,null,this.comparator_,!0,e)}}function yee(n,e){return Io(n.name,e.name)}function zw(n,e){return Io(n,e)}bn.EMPTY_NODE=new class{copy(e,t,r,i,s){return this}insert(e,t,r){return new Pr(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const d1=function(n){return"number"==typeof n?"number:"+xN(n):"string:"+n},h1=function(n){if(n.isLeafNode()){const e=n.val();D("string"==typeof e||"number"==typeof e||"object"==typeof e&&ni(e,".sv"),"Priority must be a string or number.")}else D(n===Gw||n.isEmpty(),"priority of unexpected type.");D(n===Gw||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let f1,p1,g1,Sl=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,D(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),h1(this.priorityNode_)}static set __childrenNodeConstructor(t){f1=t}static get __childrenNodeConstructor(){return f1}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ce(t)?this:".priority"===le(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=le(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:(D(".priority"!==i||1===Es(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ue(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+d1(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?xN(this.value_):this.value_,this.lazyHash_=AN(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(D(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),o=n.VALUE_TYPE_ORDER.indexOf(i);return D(s>=0,"Unknown leaf type: "+r),D(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const $e=new class extends ip{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?Io(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return fe.MIN}maxPost(){return new fe(li,new Sl("[PRIORITY-POST]",g1))}makePost(e,t){const r=p1(e);return new fe(t,new Sl("[PRIORITY-POST]",r))}toString(){return".priority"}},wee=Math.log(2);class Iee{constructor(e){this.count=parseInt(Math.log(e+1)/wee,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ap=function(n,e,t,r){n.sort(e);const i=function(l,c){const u=c-l;let d,h;if(0===u)return null;if(1===u)return d=n[l],h=t?t(d):d,new Pr(h,d.node,Pr.BLACK,null,null);{const f=parseInt(u/2,10)+l,p=i(l,f),_=i(f+1,c);return d=n[f],h=t?t(d):d,new Pr(h,d.node,Pr.BLACK,p,_)}},a=function(l){let c=null,u=null,d=n.length;const h=function(p,_){const g=d-p,v=d;d-=p;const y=i(g+1,v),T=n[g],S=t?t(T):T;f(new Pr(S,T.node,_,null,y))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const _=l.nextBitIsOne(),g=Math.pow(2,l.count-(p+1));_?h(g,Pr.BLACK):(h(g,Pr.BLACK),h(g,Pr.RED))}return u}(new Iee(n.length));return new bn(r||e,a)};let qw;const Al={};class $i{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return D(Al&&$e,"ChildrenNode.ts has not been loaded"),qw=qw||new $i({".priority":Al},{".priority":$e}),qw}get(e){const t=hl(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof bn?t:null}hasIndex(e){return ni(this.indexSet_,e.toString())}addIndex(e,t){D(e!==ci,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(fe.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?ap(r,e.getCompare()):Al;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new $i(u,c)}addToIndexes(e,t){const r=vf(this.indexes_,(i,s)=>{const o=hl(this.indexSet_,s);if(D(o,"Missing index implementation for "+s),i===Al){if(o.isDefinedOn(e.node)){const a=[],l=t.getIterator(fe.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),ap(a,o.getCompare())}return Al}{const a=t.get(e.name);let l=i;return a&&(l=l.remove(new fe(e.name,a))),l.insert(e,e.node)}});return new $i(r,this.indexSet_)}removeFromIndexes(e,t){const r=vf(this.indexes_,i=>{if(i===Al)return i;{const s=t.get(e.name);return s?i.remove(new fe(e.name,s)):i}});return new $i(r,this.indexSet_)}}let Vu,te=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&h1(this.priorityNode_),this.children_.isEmpty()&&D(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Vu||(Vu=new n(new bn(zw),null,$i.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Vu}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?Vu:r}}getChild(t){const r=le(t);return null===r?this:this.getImmediateChild(r).getChild(Ue(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if(D(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new fe(t,r);let s,o;r.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?Vu:this.priorityNode_;return new n(s,a,o)}}updateChild(t,r){const i=le(t);if(null===i)return r;{D(".priority"!==le(t)||1===Es(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Ue(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild($e,(a,l)=>{r[a]=l.val(t),i++,o&&n.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!t&&o&&s<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+d1(this.getPriority().val())+":"),this.forEachChild($e,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":AN(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new fe(t,r));return o?o.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new fe(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new fe(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,fe.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,fe.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Bu?-1:0}withIndex(t){if(t===ci||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===ci||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator($e),s=r.getIterator($e);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(t){return t===ci?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Bu=new class extends te{constructor(){super(new bn(zw),te.EMPTY_NODE,$i.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return te.EMPTY_NODE}isEmpty(){return!1}};function et(n,e=null){if(null===n)return te.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),D(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Sl(n,et(e));if(n instanceof Array){let t=te.EMPTY_NODE;return Pt(n,(r,i)=>{if(ni(n,r)&&"."!==r.substring(0,1)){const s=et(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(et(e))}{const t=[];let r=!1;if(Pt(n,(o,a)=>{if("."!==o.substring(0,1)){const l=et(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),t.push(new fe(o,l)))}}),0===t.length)return te.EMPTY_NODE;const s=ap(t,yee,o=>o.name,zw);if(r){const o=ap(t,$e.getCompare());return new te(s,et(e),new $i({".priority":o},{".priority":$e}))}return new te(s,et(e),$i.Default)}}Object.defineProperties(fe,{MIN:{value:new fe(Hi,te.EMPTY_NODE)},MAX:{value:new fe(li,Bu)}}),u1.__EMPTY_NODE=te.EMPTY_NODE,Sl.__childrenNodeConstructor=te,function(n){Gw=n}(Bu),function(n){g1=n}(Bu),function(n){p1=n}(et);class Kw extends ip{constructor(e){super(),this.indexPath_=e,D(!ce(e)&&".priority"!==le(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return 0===s?Io(e.name,t.name):s}makePost(e,t){const r=et(e),i=te.EMPTY_NODE.updateChild(this.indexPath_,r);return new fe(t,i)}maxPost(){const e=te.EMPTY_NODE.updateChild(this.indexPath_,Bu);return new fe(li,e)}toString(){return Fu(this.indexPath_,0).join("/")}}const Yw=new class extends ip{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?Io(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return fe.MIN}maxPost(){return fe.MAX}makePost(e,t){const r=et(e);return new fe(t,r)}toString(){return".value"}};function b1(n){return{type:"value",snapshotNode:n}}function Ml(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Uu(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function ju(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class Jw{constructor(e){this.index_=e}updateChild(e,t,r,i,s,o){D(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=o&&(r.isEmpty()?e.hasChild(t)?o.trackChildChange(Uu(t,a)):D(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Ml(t,r)):o.trackChildChange(ju(t,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return null!=r&&(e.isLeafNode()||e.forEachChild($e,(i,s)=>{t.hasChild(i)||r.trackChildChange(Uu(i,s))}),t.isLeafNode()||t.forEachChild($e,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(ju(i,s,o))}else r.trackChildChange(Ml(i,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?te.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Hu{constructor(e){this.indexedFilter_=new Jw(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Hu.getStartPost_(e),this.endPost_=Hu.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,r,i,s,o){return this.matches(new fe(t,r))||(r=te.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,s,o)}updateFullNode(e,t,r){t.isLeafNode()&&(t=te.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(te.EMPTY_NODE);const s=this;return t.forEachChild($e,(o,a)=>{s.matches(new fe(o,a))||(i=i.updateImmediateChild(o,te.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Mee{constructor(e){this.rangedFilter_=new Hu(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,r,i,s,o){return this.rangedFilter_.matches(new fe(t,r))||(r=te.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,s,o):this.fullLimitUpdateChild_(e,t,r,s,o)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=te.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;i=te.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();let l;if(l=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0,!l)break;i=i.updateImmediateChild(a.name,a.node),o++}}else{let s,o,a,l;if(i=t.withIndex(this.index_),i=i.updatePriority(te.EMPTY_NODE),this.reverse_){l=i.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),o=this.rangedFilter_.getStartPost();const d=this.index_.getCompare();a=(h,f)=>d(f,h)}else l=i.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),o=this.rangedFilter_.getEndPost(),a=this.index_.getCompare();let c=0,u=!1;for(;l.hasNext();){const d=l.getNext();!u&&a(s,d)<=0&&(u=!0),u&&c<this.limit_&&a(d,o)<=0?c++:i=i.updateImmediateChild(d.name,te.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();const a=e;D(a.numChildren()===this.limit_,"");const l=new fe(t,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(t)){const d=a.getImmediateChild(t);let h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=h&&(h.name===t||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const f=null==h?1:o(h,l);if(u&&!r.isEmpty()&&f>=0)return null!=s&&s.trackChildChange(ju(t,r,d)),a.updateImmediateChild(t,r);{null!=s&&s.trackChildChange(Uu(t,d));const _=a.updateImmediateChild(t,te.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=s&&s.trackChildChange(Ml(h.name,h.node)),_.updateImmediateChild(h.name,h.node)):_}}return r.isEmpty()?e:u&&o(c,l)>=0?(null!=s&&(s.trackChildChange(Uu(c.name,c.node)),s.trackChildChange(Ml(t,r))),a.updateImmediateChild(t,r).updateImmediateChild(c.name,te.EMPTY_NODE)):e}}class Xw{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=$e}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return D(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return D(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Hi}hasEnd(){return this.endSet_}getIndexEndValue(){return D(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return D(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:li}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return D(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===$e}copy(){const e=new Xw;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function E1(n){const e={};if(n.isDefault())return e;let t;return n.index_===$e?t="$priority":n.index_===Yw?t="$value":n.index_===ci?t="$key":(D(n.index_ instanceof Kw,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Mt(t),n.startSet_&&(e.startAt=Mt(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+Mt(n.indexStartName_))),n.endSet_&&(e.endAt=Mt(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+Mt(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function C1(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==$e&&(e.i=n.index_.toString()),e}class cp extends n1{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Mu("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(D(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=cp.getListenId_(e,r),a={};this.listens_[o]=a;const l=E1(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(404===c&&(d=null,c=null),null===c&&this.onDataUpdate_(s,d,!1,r),hl(this.listens_,o)===a){let h;h=c?401===c?"permission_denied":"rest_error:"+c:"ok",i(h,null)}})}unlisten(e,t){const r=cp.getListenId_(e,t);delete this.listens_[r]}get(e){const t=E1(e._queryParams),r=e._path.toString(),i=new ao;return this.restRequest_(r+".json",t,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Mv(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=gu(a.responseText)}catch(c){ln("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else 401!==a.status&&404!==a.status&&ln("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class Fee{constructor(){this.rootNode_=te.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function up(){return{value:null,children:new Map}}function kl(n,e,t){if(ce(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=le(e);n.children.has(r)||n.children.set(r,up()),kl(n.children.get(r),e=Ue(e),t)}}function nI(n,e,t){null!==n.value?t(e,n.value):function(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{nI(i,new Ne(e.toString()+"/"+r),t)})}class Vee{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Pt(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class jee{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Vee(e);const r=1e4+2e4*Math.random();xu(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Pt(e,(i,s)=>{s>0&&ni(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),xu(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ir=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ir||(ir={})),ir))();function sI(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class dp{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=ir.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(ce(this.path)){if(null!=this.affectedTree.value)return D(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Ne(e));return new dp(Re(),t,this.revert)}}return D(le(this.path)===e,"operationForChild called for unrelated child."),new dp(Ue(this.path),this.affectedTree,this.revert)}}class $u{constructor(e,t){this.source=e,this.path=t,this.type=ir.LISTEN_COMPLETE}operationForChild(e){return ce(this.path)?new $u(this.source,Re()):new $u(this.source,Ue(this.path))}}class So{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=ir.OVERWRITE}operationForChild(e){return ce(this.path)?new So(this.source,Re(),this.snap.getImmediateChild(e)):new So(this.source,Ue(this.path),this.snap)}}class xl{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=ir.MERGE}operationForChild(e){if(ce(this.path)){const t=this.children.subtree(new Ne(e));return t.isEmpty()?null:t.value?new So(this.source,Re(),t.value):new xl(this.source,Re(),t)}return D(le(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new xl(this.source,Ue(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Cs{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ce(e))return this.isFullyInitialized()&&!this.filtered_;const t=le(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Hee{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Wu(n,e,t,r,i,s){const o=r.filter(a=>a.type===t);o.sort((a,l)=>function(n,e,t){if(null==e.childName||null==t.childName)throw ul("Should only compare child_ events.");const r=new fe(e.childName,e.snapshotNode),i=new fe(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,a,l)),o.forEach(a=>{const l=function(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,n.query_))})})}function hp(n,e){return{eventCache:n,serverCache:e}}function zu(n,e,t,r){return hp(new Cs(e,t,r),n.serverCache)}function I1(n,e,t,r){return hp(n.eventCache,new Cs(e,t,r))}function fp(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ao(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let oI;class We{constructor(e,t=(()=>(oI||(oI=new bn(AZ)),oI))()){this.value=e,this.children=t}static fromObject(e){let t=new We(null);return Pt(e,(r,i)=>{t=t.set(new Ne(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Re(),value:this.value};if(ce(e))return null;{const r=le(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(Ue(e),t);return null!=s?{path:Qe(new Ne(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ce(e))return this;{const t=le(e),r=this.children.get(t);return null!==r?r.subtree(Ue(e)):new We(null)}}set(e,t){if(ce(e))return new We(t,this.children);{const r=le(e),s=(this.children.get(r)||new We(null)).set(Ue(e),t),o=this.children.insert(r,s);return new We(this.value,o)}}remove(e){if(ce(e))return this.children.isEmpty()?new We(null):new We(null,this.children);{const t=le(e),r=this.children.get(t);if(r){const i=r.remove(Ue(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new We(null):new We(this.value,s)}return this}}get(e){if(ce(e))return this.value;{const t=le(e),r=this.children.get(t);return r?r.get(Ue(e)):null}}setTree(e,t){if(ce(e))return t;{const r=le(e),s=(this.children.get(r)||new We(null)).setTree(Ue(e),t);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new We(this.value,o)}}fold(e){return this.fold_(Re(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Qe(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Re(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(ce(e))return null;{const s=le(e),o=this.children.get(s);return o?o.findOnPath_(Ue(e),Qe(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Re(),t)}foreachOnPath_(e,t,r){if(ce(e))return this;{this.value&&r(t,this.value);const i=le(e),s=this.children.get(i);return s?s.foreachOnPath_(Ue(e),Qe(t,i),r):new We(null)}}foreach(e){this.foreach_(Re(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(Qe(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class Or{constructor(e){this.writeTree_=e}static empty(){return new Or(new We(null))}}function Gu(n,e,t){if(ce(e))return new Or(new We(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=cn(i,e);return s=s.updateChild(o,t),new Or(n.writeTree_.set(i,s))}{const i=new We(t),s=n.writeTree_.setTree(e,i);return new Or(s)}}}function aI(n,e,t){let r=n;return Pt(t,(i,s)=>{r=Gu(r,Qe(e,i),s)}),r}function T1(n,e){if(ce(e))return Or.empty();{const t=n.writeTree_.setTree(e,new We(null));return new Or(t)}}function lI(n,e){return null!=Ro(n,e)}function Ro(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(cn(t.path,e)):null}function D1(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild($e,(r,i)=>{e.push(new fe(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new fe(r,i.value))}),e}function ws(n,e){if(ce(e))return n;{const t=Ro(n,e);return new Or(null!=t?new We(t):n.writeTree_.subtree(e))}}function cI(n){return n.writeTree_.isEmpty()}function Pl(n,e){return S1(Re(),n.writeTree_,e)}function S1(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(D(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):t=S1(Qe(n,i),s,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(Qe(n,".priority"),r)),t}}function pp(n,e){return x1(e,n)}function Jee(n,e){if(n.snap)return rr(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&rr(Qe(n.path,t),e))return!0;return!1}function Zee(n){return n.visible}function A1(n,e,t){let r=Or.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const o=s.path;let a;if(s.snap)rr(t,o)?(a=cn(t,o),r=Gu(r,a,s.snap)):rr(o,t)&&(a=cn(o,t),r=Gu(r,Re(),s.snap.getChild(a)));else{if(!s.children)throw ul("WriteRecord should have .snap or .children");if(rr(t,o))a=cn(t,o),r=aI(r,a,s.children);else if(rr(o,t))if(a=cn(o,t),ce(a))r=aI(r,Re(),s.children);else{const l=hl(s.children,le(a));if(l){const c=l.getChild(Ue(a));r=Gu(r,Re(),c)}}}}}return r}function R1(n,e,t,r,i){if(r||i){const s=ws(n.visibleWrites,e);return!i&&cI(s)?t:i||null!=t||lI(s,Re())?Pl(A1(n.allWrites,function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(rr(c.path,e)||rr(e,c.path))},e),t||te.EMPTY_NODE):null}{const s=Ro(n.visibleWrites,e);if(null!=s)return s;{const o=ws(n.visibleWrites,e);return cI(o)?t:null!=t||lI(o,Re())?Pl(o,t||te.EMPTY_NODE):null}}}function gp(n,e,t,r){return R1(n.writeTree,n.treePath,e,t,r)}function uI(n,e){return function(n,e,t){let r=te.EMPTY_NODE;const i=Ro(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild($e,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){const s=ws(n.visibleWrites,e);return t.forEachChild($e,(o,a)=>{const l=Pl(ws(s,new Ne(o)),a);r=r.updateImmediateChild(o,l)}),D1(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return D1(ws(n.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(n.writeTree,n.treePath,e)}function M1(n,e,t,r){return function(n,e,t,r,i){D(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Qe(e,t);if(lI(n.visibleWrites,s))return null;{const o=ws(n.visibleWrites,s);return cI(o)?i.getChild(t):Pl(o,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function _p(n,e){return function(n,e){return Ro(n.visibleWrites,e)}(n.writeTree,Qe(n.treePath,e))}function dI(n,e,t){return function(n,e,t,r){const i=Qe(e,t),s=Ro(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(t)?Pl(ws(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function k1(n,e){return x1(Qe(n.treePath,e),n.writeTree)}function x1(n,e){return{treePath:n,writeTree:e}}class ate{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;D("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),D(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(r,ju(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(r,Uu(r,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(r,Ml(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw ul("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,ju(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const P1=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class hI{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Cs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return dI(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ao(this.viewCache_),s=function(n,e,t,r,i,s){return function(n,e,t,r,i,s,o){let a;const l=ws(n.visibleWrites,e),c=Ro(l,Re());if(null!=c)a=c;else{if(null==t)return[];a=Pl(l,t)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&u.length<i;)0!==d(f,r)&&u.push(f),f=h.getNext();return u}}(n.writeTree,n.treePath,e,t,r,i,s)}(this.writes_,i,t,1,r,e);return 0===s.length?null:s[0]}}function O1(n,e,t,r,i,s){const o=e.eventCache;if(null!=_p(r,t))return e;{let a,l;if(ce(t))if(D(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Ao(e),d=uI(r,c instanceof te?c:te.EMPTY_NODE);a=n.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=gp(r,Ao(e));a=n.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=le(t);if(".priority"===c){D(1===Es(t),"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=M1(r,t,u,l);a=null!=d?n.filter.updatePriority(u,d):o.getNode()}else{const u=Ue(t);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=M1(r,t,o.getNode(),l);d=null!=h?o.getNode().getImmediateChild(c).updateChild(u,h):o.getNode().getImmediateChild(c)}else d=dI(r,c,e.serverCache);a=null!=d?n.filter.updateChild(o.getNode(),c,d,u,i,s):o.getNode()}}return zu(e,a,o.isFullyInitialized()||ce(t),n.filter.filtersNodes())}}function mp(n,e,t,r,i,s,o,a){const l=e.serverCache;let c;const u=o?n.filter:n.filter.getIndexedFilter();if(ce(t))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(t,r);c=u.updateFullNode(l.getNode(),f,null)}else{const f=le(t);if(!l.isCompleteForPath(t)&&Es(t)>1)return e;const p=Ue(t),g=l.getNode().getImmediateChild(f).updateChild(p,r);c=".priority"===f?u.updatePriority(l.getNode(),g):u.updateChild(l.getNode(),f,g,p,P1,null)}const d=I1(e,c,l.isFullyInitialized()||ce(t),u.filtersNodes());return O1(n,d,t,i,new hI(i,d,s),a)}function fI(n,e,t,r,i,s,o){const a=e.eventCache;let l,c;const u=new hI(i,e,s);if(ce(t))c=n.filter.updateFullNode(e.eventCache.getNode(),r,o),l=zu(e,c,!0,n.filter.filtersNodes());else{const d=le(t);if(".priority"===d)c=n.filter.updatePriority(e.eventCache.getNode(),r),l=zu(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=Ue(t),f=a.getNode().getImmediateChild(d);let p;if(ce(h))p=r;else{const _=u.getCompleteChild(d);p=null!=_?".priority"===Hw(h)&&_.getChild(o1(h)).isEmpty()?_:_.updateChild(h,r):te.EMPTY_NODE}l=f.equals(p)?e:zu(e,n.filter.updateChild(a.getNode(),d,p,h,u,o),a.isFullyInitialized(),n.filter.filtersNodes())}}return l}function N1(n,e){return n.eventCache.isCompleteForChild(e)}function F1(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function pI(n,e,t,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c,l=e;c=ce(t)?r:new We(null).setTree(t,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const p=F1(0,e.serverCache.getNode().getImmediateChild(d),h);l=mp(n,l,new Ne(d),p,i,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&void 0===h.value;if(!u.hasChild(d)&&!f){const _=F1(0,e.serverCache.getNode().getImmediateChild(d),h);l=mp(n,l,new Ne(d),_,i,s,o,a)}}),l}class mte{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Jw(r.getIndex()),s=function(n){return n.loadsAllData()?new Jw(n.getIndex()):n.hasLimit()?new Mee(n):new Hu(n)}(r);this.processor_=function(n){return{filter:n}}(s);const o=t.serverCache,a=t.eventCache,l=i.updateFullNode(te.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(te.EMPTY_NODE,a.getNode(),null),u=new Cs(l,o.isFullyInitialized(),i.filtersNodes()),d=new Cs(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=hp(d,u),this.eventGenerator_=new Hee(this.query_)}get query(){return this.query_}}function bte(n,e){const t=Ao(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!ce(e)&&!t.getImmediateChild(le(e)).isEmpty())?t.getChild(e):null}function L1(n){return 0===n.eventRegistrations_.length}function V1(n,e,t){const r=[];if(t){D(null==e,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(t,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<n.eventRegistrations_.length;++s){const o=n.eventRegistrations_[s];if(o.matches(e)){if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(s+1));break}}else i.push(o)}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function B1(n,e,t,r){e.type===ir.MERGE&&null!==e.source.queryId&&(D(Ao(n.viewCache_),"We should always have a full cache before handling merges"),D(fp(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function(n,e,t,r,i){const s=new ate;let o,a;if(t.type===ir.OVERWRITE){const c=t;c.source.fromUser?o=fI(n,e,c.path,c.snap,r,i,s):(D(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ce(c.path),o=mp(n,e,c.path,c.snap,r,i,a,s))}else if(t.type===ir.MERGE){const c=t;c.source.fromUser?o=function(n,e,t,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=Qe(t,l);N1(e,le(u))&&(a=fI(n,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=Qe(t,l);N1(e,le(u))||(a=fI(n,a,u,c,i,s,o))}),a}(n,e,c.path,c.children,r,i,s):(D(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=pI(n,e,c.path,c.children,r,i,a,s))}else if(t.type===ir.ACK_USER_WRITE){const c=t;o=c.revert?function(n,e,t,r,i,s){let o;if(null!=_p(r,t))return e;{const a=new hI(r,e,i),l=e.eventCache.getNode();let c;if(ce(t)||".priority"===le(t)){let u;if(e.serverCache.isFullyInitialized())u=gp(r,Ao(e));else{const d=e.serverCache.getNode();D(d instanceof te,"serverChildren would be complete if leaf node"),u=uI(r,d)}u=u,c=n.filter.updateFullNode(l,u,s)}else{const u=le(t);let d=dI(r,u,e.serverCache);null==d&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),c=null!=d?n.filter.updateChild(l,u,d,Ue(t),a,s):e.eventCache.getNode().hasChild(u)?n.filter.updateChild(l,u,te.EMPTY_NODE,Ue(t),a,s):l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=gp(r,Ao(e)),o.isLeafNode()&&(c=n.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=_p(r,Re()),zu(e,c,o,n.filter.filtersNodes())}}(n,e,c.path,r,i,s):function(n,e,t,r,i,s,o){if(null!=_p(i,t))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=r.value){if(ce(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return mp(n,e,t,l.getNode().getChild(t),i,s,a,o);if(ce(t)){let c=new We(null);return l.getNode().forEachChild(ci,(u,d)=>{c=c.set(new Ne(u),d)}),pI(n,e,t,c,i,s,a,o)}return e}{let c=new We(null);return r.foreach((u,d)=>{const h=Qe(t,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),pI(n,e,t,c,i,s,a,o)}}(n,e,c.path,c.affectedTree,r,i,s)}else{if(t.type!==ir.LISTEN_COMPLETE)throw ul("Unknown operation type: "+t.type);o=function(n,e,t,r,i){const s=e.serverCache;return O1(n,I1(e,s.getNode(),s.isFullyInitialized()||ce(t),s.isFiltered()),t,r,P1,i)}(n,e,t.path,r,s)}const l=s.getChanges();return function(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=fp(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(b1(fp(e)))}}(e,o,l),{viewCache:o,changes:l}}(n.processor_,i,e,t,r);return function(n,e){D(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),D(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),D(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,U1(n,s.changes,s.viewCache.eventCache.getNode(),null)}function U1(n,e,t,r){return function(n,e,t,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(o.childName,o.snapshotNode))}),Wu(n,i,"child_removed",e,r,t),Wu(n,i,"child_added",e,r,t),Wu(n,i,"child_moved",s,r,t),Wu(n,i,"child_changed",e,r,t),Wu(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}let yp,bp;class j1{constructor(){this.views=new Map}}function gI(n,e,t,r){const i=e.source.queryId;if(null!==i){const s=n.views.get(i);return D(null!=s,"SyncTree gave us an op for an invalid query."),B1(s,e,t,r)}{let s=[];for(const o of n.views.values())s=s.concat(B1(o,e,t,r));return s}}function Dte(n,e,t,r,i,s){const o=function(n,e,t,r,i){const o=n.views.get(e._queryIdentifier);if(!o){let a=gp(t,i?r:null),l=!1;a?l=!0:r instanceof te?(a=uI(t,r),l=!1):(a=te.EMPTY_NODE,l=!1);const c=hp(new Cs(a,l,!1),new Cs(r,i,!1));return new mte(e,c)}return o}(n,e,r,i,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,o),function(n,e){n.eventRegistrations_.push(e)}(o,t),function(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild($e,(s,o)=>{r.push(Ml(s,o))}),t.isFullyInitialized()&&r.push(b1(t.getNode())),U1(n,r,t.getNode(),e)}(o,t)}function $1(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Is(n,e){let t=null;for(const r of n.views.values())t=t||bte(r,e);return t}function W1(n,e){return e._queryParams.loadsAllData()?vp(n):n.views.get(e._queryIdentifier)}function z1(n,e){return null!=W1(n,e)}function Ts(n){return null!=vp(n)}function vp(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let Mte=1;class G1{constructor(e){this.listenProvider_=e,this.syncPointTree_=new We(null),this.pendingWriteTree_={visibleWrites:Or.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function _I(n,e,t,r,i){return function(n,e,t,r,i){D(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Gu(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?Ol(n,new So({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Ds(n,e,t=!1){const r=function(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);D(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=t&&Jee(a,r.path)?i=!1:rr(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function(n){n.visibleWrites=A1(n.allWrites,Zee,Re()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=T1(n.visibleWrites,r.path):Pt(r.children,l=>{n.visibleWrites=T1(n.visibleWrites,Qe(r.path,l))}),!0))}(n.pendingWriteTree_,e)){let s=new We(null);return null!=r.snap?s=s.set(Re(),!0):Pt(r.children,o=>{s=s.set(new Ne(o),!0)}),Ol(n,new dp(r.path,s,t))}return[]}function qu(n,e,t){return Ol(n,new So({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function mI(n,e,t,r){const i=e._path,s=n.syncPointTree_.get(i);let o=[];if(s&&("default"===e._queryIdentifier||z1(s,e))){const a=function(n,e,t,r){const i=e._queryIdentifier,s=[];let o=[];const a=Ts(n);if("default"===i)for(const[l,c]of n.views.entries())o=o.concat(V1(c,t,r)),L1(c)&&(n.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=n.views.get(i);l&&(o=o.concat(V1(l,t,r)),L1(l)&&(n.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Ts(n)&&s.push(new(D(yp,"Reference.ts has not been loaded"),yp)(e._repo,e._path)),{removed:s,events:o}}(s,e,t,r);(function(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(i));const l=a.removed;o=a.events;const c=-1!==l.findIndex(d=>d._queryParams.loadsAllData()),u=n.syncPointTree_.findOnPath(i,(d,h)=>Ts(h));if(c&&!u){const d=n.syncPointTree_.subtree(i);if(!d.isEmpty()){const h=function(n){return n.fold((e,t,r)=>{if(t&&Ts(t))return[vp(t)];{let i=[];return t&&(i=$1(t)),Pt(r,(s,o)=>{i=i.concat(o)}),i}})}(d);for(let f=0;f<h.length;++f){const p=h[f],_=p.query,g=Q1(n,p);n.listenProvider_.startListening(Ku(_),Cp(n,_),g.hashFn,g.onComplete)}}}if(!u&&l.length>0&&!r)if(c){const d=null;n.listenProvider_.stopListening(Ku(e),d)}else l.forEach(d=>{const h=n.queryToTagMap.get(wp(d));n.listenProvider_.stopListening(Ku(d),h)});!function(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const i=wp(r),s=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(s)}}}(n,l)}return o}function q1(n,e,t){const r=e._path;let i=null,s=!1;n.syncPointTree_.foreachOnPath(r,(d,h)=>{const f=cn(d,r);i=i||Is(h,f),s=s||Ts(h)});let a,o=n.syncPointTree_.get(r);o?(s=s||Ts(o),i=i||Is(o,Re())):(o=new j1,n.syncPointTree_=n.syncPointTree_.set(r,o)),null!=i?a=!0:(a=!1,i=te.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((h,f)=>{const p=Is(f,Re());p&&(i=i.updateImmediateChild(h,p))}));const l=z1(o,e);if(!l&&!e._queryParams.loadsAllData()){const d=wp(e);D(!n.queryToTagMap.has(d),"View does not exist, but we have a tag");const h=Mte++;n.queryToTagMap.set(d,h),n.tagToQueryMap.set(h,d)}let u=Dte(o,e,t,pp(n.pendingWriteTree_,r),i,a);if(!l&&!s){const d=W1(o,e);u=u.concat(function(n,e,t){const r=e._path,i=Cp(n,e),s=Q1(n,t),o=n.listenProvider_.startListening(Ku(e),i,s.hashFn,s.onComplete),a=n.syncPointTree_.subtree(r);if(i)D(!Ts(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!ce(c)&&u&&Ts(u))return[vp(u).query];{let h=[];return u&&(h=h.concat($1(u).map(f=>f.query))),Pt(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){const u=l[c];n.listenProvider_.stopListening(Ku(u),Cp(n,u))}}return o}(n,e,d))}return u}function Ep(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,a)=>{const c=Is(a,cn(o,e));if(c)return c});return R1(i,e,s,t,!0)}function Ol(n,e){return K1(e,n.syncPointTree_,null,pp(n.pendingWriteTree_,Re()))}function K1(n,e,t,r){if(ce(n.path))return Y1(n,e,t,r);{const i=e.get(Re());null==t&&null!=i&&(t=Is(i,Re()));let s=[];const o=le(n.path),a=n.operationForChild(o),l=e.children.get(o);if(l&&a){const c=t?t.getImmediateChild(o):null,u=k1(r,o);s=s.concat(K1(a,l,c,u))}return i&&(s=s.concat(gI(i,n,r,t))),s}}function Y1(n,e,t,r){const i=e.get(Re());null==t&&null!=i&&(t=Is(i,Re()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=t?t.getImmediateChild(o):null,c=k1(r,o),u=n.operationForChild(o);u&&(s=s.concat(Y1(u,a,l,c)))}),i&&(s=s.concat(gI(i,n,r,t))),s}function Q1(n,e){const t=e.query,r=Cp(n,t);return{hashFn:()=>(function(n){return n.viewCache_.serverCache.getNode()}(e)||te.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function(n,e,t){const r=yI(n,t);if(r){const i=vI(r),s=i.path,o=i.queryId,a=cn(s,e);return bI(n,s,new $u(sI(o),a))}return[]}(n,t._path,r):function(n,e){return Ol(n,new $u({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}(i,t);return mI(n,t,null,s)}}}}function Cp(n,e){const t=wp(e);return n.queryToTagMap.get(t)}function wp(n){return n._path.toString()+"$"+n._queryIdentifier}function yI(n,e){return n.tagToQueryMap.get(e)}function vI(n){const e=n.indexOf("$");return D(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Ne(n.substr(0,e))}}function bI(n,e,t){const r=n.syncPointTree_.get(e);return D(r,"Missing sync point for query tag that we're tracking"),gI(r,t,pp(n.pendingWriteTree_,e),null)}function Ku(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(D(bp,"Reference.ts has not been loaded"),bp)(n._repo,n._path):n}class EI{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new EI(t)}node(){return this.node_}}class CI{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Qe(this.path_,e);return new CI(this.syncTree_,t)}node(){return Ep(this.syncTree_,this.path_)}}const J1=function(n,e,t){return n&&"object"==typeof n?(D(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?$te(n[".sv"],e,t):"object"==typeof n[".sv"]?Wte(n[".sv"],e):void D(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},$te=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:D(!1,"Unexpected server value: "+n)}},Wte=function(n,e,t){n.hasOwnProperty("increment")||D(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&D(!1,"Unexpected increment value: "+r);const i=e.node();if(D(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},X1=function(n,e,t,r){return II(e,new CI(t,n),r)},wI=function(n,e,t){return II(n,new EI(e),t)};function II(n,e,t){const r=n.getPriority().val(),i=J1(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,a=J1(o.getValue(),e,t);return a!==o.getValue()||i!==o.getPriority().val()?new Sl(a,et(i)):n}{const o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Sl(i))),o.forEachChild($e,(a,l)=>{const c=II(l,e.getImmediateChild(a),t);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}class TI{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function Ip(n,e){let t=e instanceof Ne?e:new Ne(e),r=n,i=le(t);for(;null!==i;){const s=hl(r.node.children,i)||{children:{},childCount:0};r=new TI(i,r,s),t=Ue(t),i=le(t)}return r}function Mo(n){return n.node.value}function DI(n,e){n.node.value=e,SI(n)}function Z1(n){return n.node.childCount>0}function Tp(n,e){Pt(n.node.children,(t,r)=>{e(new TI(t,n,r))})}function eF(n,e,t,r){t&&!r&&e(n),Tp(n,i=>{eF(i,e,!0,r)}),t&&r&&e(n)}function Yu(n){return new Ne(null===n.parent?n.name:Yu(n.parent)+"/"+n.name)}function SI(n){null!==n.parent&&function(n,e,t){const r=function(n){return void 0===Mo(n)&&!Z1(n)}(t),i=ni(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,SI(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,SI(n))}(n.parent,n.name,n)}const Kte=/[\[\].#$\/\u0000-\u001F\u007F]/,Yte=/[\[\].#$\u0000-\u001F\u007F]/,AI=10485760,Dp=function(n){return"string"==typeof n&&0!==n.length&&!Kte.test(n)},tF=function(n){return"string"==typeof n&&0!==n.length&&!Yte.test(n)},Ju=function(n,e,t){const r=t instanceof Ne?new cee(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+To(r));if("function"==typeof e)throw new Error(n+"contains a function "+To(r)+" with contents = "+e.toString());if(ep(e))throw new Error(n+"contains "+e.toString()+" "+To(r));if("string"==typeof e&&e.length>AI/3&&bf(e)>AI)throw new Error(n+"contains a string greater than "+AI+" utf8 bytes "+To(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(Pt(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!Dp(o)))throw new Error(n+" contains an invalid key ("+o+") "+To(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=bf(e),a1(n)})(r,o),Ju(n,a,r),function(n){const e=n.parts_.pop();n.byteLength_-=bf(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+To(r)+" in addition to actual children.")}},nF=function(n,e,t,r){if(r&&void 0===e)return;const i=lo(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Pt(e,(o,a)=>{const l=new Ne(o);if(Ju(i,a,Qe(t,l)),".priority"===Hw(l)&&!function(n){return null===n||"string"==typeof n||"number"==typeof n&&!ep(n)||n&&"object"==typeof n&&ni(n,".sv")}(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),function(n,e){let t,r;for(t=0;t<e.length;t++){r=e[t];const s=Fu(r);for(let o=0;o<s.length;o++)if((".priority"!==s[o]||o!==s.length-1)&&!Dp(s[o]))throw new Error(n+"contains an invalid key ("+s[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(lee);let i=null;for(t=0;t<e.length;t++){if(r=e[t],null!==i&&rr(i,r))throw new Error(n+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)},MI=function(n,e,t,r){if(!(r&&void 0===t||tF(t)))throw new Error(lo(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')};class Zte{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Sp(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==t&&!$w(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)}function kI(n,e,t){Sp(n,t),iF(n,r=>$w(r,e))}function sr(n,e,t){Sp(n,t),iF(n,r=>rr(r,e)||rr(e,r))}function iF(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(ene(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function ene(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();wo&&xt("event: "+t.toString()),Tl(r)}}}class nne{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Zte,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=up(),this.transactionQueueTree_=new TI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function oF(n){const t=n.infoData_.getNode(new Ne(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Zu(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:oF(n)})}function aF(n,e,t,r,i){n.dataUpdateCount++;const s=new Ne(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){const l=vf(t,c=>et(c));o=function(n,e,t,r){const i=yI(n,r);if(i){const s=vI(i),o=s.path,a=s.queryId,l=cn(o,e),c=We.fromObject(t);return bI(n,o,new xl(sI(a),l,c))}return[]}(n.serverSyncTree_,s,l,i)}else{const l=et(t);o=function(n,e,t,r){const i=yI(n,r);if(null!=i){const s=vI(i),o=s.path,a=s.queryId,l=cn(o,e);return bI(n,o,new So(sI(a),l,t))}return[]}(n.serverSyncTree_,s,l,i)}else if(r){const l=vf(t,c=>et(c));o=function(n,e,t){const r=We.fromObject(t);return Ol(n,new xl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,s,l)}else{const l=et(t);o=qu(n.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Fl(n,s)),sr(n.eventQueue_,a,o)}function lF(n,e){xI(n,"connected",e),!1===e&&function(n){Nl(n,"onDisconnectEvents");const e=Zu(n),t=up();nI(n.onDisconnect_,Re(),(i,s)=>{const o=X1(i,s,n.serverSyncTree_,e);kl(t,i,o)});let r=[];nI(t,Re(),(i,s)=>{r=r.concat(qu(n.serverSyncTree_,i,s));const o=FI(n,i);Fl(n,o)}),n.onDisconnect_=up(),sr(n.eventQueue_,Re(),r)}(n)}function xI(n,e,t){const r=new Ne("/.info/"+e),i=et(t);n.infoData_.updateSnapshot(r,i);const s=qu(n.infoSyncTree_,r,i);sr(n.eventQueue_,r,s)}function Ap(n){return n.nextWriteId_++}function OI(n,e,t){let r;r=".info"===le(e._path)?mI(n.infoSyncTree_,e,t):mI(n.serverSyncTree_,e,t),kI(n.eventQueue_,e._path,r)}function Nl(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),xt(t,...e)}function Ss(n,e,t,r){e&&Tl(()=>{if("ok"===t)e(null);else{const i=(t||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function NI(n,e,t){return Ep(n.serverSyncTree_,e,t)||te.EMPTY_NODE}function Rp(n,e=n.transactionQueueTree_){if(e||Mp(n,e),Mo(e)){const t=hF(n,e);D(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function(n,e,t){const r=t.map(c=>c.currentWriteId),i=NI(n,e,r);let s=i;const o=i.hash();for(let c=0;c<t.length;c++){const u=t[c];D(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=cn(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;n.server_.put(l.toString(),a,c=>{Nl(n,"transaction put response",{path:l.toString(),status:c});let u=[];if("ok"===c){const d=[];for(let h=0;h<t.length;h++)t[h].status=2,u=u.concat(Ds(n.serverSyncTree_,t[h].currentWriteId)),t[h].onComplete&&d.push(()=>t[h].onComplete(null,!0,t[h].currentOutputSnapshotResolved)),t[h].unwatcher();Mp(n,Ip(n.transactionQueueTree_,e)),Rp(n,n.transactionQueueTree_),sr(n.eventQueue_,e,u);for(let h=0;h<d.length;h++)Tl(d[h])}else{if("datastale"===c)for(let d=0;d<t.length;d++)t[d].status=3===t[d].status?4:0;else{ln("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=c}Fl(n,e)}},o)}(n,Yu(e),t)}else Z1(e)&&Tp(e,t=>{Rp(n,t)})}function Fl(n,e){const t=dF(n,e),r=Yu(t);return function(n,e,t){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=cn(t,l.path);let d,u=!1;if(D(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)u=!0,d=l.abortReason,i=i.concat(Ds(n.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)u=!0,d="maxretry",i=i.concat(Ds(n.serverSyncTree_,l.currentWriteId,!0));else{const h=NI(n,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){Ju("transaction failed: Data returned ",f,l.path);let p=et(f);"object"==typeof f&&null!=f&&ni(f,".priority")||(p=p.updatePriority(h.getPriority()));const g=l.currentWriteId,v=Zu(n),y=wI(p,h,v);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=y,l.currentWriteId=Ap(n),o.splice(o.indexOf(g),1),i=i.concat(_I(n.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),i=i.concat(Ds(n.serverSyncTree_,g,!0))}else u=!0,d="nodata",i=i.concat(Ds(n.serverSyncTree_,l.currentWriteId,!0))}sr(n.eventQueue_,t,i),i=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}Mp(n,n.transactionQueueTree_);for(let a=0;a<r.length;a++)Tl(r[a]);Rp(n,n.transactionQueueTree_)}(n,hF(n,t),r),r}function dF(n,e){let t,r=n.transactionQueueTree_;for(t=le(e);null!==t&&void 0===Mo(r);)r=Ip(r,t),t=le(e=Ue(e));return r}function hF(n,e){const t=[];return fF(n,e,t),t.sort((r,i)=>r.order-i.order),t}function fF(n,e,t){const r=Mo(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);Tp(e,i=>{fF(n,i,t)})}function Mp(n,e){const t=Mo(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,DI(e,t.length>0?t:void 0)}Tp(e,r=>{Mp(n,r)})}function FI(n,e){const t=Yu(dF(n,e)),r=Ip(n.transactionQueueTree_,e);return function(n,e,t){let r=n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{LI(n,i)}),LI(n,r),eF(r,i=>{LI(n,i)}),t}function LI(n,e){const t=Mo(e);if(t){const r=[];let i=[],s=-1;for(let o=0;o<t.length;o++)3===t[o].status||(1===t[o].status?(D(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):(D(0===t[o].status,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(Ds(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?DI(e,void 0):t.length=s+1,sr(n.eventQueue_,Yu(e),i);for(let o=0;o<r.length;o++)Tl(r[o])}}const VI=function(n,e){const t=yne(n),r=t.namespace;return"firebase.com"===t.domain&&ai(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&ai("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ln("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Nw(t.host,t.secure,r,e,"ws"===t.scheme||"wss"===t.scheme,"",r!==t.subdomain),path:new Ne(t.pathString)}},yne=function(n){let e="",t="",r="",i="",s="",o=!0,a="https",l=443;if("string"==typeof n){let c=n.indexOf("//");c>=0&&(a=n.substring(0,c-1),n=n.substring(c+2));let u=n.indexOf("/");-1===u&&(u=n.length);let d=n.indexOf("?");-1===d&&(d=n.length),e=n.substring(0,Math.min(u,d)),u<d&&(i=function(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(s){}e+="/"+i}return e}(n.substring(u,d)));const h=function(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ln(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,d)));c=e.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if("localhost"===f.toLowerCase())t="localhost";else if(f.split(".").length<=2)t=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),t=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:t,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class pF{constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Mt(this.snapshot.exportVal())}}class gF{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class _F{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return D(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Ln{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return ce(this._path)?null:Hw(this._path)}get ref(){return new Nr(this._repo,this._path)}get _queryIdentifier(){const e=C1(this._queryParams),t=xw(e);return"{}"===t?"default":t}get _queryObject(){return C1(this._queryParams)}isEqual(e){if(!((e=ri(e))instanceof Ln))return!1;const t=this._repo===e._repo,r=$w(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class Nr extends Ln{constructor(e,t){super(e,t,new Xw,!1)}get parent(){const e=o1(this._path);return null===e?null:new Nr(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class ko{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Ne(e),r=Ll(this.ref,e);return new ko(this._node.getChild(t),r,$e)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new ko(i,Ll(this.ref,r),$e)))}hasChild(e){const t=new Ne(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function mF(n,e){return(n=ri(n))._checkNotDeleted("ref"),void 0!==e?Ll(n._root,e):n._root}function Ll(n,e){return null===le((n=ri(n))._path)?((t=e)&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),MI("child","path",t,!1)):MI("child","path",e,!1),new Nr(n._repo,Qe(n._path,e));var t}function BI(n,e){(function(n,e){if(".info"===le(e))throw new Error(n+" failed = Can't modify data under /.info/")})("set",(n=ri(n))._path),function(n,e,t,r){r&&void 0===e||Ju(lo(n,"value"),e,t)}("set",e,n._path,!1);const t=new ao;return function(n,e,t,r,i){Nl(n,"set",{path:e.toString(),value:t,priority:r});const s=Zu(n),o=et(t,r),a=Ep(n.serverSyncTree_,e),l=wI(o,a,s),c=Ap(n),u=_I(n.serverSyncTree_,e,l,c,!0);Sp(n.eventQueue_,u),n.server_.put(e.toString(),o.val(!0),(h,f)=>{const p="ok"===h;p||ln("set at "+e+" failed: "+h);const _=Ds(n.serverSyncTree_,c,!p);sr(n.eventQueue_,e,_),Ss(0,i,h,f)});const d=FI(n,e);Fl(n,d),sr(n.eventQueue_,d,[])}(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function bne(n,e){nF("update",e,n._path,!1);const t=new ao;return function(n,e,t,r){Nl(n,"update",{path:e.toString(),value:t});let i=!0;const s=Zu(n),o={};if(Pt(t,(a,l)=>{i=!1,o[a]=X1(Qe(e,a),et(l),n.serverSyncTree_,s)}),i)xt("update() called with empty data.  Don't do anything."),Ss(0,r,"ok",void 0);else{const a=Ap(n),l=function(n,e,t,r){!function(n,e,t,r){D(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:r,visible:!0}),n.visibleWrites=aI(n.visibleWrites,e,t),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r);const i=We.fromObject(t);return Ol(n,new xl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,e,o,a);Sp(n.eventQueue_,l),n.server_.merge(e.toString(),t,(c,u)=>{const d="ok"===c;d||ln("update at "+e+" failed: "+c);const h=Ds(n.serverSyncTree_,a,!d),f=h.length>0?Fl(n,e):e;sr(n.eventQueue_,f,h),Ss(0,r,c,u)}),Pt(t,c=>{const u=FI(n,Qe(e,c));Fl(n,u)}),sr(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}class Pp{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const r=t._queryParams.getIndex();return new pF("value",this,new ko(e.snapshotNode,new Nr(t._repo,t._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new gF(this,e,t):null}matches(e){return e instanceof Pp&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Op{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new gF(this,e,t):null}createEvent(e,t){D(null!=e.childName,"Child events should have a childName.");const r=Ll(new Nr(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new pF(e.type,this,new ko(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Op&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function ed(n,e,t,r,i){let s;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){const l=t,c=(u,d)=>{OI(n._repo,n,a),l(u,d)};c.userCallback=t.userCallback,c.context=t.context,t=c}const o=new _F(t,s||void 0),a="value"===e?new Pp(o):new Op(e,o);return function(n,e,t){let r;r=".info"===le(e._path)?q1(n.infoSyncTree_,e,t):q1(n.serverSyncTree_,e,t),kI(n.eventQueue_,e._path,r)}(n._repo,n,a),()=>OI(n._repo,n,a)}(function(n){D(!yp,"__referenceConstructor has already been defined"),yp=n})(Nr),function(n){D(!bp,"__referenceConstructor has already been defined"),bp=n}(Nr);const UI={};function Lne(n,e,t,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||ai("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),xt("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l,c,o=VI(s,i),a=o.repoInfo;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=VI(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new Pu(Pu.OWNER):new NZ(n.name,n.options,e);(function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Dp(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),tF(n)}(t))throw new Error(lo(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",o),ce(o.path)||ai("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(n,e,t,r){let i=UI[e.name];i||(i={},UI[e.name]=i);let s=i[n.toURLString()];return s&&ai("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new nne(n,false,t,r),i[n.toURLString()]=s,s}(a,n,u,new OZ(n.name,t));return new jne(d,n)}class jne{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(n,e,t){if(n.stats_=Vw(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new cp(n.repoInfo_,(r,i,s,o)=>{aF(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>lF(n,!0),0);else{if(null!=t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Mt(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Do(n.repoInfo_,e,(r,i,s,o)=>{aF(n,r,i,s,o)},r=>{lF(n,r)},r=>{!function(n,e){Pt(e,(t,r)=>{xI(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function(n,e){const t=n.toString();return Lw[t]||(Lw[t]=e()),Lw[t]}(n.repoInfo_,()=>new jee(n.stats_,n.server_)),n.infoData_=new Fee,n.infoSyncTree_=new G1({startListening:(r,i,s,o)=>{let a=[];const l=n.infoData_.getNode(r._path);return l.isEmpty()||(a=qu(n.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),xI(n,"connected",!1),n.serverSyncTree_=new G1({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);sr(n.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Nr(this._repo,Re())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(n,e){const t=UI[e];(!t||t[n.key]!==n)&&ai(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&ai("Cannot call "+e+" on a deleted database.")}}function Hne(n=nP(),e){return Cf(n,"database").getImmediate({identifier:e})}Do.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Do.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},Rw="9.1.2",gn(new on("database",(e,{instanceIdentifier:t})=>Lne(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),On("@firebase/database","0.12.1",void 0);var xo,Np=function(){return(Np=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},it=(()=>(function(n){n.added="child_added",n.removed="child_removed",n.changed="child_changed",n.moved="child_moved",n.value="value"}(it||(it={})),it))(),Kne=Object.freeze(((xo={})[it.added]=function(n,e,t,r){return ed(n,"child_added",e,t,r)},xo[it.removed]=function(n,e,t,r){return ed(n,"child_removed",e,t,r)},xo[it.changed]=function(n,e,t,r){return ed(n,"child_changed",e,t,r)},xo[it.moved]=function(n,e,t,r){return ed(n,"child_moved",e,t,r)},xo[it.value]=function(n,e,t,r){return ed(n,"value",e,t,r)},xo));function td(n,e){return new W(function(t){var r=Kne[e](n,function(i,s){t.next({snapshot:i,prevKey:s,event:e})},t.error.bind(t));return{unsubscribe:function(){!function(n,e,t){let r=null;const i=t?new _F(t):null;"value"===e?r=new Pp(i):e&&(r=new Op(e,i)),OI(n._repo,n,r)}(n,e,r)}}}).pipe(function(n,e=Mf){const r=function(n){return n instanceof Date&&!isNaN(+n)}(n)?+n-e.now():Math.abs(n);return i=>i.lift(new vZ(r,e))}(0))}function Yne(n,e){return void 0===e&&(e={}),td(n,it.value).pipe(ne(function(t){return function(n,e){var t;void 0===e&&(e={});var r=n.snapshot.val();return n.snapshot.exists()&&"object"==typeof r?Np(Np({},r),e.keyField?((t={})[e.keyField]=n.snapshot.key,t):null):r}(t,e)}))}class Lp{constructor(e){return e}}const SF="database",HI=new N("angularfire2.database-instances");function sre(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Lp(r)}}const ore={provide:class{constructor(){return pE(SF)}},deps:[[new Be,HI]]},are={provide:Lp,useFactory:function(n,e){const t=function(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(SF,n,e);return t&&new Lp(t)},deps:[[new Be,HI],El]};let lre=(()=>{class n{constructor(){On("angularfire",lE.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({providers:[are,ore]}),n})();function cre(n,...e){return{ngModule:lre,providers:[{provide:HI,useFactory:sre(n),multi:!0,deps:[Y,me,oO,aO,[new Be,rN],[new Be,TN],...e]}]}}const $I=bl(Yne,!0),ure=bl(Hne,!0),Po=bl(mF,!0),AF=bl(BI,!0),Vp=bl(bne,!0);class RF{}const Wi="*";function nd(n,e){return{type:7,name:n,definitions:e,options:{}}}function Rs(n,e=null){return{type:4,styles:e,timings:n}}function MF(n,e=null){return{type:2,steps:n,options:e}}function ft(n){return{type:6,styles:n,offset:null}}function Oo(n,e,t){return{type:0,name:n,styles:e,options:t}}function No(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function WI(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function kF(n){Promise.resolve(null).then(n)}class Vl{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){kF(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class xF{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?kF(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function PF(){return"undefined"!=typeof window&&void 0!==window.document}function GI(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ms(n){switch(n.length){case 0:return new Vl;case 1:return n[0];default:return new xF(n)}}function OF(n,e,t,r,i={},s={}){const o=[],a=[];let l=-1,c=null;if(r.forEach(u=>{const d=u.offset,h=d==l,f=h&&c||{};Object.keys(u).forEach(p=>{let _=p,g=u[p];if("offset"!==p)switch(_=e.normalizePropertyName(_,o),g){case"!":g=i[p];break;case Wi:g=s[p];break;default:g=e.normalizeStyleValue(p,_,g,o)}f[_]=g}),h||a.push(f),c=f,l=d}),o.length){const u="\n - ";throw new Error(`Unable to animate due to the following errors:${u}${o.join(u)}`)}return a}function qI(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&KI(t,"start",n)));break;case"done":n.onDone(()=>r(t&&KI(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&KI(t,"destroy",n)))}}function KI(n,e,t){const r=t.totalTime,s=YI(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function YI(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Vn(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function NF(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let QI=(n,e)=>!1,JI=(n,e)=>!1,FF=(n,e,t)=>[];const LF=GI();(LF||"undefined"!=typeof Element)&&(QI=PF()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),JI=(()=>{if(LF||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,r)=>e.apply(t,[r]):JI}})(),FF=(n,e,t)=>{let r=[];if(t){const i=n.querySelectorAll(e);for(let s=0;s<i.length;s++)r.push(i[s])}else{const i=n.querySelector(e);i&&r.push(i)}return r});let Fo=null,VF=!1;function XI(n){Fo||(Fo=("undefined"!=typeof document?document.body:null)||{},VF=!!Fo.style&&"WebkitAppearance"in Fo.style);let e=!0;return Fo.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Fo.style,!e&&VF&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Fo.style)),e}const ZI=JI,eT=QI,tT=FF;function BF(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let UF=(()=>{class n{validateStyleProperty(t){return XI(t)}matchesElement(t,r){return ZI(t,r)}containsElement(t,r){return eT(t,r)}query(t,r,i){return tT(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new Vl(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})(),nT=(()=>{class n{}return n.NOOP=new UF,n})();const rT="ng-enter",Bp="ng-leave",Up="ng-trigger",jp=".ng-trigger",HF="ng-animating",iT=".ng-animating";function Lo(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:sT(parseFloat(e[1]),e[2])}function sT(n,e){switch(e){case"s":return 1e3*n;default:return n}}function Hp(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};i=sT(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=sT(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),a=!0),s<0&&(e.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&e.splice(l,0,`The provided timing value "${n}" is invalid.`)}return{duration:i,delay:s,easing:o}}(n,e,t)}function Bl(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function ks(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Bl(n,t);return t}function WF(n,e,t){return t?e+":"+t+";":""}function zF(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=WF(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=WF(0,bre(t),n.style[t]));n.setAttribute("style",e)}function hi(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=aT(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),GI()&&zF(n))}function Vo(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=aT(t);n.style[r]=""}),GI()&&zF(n))}function rd(n){return Array.isArray(n)?1==n.length?n[0]:MF(n):n}const oT=new RegExp("{{\\s*(.+?)\\s*}}","g");function GF(n){let e=[];if("string"==typeof n){let t;for(;t=oT.exec(n);)e.push(t[1]);oT.lastIndex=0}return e}function $p(n,e,t){const r=n.toString(),i=r.replace(oT,(s,o)=>{let a=e[o];return e.hasOwnProperty(o)||(t.push(`Please provide a value for the animation param ${o}`),a=""),a.toString()});return i==r?n:i}function Wp(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const vre=/-+([a-z0-9])/g;function aT(n){return n.replace(vre,(...e)=>e[1].toUpperCase())}function bre(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function qF(n,e){return 0===n||0===e}function KF(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(a=>{s.hasOwnProperty(a)||o.push(a),s[a]=t[a]}),o.length)for(var i=1;i<e.length;i++){let a=e[i];o.forEach(function(l){a[l]=lT(n,l)})}}return e}function Bn(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function lT(n,e){return window.getComputedStyle(n)[e]}function Ere(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,e,t){if(":"==n[0]){const l=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(YF(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&e.push(YF(o,i))}(r,t,e)):t.push(n),t}const Gp=new Set(["true","1"]),qp=new Set(["false","0"]);function YF(n,e){const t=Gp.has(n)||qp.has(n),r=Gp.has(e)||qp.has(e);return(i,s)=>{let o="*"==n||n==i,a="*"==e||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?Gp.has(n):qp.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?Gp.has(e):qp.has(e)),o&&a}}const Ire=new RegExp("s*:selfs*,?","g");function cT(n,e,t){return new Tre(n).build(e,t)}class Tre{constructor(e){this._driver=e}build(e,t){const r=new Are(t);return this._resetContextStyleTimingState(r),Bn(this,rd(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};if(r.styles.forEach(a=>{if(Kp(a)){const l=a;Object.keys(l).forEach(c=>{GF(l[c]).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}}),s.size){const a=Wp(s.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Bn(this,rd(e.animation),t);return{type:1,matchers:Ere(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Bo(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Bn(this,r,t)),options:Bo(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=Bn(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:Bo(e.options)}}visitAnimate(e,t){const r=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return uT(Hp(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=uT(0,0,"");return s.dynamic=!0,s.strValue=r,s}return t=t||Hp(r,e),uT(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:ft({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=ft(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(o=>{"string"==typeof o?o==Wi?r.push(o):t.errors.push(`The provided style string value ${o} is not allowed.`):r.push(o)}):r.push(e.styles);let i=!1,s=null;return r.forEach(o=>{if(Kp(o)){const a=o,l=a.easing;if(l&&(s=l,delete a.easing),!i)for(let c in a)if(a[c].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void t.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const l=t.collectedStyles[t.currentQuerySelector],c=l[a];let u=!0;c&&(s!=i&&s>=c.startTime&&i<=c.endTime&&(t.errors.push(`The CSS property "${a}" that exists between the times of "${c.startTime}ms" and "${c.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${i}ms"`),u=!1),s=c.startTime),u&&(l[a]={startTime:s,endTime:i}),t.options&&function(n,e,t){const r=e.params||{},i=GF(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(`Unable to resolve the local animation param ${s} in the given list of values`)})}(o[a],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(v=>{const y=this._makeStyleAst(v,t);let T=null!=y.offset?y.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Kp(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(Kp(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(y.styles),S=0;return null!=T&&(s++,S=y.offset=T),l=l||S<0||S>1,a=a||S<c,c=S,o.push(S),y});l&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,_=t.currentAnimateTimings,g=_.duration;return u.forEach((v,y)=>{const T=h>0?y==f?1:h*y:o[y],S=T*g;t.currentTime=p+_.delay+S,_.duration=S,this._validateStyleAst(v,t),v.offset=T,r.styles.push(v)}),r}visitReference(e,t){return{type:8,animation:Bn(this,rd(e.animation),t),options:Bo(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Bo(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Bo(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Ire,"")),[n=n.replace(/@\*/g,jp).replace(/@\w+/g,t=>jp+"-"+t.substr(1)).replace(/:animating/g,iT),e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Vn(t.collectedStyles,t.currentQuerySelector,{});const a=Bn(this,rd(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Bo(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Hp(e.timings,t.errors,!0);return{type:12,animation:Bn(this,rd(e.animation),t),timings:r,options:null}}}class Are{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Kp(n){return!Array.isArray(n)&&"object"==typeof n}function Bo(n){return n?(n=Bl(n)).params&&(n.params=function(n){return n?Bl(n):null}(n.params)):n={},n}function uT(n,e,t){return{duration:n,delay:e,easing:t}}function dT(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Yp{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Pre=new RegExp(":enter","g"),Nre=new RegExp(":leave","g");function hT(n,e,t,r,i,s={},o={},a,l,c=[]){return(new Fre).buildKeyframes(n,e,t,r,i,s,o,a,l,c)}class Fre{buildKeyframes(e,t,r,i,s,o,a,l,c,u=[]){c=c||new Yp;const d=new fT(e,t,c,i,s,u,[]);d.options=l,d.currentTimeline.setStyles([o],null,d.errors,l),Bn(this,r,d);const h=d.timelines.filter(f=>f.containsAnimation());if(h.length&&Object.keys(a).length){const f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,d.errors,l)}return h.length?h.map(f=>f.buildKeyframes()):[dT(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.consume(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?Lo(r.duration):null,a=null!=r.delay?Lo(r.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Bn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Qp);const o=Lo(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Bn(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Lo(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),Bn(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Hp(t.params?$p(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Lo(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Qp);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),Bn(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;Bn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const Qp={};class fT{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Qp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Jp(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Lo(r.duration)),null!=r.delay&&(i.delay=Lo(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=$p(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new fT(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Qp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},s=new Lre(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(Pre,"."+this._enterClassName)).replace(Nre,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),a}}class Jp{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Jp(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Wi,this._currentKeyframe[t]=Wi}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const s=i&&i.params||{},o=function(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(s=>{t[s]=Wi})):ks(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const l=$p(o[a],s,r);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:Wi),this._updateStyle(a,l)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=ks(a,!0);Object.keys(c).forEach(u=>{const d=c[u];"!"==d?e.add(u):d==Wi&&t.add(u)}),r||(c.offset=l/this.duration),i.push(c)});const s=e.size?Wp(e.values()):[],o=t.size?Wp(t.values()):[];if(r){const a=i[0],l=Bl(a);a.offset=0,l.offset=1,i=[a,l]}return dT(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class Lre extends Jp{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=ks(e[0],!1);l.offset=0,s.push(l);const c=ks(e[0],!1);c.offset=XF(a),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=ks(e[d],!1);h.offset=XF((t+h.offset*r)/o),s.push(h)}r=o,t=0,i="",e=s}return dT(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function XF(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class pT{}class Bre extends pT{normalizePropertyName(e,t){return aT(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(Ure[t]&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(`Please provide a CSS unit value for ${e}:${r}`)}return o+s}}const Ure=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ZF(n,e,t,r,i,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const gT={};class eL{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],s=this._stateStyles[e],o=i?i.buildStyles(t,r):{};return s?s.buildStyles(t,r):o}build(e,t,r,i,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||gT,p=this.buildStyles(r,a&&a.params||gT,d),_=l&&l.params||gT,g=this.buildStyles(i,_,d),v=new Set,y=new Map,T=new Map,S="void"===i,z={params:Object.assign(Object.assign({},h),_)},Ie=u?[]:hT(e,t,this.ast.animation,s,o,p,g,z,c,d);let ke=0;if(Ie.forEach(_t=>{ke=Math.max(_t.duration+_t.delay,ke)}),d.length)return ZF(t,this._triggerName,r,i,S,p,g,[],[],y,T,ke,d);Ie.forEach(_t=>{const Ot=_t.element,Ki=Vn(y,Ot,{});_t.preStyleProps.forEach(Lr=>Ki[Lr]=!0);const Yi=Vn(T,Ot,{});_t.postStyleProps.forEach(Lr=>Yi[Lr]=!0),Ot!==t&&v.add(Ot)});const jt=Wp(v.values());return ZF(t,this._triggerName,r,i,S,p,g,Ie,jt,y,T,ke)}}class $re{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=Bl(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!=o&&(i[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(a=>{let l=o[a];l.length>1&&(l=$p(l,i,t));const c=this.normalizer.normalizePropertyName(a,t);l=this.normalizer.normalizeStyleValue(a,c,l,t),r[c]=l})}}),r}}class zre{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new $re(i.style,i.options&&i.options.params||{},r)}),tL(this.states,"true","1"),tL(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new eL(e,i,this.states))}),this.fallbackTransition=function(n,e,t){return new eL(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function tL(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const qre=new Yp;class Kre{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],i=cT(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=i}_buildPlayer(e,t,r){const i=e.element,s=OF(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations[e];let o;const a=new Map;if(s?(o=hT(this._driver,t,s,rT,Bp,{},{},r,qre,i),o.forEach(u=>{const d=Vn(a,u.element,{});u.postStyleProps.forEach(h=>d[h]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),o=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);a.forEach((u,d)=>{Object.keys(u).forEach(h=>{u[h]=this._driver.computeStyle(d,h,Wi)})});const c=Ms(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,{},d)}));return this._playersById[e]=c,c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,i){const s=YI(t,"","","");return qI(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const nL="ng-animate-queued",rL="ng-animate-disabled",iL=".ng-animate-disabled",Xre=[],sL={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Zre={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},or="__ng_removed";class _T{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(r?e.value:e),r){const s=Bl(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const id="void",mT=new _T(id);class eie{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ar(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);const s=Vn(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=Vn(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(ar(e,Up),ar(e,Up+"-"+t),a[t]=mT),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new yT(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(ar(e,Up),ar(e,Up+"-"+t),this._engine.statesByElement.set(e,a={}));let l=a[t];const c=new _T(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[t]=c,l||(l=mT),c.value!==id&&l.value===c.value){if(!function(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const _=[],g=s.matchStyles(l.value,l.params,_),v=s.matchStyles(c.value,c.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{Vo(e,g),hi(e,v)})}return}const h=Vn(this._engine.playersByElement,e,[]);h.forEach(_=>{_.namespaceId==this.id&&_.triggerName==t&&_.queued&&_.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(ar(e,nL),o.onStart(()=>{Ul(e,nL)})),o.onDone(()=>{let _=this.players.indexOf(o);_>=0&&this.players.splice(_,1);const g=this._engine.playersByElement.get(e);if(g){let v=g.indexOf(o);v>=0&&g.splice(v,1)}}),this.players.push(o),h.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,jp,!0);r.forEach(i=>{if(i[or])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e);if(s){const o=[];if(Object.keys(s).forEach(a=>{if(this._triggers[a]){const l=this.trigger(e,a,id,i);l&&o.push(l)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&Ms(o).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers[o].fallbackTransition,c=r[o]||mT,u=new _T(id),d=new yT(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[or];(!s||s===sL)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){ar(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=YI(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,qI(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class tie{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new eie(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let i=!1;for(let s=r;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,t)){this._namespaceList.splice(s+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let s=0;s<i.length;s++){const o=r[i[s]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&t.add(a)}}}return t}trigger(e,t,r,i){if(Xp(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Xp(t))return;const s=t[or];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ar(e,rL)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ul(e,rL))}removeNode(e,t,r,i){if(Xp(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i){this.collectedLeaveElements.push(t),t[or]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,i,s){return Xp(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,jp,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,iT,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ms(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[or];if(t&&t.setForRemoval){if(e[or]=sL,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,iL)&&this.markElementAsDisabled(e,!1),this.driver.query(e,iL,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ar(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Ms(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new Yp,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(O=>{u.add(O);const H=this.driver.query(O,".ng-animate-queued",!0);for(let X=0;X<H.length;X++)u.add(H[X])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=lL(h,this.collectedEnterElements),p=new Map;let _=0;f.forEach((O,H)=>{const X=rT+_++;p.set(H,X),O.forEach(Te=>ar(Te,X))});const g=[],v=new Set,y=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const H=this.collectedLeaveElements[O],X=H[or];X&&X.setForRemoval&&(g.push(H),v.add(H),X.hasAnimation?this.driver.query(H,".ng-star-inserted",!0).forEach(Te=>v.add(Te)):y.add(H))}const T=new Map,S=lL(h,Array.from(v));S.forEach((O,H)=>{const X=Bp+_++;T.set(H,X),O.forEach(Te=>ar(Te,X))}),e.push(()=>{f.forEach((O,H)=>{const X=p.get(H);O.forEach(Te=>Ul(Te,X))}),S.forEach((O,H)=>{const X=T.get(H);O.forEach(Te=>Ul(Te,X))}),g.forEach(O=>{this.processLeaveNode(O)})});const z=[],Ie=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(t).forEach(X=>{const Te=X.player,Nt=X.element;if(z.push(Te),this.collectedEnterElements.length){const mi=Nt[or];if(mi&&mi.setForMove)return void Te.destroy()}const _i=!d||!this.driver.containsElement(d,Nt),jn=T.get(Nt),Fs=p.get(Nt),st=this._buildInstruction(X,r,Fs,jn,_i);if(st.errors&&st.errors.length)Ie.push(st);else{if(_i)return Te.onStart(()=>Vo(Nt,st.fromStyles)),Te.onDestroy(()=>hi(Nt,st.toStyles)),void i.push(Te);if(X.isFallbackTransition)return Te.onStart(()=>Vo(Nt,st.fromStyles)),Te.onDestroy(()=>hi(Nt,st.toStyles)),void i.push(Te);st.timelines.forEach(mi=>mi.stretchStartingKeyframe=!0),r.append(Nt,st.timelines),o.push({instruction:st,player:Te,element:Nt}),st.queriedElements.forEach(mi=>Vn(a,mi,[]).push(Te)),st.preStyleProps.forEach((mi,Id)=>{const Vg=Object.keys(mi);if(Vg.length){let Xo=l.get(Id);Xo||l.set(Id,Xo=new Set),Vg.forEach(dD=>Xo.add(dD))}}),st.postStyleProps.forEach((mi,Id)=>{const Vg=Object.keys(mi);let Xo=c.get(Id);Xo||c.set(Id,Xo=new Set),Vg.forEach(dD=>Xo.add(dD))})}});if(Ie.length){const O=[];Ie.forEach(H=>{O.push(`@${H.triggerName} has failed due to:\n`),H.errors.forEach(X=>O.push(`- ${X}\n`))}),z.forEach(H=>H.destroy()),this.reportError(O)}const ke=new Map,jt=new Map;o.forEach(O=>{const H=O.element;r.has(H)&&(jt.set(H,H),this._beforeAnimationBuild(O.player.namespaceId,O.instruction,ke))}),i.forEach(O=>{const H=O.element;this._getPreviousPlayers(H,!1,O.namespaceId,O.triggerName,null).forEach(Te=>{Vn(ke,H,[]).push(Te),Te.destroy()})});const _t=g.filter(O=>uL(O,l,c)),Ot=new Map;aL(Ot,this.driver,y,c,Wi).forEach(O=>{uL(O,l,c)&&_t.push(O)});const Yi=new Map;f.forEach((O,H)=>{aL(Yi,this.driver,new Set(O),l,"!")}),_t.forEach(O=>{const H=Ot.get(O),X=Yi.get(O);Ot.set(O,Object.assign(Object.assign({},H),X))});const Lr=[],Ql=[],Jl={};o.forEach(O=>{const{element:H,player:X,instruction:Te}=O;if(r.has(H)){if(u.has(H))return X.onDestroy(()=>hi(H,Te.toStyles)),X.disabled=!0,X.overrideTotalTime(Te.totalTime),void i.push(X);let Nt=Jl;if(jt.size>1){let jn=H;const Fs=[];for(;jn=jn.parentNode;){const st=jt.get(jn);if(st){Nt=st;break}Fs.push(jn)}Fs.forEach(st=>jt.set(st,Nt))}const _i=this._buildAnimation(X.namespaceId,Te,ke,s,Yi,Ot);if(X.setRealPlayer(_i),Nt===Jl)Lr.push(X);else{const jn=this.playersByElement.get(Nt);jn&&jn.length&&(X.parentPlayer=Ms(jn)),i.push(X)}}else Vo(H,Te.fromStyles),X.onDestroy(()=>hi(H,Te.toStyles)),Ql.push(X),u.has(H)&&i.push(X)}),Ql.forEach(O=>{const H=s.get(O.element);if(H&&H.length){const X=Ms(H);O.setRealPlayer(X)}}),i.forEach(O=>{O.parentPlayer?O.syncPlayerEvents(O.parentPlayer):O.destroy()});for(let O=0;O<g.length;O++){const H=g[O],X=H[or];if(Ul(H,Bp),X&&X.hasAnimation)continue;let Te=[];if(a.size){let _i=a.get(H);_i&&_i.length&&Te.push(..._i);let jn=this.driver.query(H,iT,!0);for(let Fs=0;Fs<jn.length;Fs++){let st=a.get(jn[Fs]);st&&st.length&&Te.push(...st)}}const Nt=Te.filter(_i=>!_i.destroyed);Nt.length?sie(this,H,Nt):this.processLeaveNode(H)}return g.length=0,Lr.forEach(O=>{this.players.push(O),O.onDone(()=>{O.destroy();const H=this.players.indexOf(O);this.players.splice(H,1)}),O.play()}),Lr}elementContainsData(e,t){let r=!1;const i=t[or];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==id;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=Vn(r,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Vo(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const _=p.element;u.add(_);const g=_[or];if(g&&g.removedBeforeQueried)return new Vl(p.duration,p.delay);const v=_!==l,y=function(n){const e=[];return cL(n,e),e}((r.get(_)||Xre).map(ke=>ke.getRealPlayer())).filter(ke=>!!ke.element&&ke.element===_),T=s.get(_),S=o.get(_),z=OF(0,this._normalizer,0,p.keyframes,T,S),Ie=this._buildPlayer(p,z,y);if(p.subTimeline&&i&&d.add(_),v){const ke=new yT(e,a,_);ke.setRealPlayer(Ie),c.push(ke)}return Ie});c.forEach(p=>{Vn(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>ar(p,HF));const f=Ms(h);return f.onDestroy(()=>{u.forEach(p=>Ul(p,HF)),hi(l,t.toStyles)}),d.forEach(p=>{Vn(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Vl(e.duration,e.delay)}}class yT{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Vl,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>qI(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Vn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Xp(n){return n&&1===n.nodeType}function oL(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function aL(n,e,t,r,i){const s=[];t.forEach(l=>s.push(oL(l)));const o=[];r.forEach((l,c)=>{const u={};l.forEach(d=>{const h=u[d]=e.computeStyle(c,d,i);(!h||0==h.length)&&(c[or]=Zre,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>oL(l,s[a++])),o}function lL(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}const Zp="$$classes";function ar(n,e){if(n.classList)n.classList.add(e);else{let t=n[Zp];t||(t=n[Zp]={}),t[e]=!0}}function Ul(n,e){if(n.classList)n.classList.remove(e);else{let t=n[Zp];t&&delete t[e]}}function sie(n,e,t){Ms(t).onDone(()=>n.processLeaveNode(e))}function cL(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof xF?cL(r.players,e):e.push(r)}}function uL(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class eg{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new tie(e,t,r),this._timelineEngine=new Kre(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],c=cT(this._driver,s,l);if(l.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${l.join("\n - ")}`);a=function(n,e,t){return new zre(n,e,t)}(i,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=NF(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=NF(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function dL(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=vT(e[0]),e.length>1&&(r=vT(e[e.length-1]))):e&&(t=vT(e)),t||r?new lie(n,t,r):null}let lie=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&hi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(hi(this._element,this._initialStyles),this._endStyles&&(hi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Vo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Vo(this._element,this._endStyles),this._endStyles=null),hi(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function vT(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];cie(i)&&(e=e||{},e[i]=n[i])}return e}function cie(n){return"display"===n||"position"===n}const hL="animation",fL="animationend";class hie{constructor(e,t,r,i,s,o,a){this._element=e,this._name=t,this._duration=r,this._delay=i,this._easing=s,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=l=>this._handleCallback(l)}apply(){(function(n,e){const t=ET(n,"").trim();let r=0;t.length&&(function(n,e){let t=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&t++;return t}(t)+1,e=`${t}, ${e}`),tg(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),_L(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){pL(this._element,this._name,"paused")}resume(){pL(this._element,this._name,"running")}setPosition(e){const t=gL(this._element,this._name);this._position=e*this._duration,tg(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),_L(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const r=ET(n,"").split(","),i=bT(r,e);i>=0&&(r.splice(i,1),tg(n,"",r.join(",")))}(this._element,this._name))}}function pL(n,e,t){tg(n,"PlayState",t,gL(n,e))}function gL(n,e){const t=ET(n,"");return t.indexOf(",")>0?bT(t.split(","),e):bT([t],e)}function bT(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function _L(n,e,t){t?n.removeEventListener(fL,e):n.addEventListener(fL,e)}function tg(n,e,t,r){const i=hL+e;if(null!=r){const s=n.style[i];if(s.length){const o=s.split(",");o[r]=t,t=o.join(",")}}n.style[i]=t}function ET(n,e){return n.style[hL+e]||""}class mL{constructor(e,t,r,i,s,o,a,l){this.element=e,this.keyframes=t,this.animationName=r,this._duration=i,this._delay=s,this._finalStyles=a,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=i+s,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new hie(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:lT(this.element,r))})}this.currentSnapshot=e}}class yie extends Vl{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=BF(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class vL{constructor(){this._count=0}validateStyleProperty(e){return XI(e)}matchesElement(e,t){return ZI(e,t)}containsElement(e,t){return eT(e,t)}query(e,t,r){return tT(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(a=>BF(a));let i=`@keyframes ${t} {\n`,s="";r.forEach(a=>{s=" ";const l=parseFloat(a.offset);i+=`${s}${100*l}% {\n`,s+=" ",Object.keys(a).forEach(c=>{const u=a[c];switch(c){case"offset":return;case"easing":return void(u&&(i+=`${s}animation-timing-function: ${u};\n`));default:return void(i+=`${s}${c}: ${u};\n`)}}),i+=`${s}}\n`}),i+="}\n";const o=document.createElement("style");return o.textContent=i,o}animate(e,t,r,i,s,o=[],a){const l=o.filter(g=>g instanceof mL),c={};qF(r,i)&&l.forEach(g=>{let v=g.currentSnapshot;Object.keys(v).forEach(y=>c[y]=v[y])});const u=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(i=>{"offset"==i||"easing"==i||(e[i]=r[i])})}),e}(t=KF(e,t,c));if(0==r)return new yie(e,u);const d="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,d,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(h);const p=dL(e,t),_=new mL(e,t,d,r,i,s,u,p);return _.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(h)),_}}class EL{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:lT(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class wie{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(CL().toString()),this._cssKeyframesDriver=new vL}validateStyleProperty(e){return XI(e)}matchesElement(e,t){return ZI(e,t)}containsElement(e,t){return eT(e,t)}query(e,t,r){return tT(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,i,s,o=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,i,s,o);const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const d={},h=o.filter(p=>p instanceof EL);qF(r,i)&&h.forEach(p=>{let _=p.currentSnapshot;Object.keys(_).forEach(g=>d[g]=_[g])});const f=dL(e,t=KF(e,t=t.map(p=>ks(p,!1)),d));return new EL(e,t,u,f)}}function CL(){return PF()&&Element.prototype.animate||{}}let Tie=(()=>{class n extends RF{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:lt.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?MF(t):t;return wL(this._renderer,null,r,"register",[i]),new Die(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(m(Js),m(L))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();class Die extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Sie(this._id,e,t||{},this._renderer)}}class Sie{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return wL(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function wL(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const IL="@.disabled";let Aie=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{o&&o.parentNode(s)&&o.removeChild(s.parentNode,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(s);return u||(u=new TL("",s,this.engine),this._rendererCache.set(s,u)),u}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return r.data.animation.forEach(l),new Rie(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(m(Js),m(eg),m(Y))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();class TL{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==IL?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Rie extends TL{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==IL?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let xie=(()=>{class n extends eg{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(m(L),m(nT),m(pT))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();const rg=new N("AnimationModuleType"),DL=[{provide:RF,useClass:Tie},{provide:pT,useFactory:function(){return new Bre}},{provide:eg,useClass:xie},{provide:Js,useFactory:function(n,e,t){return new Aie(n,e,t)},deps:[ff,eg,Y]}],SL=[{provide:nT,useFactory:function(){return"function"==typeof CL()?new wie:new vL}},{provide:rg,useValue:"BrowserAnimations"},...DL],AL=[{provide:nT,useClass:UF},{provide:rg,useValue:"NoopAnimations"},...DL];let CT=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?AL:SL}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({providers:SL,imports:[gv]}),n})();const ig_firebase={apiKey:"AIzaSyBv8-wcIXcLXDSEIUHJRPbipS8c-f9noWg",authDomain:"holys-bet-manager.firebaseapp.com",databaseURL:"https://holys-bet-manager-default-rtdb.europe-west1.firebasedatabase.app",projectId:"holys-bet-manager",storageBucket:"holys-bet-manager.appspot.com",messagingSenderId:"730419012957",appId:"1:730419012957:web:6d18e3d27aecd44dcf74b4",measurementId:"G-ZJYKXF4JJG"},ig_sportsdata_apiKey="b62ac1fb9a5042219aff0c8fc99edfe6",ig_sportsdata_baseUrl="https://api.sportsdata.io/v3/mma/stats/json",RL=".3s ease",Fie=nd("routerTransition",[No("* <=> *",[ft({position:"relative"}),WI(":enter, :leave",[ft({position:"absolute",top:20,left:20,right:20,bottom:20})]),function(n,e=null){return{type:3,steps:n,options:e}}([WI(":enter",[ft({opacity:"0"}),Rs(RL,ft({opacity:"1"}))]),WI(":leave",[ft({opacity:"1"}),Rs(RL,ft({opacity:"0"}))])])])]);class Un extends Ee{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ls;return this._value}next(e){super.next(this._value=e)}}class Lie extends _e{notifyNext(e,t,r,i,s){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class Vie extends _e{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function Bie(n,e,t,r,i=new Vie(n,t,r)){if(!i.closed)return e instanceof W?e.subscribe(i):jg(e)(i)}const ML={};class jie{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Hie(e,this.resultSelector))}}class Hie extends Lie{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(ML),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(Bie(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const i=this.values,o=this.toRespond?i[r]===ML?--this.toRespond:this.toRespond:0;i[r]=t,0===o&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const sg=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();function wT(...n){return nc(1)(B(...n))}function IT(n){return new W(e=>{let t;try{t=n()}catch(i){return void e.error(i)}return(t?It(t):Pf()).subscribe(e)})}function lr(n,e){return"function"==typeof e?t=>t.pipe(lr((r,i)=>It(n(r,i)).pipe(ne((s,o)=>e(r,s,i,o))))):t=>t.lift(new Wie(n))}class Wie{constructor(e){this.project=e}call(e,t){return t.subscribe(new zie(e,this.project))}}class zie extends ec{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(i){return void this.destination.error(i)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new Zl(this),i=this.destination;i.add(r),this.innerSubscription=tc(e,r),this.innerSubscription!==r&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const kL=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function zi(n){return e=>0===n?Pf():e.lift(new Gie(n))}class Gie{constructor(e){if(this.total=e,this.total<0)throw new kL}call(e,t){return t.subscribe(new qie(e,this.total))}}class qie extends _e{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function og(...n){const e=n[n.length-1];return ta(e)?(n.pop(),t=>wT(n,t,e)):t=>wT(n,t)}function xL(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(i){return i.lift(new Kie(n,e,t))}}class Kie{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new Yie(e,this.accumulator,this.seed,this.hasSeed))}}class Yie extends _e{constructor(e,t,r,i){super(e),this.accumulator=t,this._seed=r,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(i){this.destination.error(i)}this.seed=r,this.destination.next(r)}}function xs(n){return function(t){const r=new Qie(n),i=t.lift(r);return r.caught=i}}class Qie{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Jie(e,this.selector,this.caught))}}class Jie extends ec{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(s){return void super.error(s)}this._unsubscribeAndRecycle();const r=new Zl(this);this.add(r);const i=tc(t,r);i!==r&&this.add(i)}}}function TT(n){return function(t){return 0===n?Pf():t.lift(new Xie(n))}}class Xie{constructor(e){if(this.total=e,this.total<0)throw new kL}call(e,t){return t.subscribe(new Zie(e,this.total))}}class Zie extends _e{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,i=this.count++;t.length<r?t.push(e):t[i%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,i=this.ring;for(let s=0;s<r;s++){const o=t++%r;e.next(i[o])}}e.complete()}}function PL(n=nse){return e=>e.lift(new ese(n))}class ese{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new tse(e,this.errorFactory))}}class tse extends _e{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function nse(){return new sg}function OL(n=null){return e=>e.lift(new rse(n))}class rse{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new ise(e,this.defaultValue))}}class ise extends _e{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Ps(n,e){const t=arguments.length>=2;return r=>r.pipe(n?pn((i,s)=>n(i,s,r)):ve,zi(1),t?OL(e):PL(()=>new sg))}function NL(n){return e=>e.lift(new ose(n))}class ose{constructor(e){this.callback=e}call(e,t){return t.subscribe(new ase(e,this.callback))}}class ase extends _e{constructor(e,t){super(e),this.add(new ue(t))}}class Gi{constructor(e,t){this.id=e,this.url=t}}class DT extends Gi{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class sd extends Gi{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class FL extends Gi{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class lse extends Gi{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class cse extends Gi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class use extends Gi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dse extends Gi{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hse extends Gi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fse extends Gi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LL{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class VL{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pse{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gse{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _se{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mse{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BL{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const pe="primary";class yse{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function jl(n){return new yse(n)}const UL="ngNavigationCancelingError";function ST(n){const e=Error("NavigationCancelingError: "+n);return e[UL]=!0,e}function bse(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function fi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!jL(n[i],e[i]))return!1;return!0}function jL(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function HL(n){return Array.prototype.concat.apply([],n)}function $L(n){return n.length>0?n[n.length-1]:null}function Bt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function pi(n){return km(n)?n:yh(n)?It(Promise.resolve(n)):B(n)}const wse={exact:function GL(n,e,t){if(!jo(n.segments,e.segments)||!ag(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!GL(n.children[r],e.children[r],t))return!1;return!0},subset:qL},WL={exact:function(n,e){return fi(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>jL(n[t],e[t]))},ignored:()=>!0};function zL(n,e,t){return wse[t.paths](n.root,e.root,t.matrixParams)&&WL[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function qL(n,e,t){return KL(n,e,e.segments,t)}function KL(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!jo(i,t)||e.hasChildren()||!ag(i,t,r))}if(n.segments.length===t.length){if(!jo(n.segments,t)||!ag(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!qL(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(jo(n.segments,i)&&ag(n.segments,i,r)&&n.children[pe])&&KL(n.children[pe],e,s,r)}}function ag(n,e,t){return e.every((r,i)=>WL[t](n[i].parameters,r.parameters))}class Uo{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=jl(this.queryParams)),this._queryParamMap}toString(){return Ase.serialize(this)}}class ye{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Bt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lg(this)}}class od{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=jl(this.parameters)),this._parameterMap}toString(){return XL(this)}}function jo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class AT{}class YL{parse(e){const t=new Lse(e);return new Uo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${`/${ad(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${cg(t)}=${cg(i)}`).join("&"):`${cg(t)}=${cg(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${function(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Ase=new YL;function lg(n){return n.segments.map(e=>XL(e)).join("/")}function ad(n,e){if(!n.hasChildren())return lg(n);if(e){const t=n.children[pe]?ad(n.children[pe],!1):"",r=[];return Bt(n.children,(i,s)=>{s!==pe&&r.push(`${s}:${ad(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return Bt(n.children,(r,i)=>{i===pe&&(t=t.concat(e(r,i)))}),Bt(n.children,(r,i)=>{i!==pe&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===pe?[ad(n.children[pe],!1)]:[`${i}:${ad(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[pe]?`${lg(n)}/${t[0]}`:`${lg(n)}/(${t.join("//")})`}}function QL(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cg(n){return QL(n).replace(/%3B/gi,";")}function RT(n){return QL(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ug(n){return decodeURIComponent(n)}function JL(n){return ug(n.replace(/\+/g,"%20"))}function XL(n){return`${RT(n.path)}${function(n){return Object.keys(n).map(e=>`;${RT(e)}=${RT(n[e])}`).join("")}(n.parameters)}`}const xse=/^[^\/()?;=#]+/;function dg(n){const e=n.match(xse);return e?e[0]:""}const Pse=/^[^=?&#]+/,Nse=/^[^?&#]+/;class Lse{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[pe]=new ye(e,t)),r}parseSegment(){const e=dg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new od(ug(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=dg(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=dg(this.remaining);i&&(r=i,this.capture(r))}e[ug(t)]=ug(r)}parseQueryParam(e){const t=function(n){const e=n.match(Pse);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function(n){const e=n.match(Nse);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=JL(t),s=JL(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=dg(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=pe);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[pe]:new ye([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class ZL{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=MT(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=MT(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=kT(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return kT(e,this._root).map(t=>t.value)}}function MT(n,e){if(n===e.value)return e;for(const t of e.children){const r=MT(n,t);if(r)return r}return null}function kT(n,e){if(n===e.value)return[e];for(const t of e.children){const r=kT(n,t);if(r.length)return r.unshift(e),r}return[]}class qi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ld(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class eV extends ZL{constructor(e,t){super(e),this.snapshot=t,xT(this,e)}toString(){return this.snapshot.toString()}}function tV(n,e){const t=function(n,e){const o=new hg([],{},{},"",{},pe,e,null,n.root,-1,{});return new rV("",new qi(o,[]))}(n,e),r=new Un([new od("",{})]),i=new Un({}),s=new Un({}),o=new Un({}),a=new Un(""),l=new Ho(r,i,o,a,s,pe,e,t.root);return l.snapshot=t.root,new eV(new qi(l,[]),t)}class Ho{constructor(e,t,r,i,s,o,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ne(e=>jl(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ne(e=>jl(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nV(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class hg{constructor(e,t,r,i,s,o,a,l,c,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=jl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=jl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rV extends ZL{constructor(e,t){super(t),this.url=e,xT(this,t)}toString(){return iV(this._root)}}function xT(n,e){e.value._routerState=n,e.children.forEach(t=>xT(n,t))}function iV(n){const e=n.children.length>0?` { ${n.children.map(iV).join(", ")} } `:"";return`${n.value}${e}`}function PT(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,fi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),fi(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!fi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),fi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function OT(n,e){return fi(n.params,e.params)&&function(n,e){return jo(n,e)&&n.every((t,r)=>fi(t.parameters,e[r].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||OT(n.parent,e.parent))}function fg(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return fg(n,r,i);return fg(n,r)})}(n,e,t);return new qi(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return sV(e,o),o}}const r=function(n){return new Ho(new Un(n.url),new Un(n.params),new Un(n.queryParams),new Un(n.fragment),new Un(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>fg(n,s));return new qi(r,i)}}function sV(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)sV(n.children[t],e.children[t])}function pg(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function cd(n){return"object"==typeof n&&null!=n&&n.outlets}function NT(n,e,t,r,i){let s={};return r&&Bt(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(l=>`${l}`):`${o}`}),new Uo(t.root===n?e:oV(t.root,n,e),s,i)}function oV(n,e,t){const r={};return Bt(n.children,(i,s)=>{r[s]=i===e?t:oV(i,e,t)}),new ye(n.segments,r)}class aV{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&pg(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(cd);if(i&&i!==$L(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class FT{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function lV(n,e,t){if(n||(n=new ye([],{})),0===n.segments.length&&n.hasChildren())return gg(n,e,t);const r=function(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(cd(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!uV(l,c,o))return s;r+=2}else{if(!uV(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new ye(n.segments.slice(0,r.pathIndex),{});return s.children[pe]=new ye(n.segments.slice(r.pathIndex),n.children),gg(s,0,i)}return r.match&&0===i.length?new ye(n.segments,{}):r.match&&!n.hasChildren()?LT(n,e,t):r.match?gg(n,0,i):LT(n,e,t)}function gg(n,e,t){if(0===t.length)return new ye(n.segments,{});{const r=function(n){return cd(n[0])?n[0].outlets:{[pe]:n}}(t),i={};return Bt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=lV(n.children[o],e,s))}),Bt(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ye(n.segments,i)}}function LT(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(cd(s)){const l=Yse(s.outlets);return new ye(r,l)}if(0===i&&pg(t[0])){r.push(new od(n.segments[e].path,cV(t[0]))),i++;continue}const o=cd(s)?s.outlets[pe]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&pg(a)?(r.push(new od(o,cV(a))),i+=2):(r.push(new od(o,{})),i++)}return new ye(r,{})}function Yse(n){const e={};return Bt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=LT(new ye([],{}),0,t))}),e}function cV(n){const e={};return Bt(n,(t,r)=>e[r]=`${t}`),e}function uV(n,e,t){return n==t.path&&fi(e,t.parameters)}class Jse{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),PT(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=ld(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Bt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet);if(r&&r.outlet){const i=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:i,route:e,contexts:s})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ld(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=ld(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new mse(s.value.snapshot))}),e.children.length&&this.forwardEvent(new gse(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(PT(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),dV(a.route)}else{const a=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=l,o.outlet&&o.outlet.activateWith(i,l),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}function dV(n){PT(n.value),n.children.forEach(dV)}class VT{constructor(e,t){this.routes=e,this.module=t}}function Os(n){return"function"==typeof n}function $o(n){return n instanceof Uo}const ud=Symbol("INITIAL_VALUE");function dd(){return lr(n=>function(...n){let e,t;return ta(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&Br(n[0])&&(n=n[0]),$g(n,t).lift(new jie(e))}(n.map(e=>e.pipe(zi(1),og(ud)))).pipe(xL((e,t)=>{let r=!1;return t.reduce((i,s,o)=>i!==ud?i:(s===ud&&(r=!0),r||!1!==s&&o!==t.length-1&&!$o(s)?i:s),e)},ud),pn(e=>e!==ud),ne(e=>$o(e)?e:!0===e),zi(1)))}let hV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=qe({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&Jn(0,"router-outlet")},directives:function(){return[WT]},encapsulation:2}),n})();function fV(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];ioe(r,soe(e,r))}}function ioe(n,e){n.children&&fV(n.children,e)}function soe(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function BT(n){const e=n.children&&n.children.map(BT),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==pe&&(t.component=hV),t}function cr(n){return n.outlet||pe}function pV(n,e){const t=n.filter(r=>cr(r)===e);return t.push(...n.filter(r=>cr(r)!==e)),t}const gV={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function _g(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},gV):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||bse)(t,n,e);if(!s)return Object.assign({},gV);const o={};Bt(s.posParams,(l,c)=>{o[c]=l.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function mg(n,e,t,r,i="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>yg(n,e,r)&&cr(r)!==pe)}(n,t,r)){const o=new ye(e,function(n,e,t,r){const i={};i[pe]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&cr(s)!==pe){const o=new ye([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[cr(s)]=o}return i}(n,e,r,new ye(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>yg(n,e,r))}(n,t,r)){const o=new ye(n.segments,function(n,e,t,r,i,s){const o={};for(const a of r)if(yg(n,t,a)&&!i[cr(a)]){const l=new ye([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[cr(a)]=l}return Object.assign(Object.assign({},i),o)}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new ye(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function yg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function _V(n,e,t,r){return!!(cr(n)===r||r!==pe&&yg(e,t,n))&&("**"===n.path||_g(e,n,t).matched)}function mV(n,e,t){return 0===e.length&&!n.children[t]}class hd{constructor(e){this.segmentGroup=e||null}}class yV{constructor(e){this.urlTree=e}}function vg(n){return new W(e=>e.error(new hd(n)))}function vV(n){return new W(e=>e.error(new yV(n)))}function uoe(n){return new W(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class foe{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(ei)}apply(){const e=mg(this.urlTree.root,[],[],this.config).segmentGroup,t=new ye(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,pe).pipe(ne(s=>this.createUrlTree(UT(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(xs(s=>{if(s instanceof yV)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof hd?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,pe).pipe(ne(i=>this.createUrlTree(UT(i),e.queryParams,e.fragment))).pipe(xs(i=>{throw i instanceof hd?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new ye([],{[pe]:e}):e;return new Uo(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(ne(s=>new ye([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return It(i).pipe(cl(s=>{const o=r.children[s],a=pV(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(ne(l=>({segment:l,outlet:s})))}),xL((s,o)=>(s[o.outlet]=o.segment,s),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?pn((i,s)=>n(i,s,r)):ve,TT(1),t?OL(e):PL(()=>new sg))}())}expandSegment(e,t,r,i,s,o){return It(r).pipe(cl(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(xs(c=>{if(c instanceof hd)return B(null);throw c}))),Ps(a=>!!a),xs((a,l)=>{if(a instanceof sg||"EmptyError"===a.name){if(mV(t,i,s))return B(new ye([],{}));throw new hd(t)}throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return _V(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):vg(t):vg(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?vV(s):this.lineralizeSegments(r,s).pipe(Ft(o=>{const a=new ye(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,lastChild:c,positionalParamSegments:u}=_g(t,i,s);if(!a)return vg(t);const d=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?vV(d):this.lineralizeSegments(i,d).pipe(Ft(h=>this.expandSegment(e,t,r,h.concat(s.slice(c)),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?B(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(ne(h=>(r._loadedConfig=h,new ye(i,{})))):B(new ye(i,{}));const{matched:o,consumedSegments:a,lastChild:l}=_g(t,r,i);if(!o)return vg(t);const c=i.slice(l);return this.getChildConfig(e,r,i).pipe(Ft(d=>{const h=d.module,f=d.routes,{segmentGroup:p,slicedSegments:_}=mg(t,a,c,f),g=new ye(p.segments,p.children);if(0===_.length&&g.hasChildren())return this.expandChildren(h,f,g).pipe(ne(S=>new ye(a,S)));if(0===f.length&&0===_.length)return B(new ye(a,{}));const v=cr(r)===s;return this.expandSegment(h,g,f,_,v?pe:s,!0).pipe(ne(T=>new ye(a.concat(T.segments),T.children)))}))}getChildConfig(e,t,r){return t.children?B(new VT(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?B(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(Ft(i=>i?this.configLoader.load(e.injector,t).pipe(ne(s=>(t._loadedConfig=s,s))):function(n){return new W(e=>e.error(ST(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):B(new VT([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?B(i.map(o=>{const a=e.get(o);let l;if(function(n){return n&&Os(n.canLoad)}(a))l=a.canLoad(t,r);else{if(!Os(a))throw new Error("Invalid CanLoad guard");l=a(t,r)}return pi(l)})).pipe(dd(),Et(o=>{if(!$o(o))return;const a=ST(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),ne(o=>!0===o)):B(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return B(r);if(i.numberOfChildren>1||!i.children[pe])return uoe(e.redirectTo);i=i.children[pe]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Uo(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Bt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Bt(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new ye(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function UT(n){const e={};for(const r of Object.keys(n.children)){const s=UT(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function(n){if(1===n.numberOfChildren&&n.children[pe]){const e=n.children[pe];return new ye(n.segments.concat(e.segments),e.children)}return n}(new ye(n.segments,e))}class bV{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class bg{constructor(e,t){this.component=e,this.route=t}}function _oe(n,e,t){const r=n._root;return fd(r,e?e._root:null,t,[r.value])}function Eg(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function fd(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=ld(e);return n.children.forEach(o=>{(function(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!jo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!jo(n.url,e.url)||!fi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!OT(n,e)||!fi(n.queryParams,e.queryParams);case"paramsChange":default:return!OT(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new bV(r)):(s.data=o.data,s._resolvedData=o._resolvedData),fd(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new bg(a.outlet.component,o))}else o&&pd(e,a,i),i.canActivateChecks.push(new bV(r)),fd(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Bt(s,(o,a)=>pd(o,t.getContext(a),i)),i}function pd(n,e,t){const r=ld(n),i=n.value;Bt(r,(s,o)=>{pd(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new bg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Roe{}function EV(n){return new W(e=>e.error(n))}class koe{constructor(e,t,r,i,s,o){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=mg(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,pe);if(null===t)return null;const r=new hg([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},pe,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new qi(r,t),s=new rV(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=nV(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=pV(e,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;r.push(...l)}const i=CV(r);return function(n){n.sort((e,t)=>e.value.outlet===pe?-1:t.value.outlet===pe?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,r,i);if(null!==o)return o}return mV(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!_V(e,t,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?$L(r).parameters:{};s=new hg(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,TV(e),cr(e),e.component,e,wV(t),IV(t)+r.length,DV(e))}else{const f=_g(t,e,r);if(!f.matched)return null;o=f.consumedSegments,a=r.slice(f.lastChild),s=new hg(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,TV(e),cr(e),e.component,e,wV(t),IV(t)+o.length,DV(e))}const l=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:u}=mg(t,o,a,l.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const f=this.processChildren(l,c);return null===f?null:[new qi(s,f)]}if(0===l.length&&0===u.length)return[new qi(s,[])];const d=cr(e)===i,h=this.processSegment(l,c,u,d?pe:i);return null===h?null:[new qi(s,h)]}}function Ooe(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function CV(n){const e=[],t=new Set;for(const r of n){if(!Ooe(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=CV(r.children);e.push(new qi(r.value,i))}return e.filter(r=>!t.has(r))}function wV(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function IV(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function TV(n){return n.data||{}}function DV(n){return n.resolve||{}}function jT(n){return lr(e=>{const t=n(e);return t?It(t).pipe(ne(()=>e)):B(e)})}class Hoe extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const HT=new N("ROUTES");class SV{constructor(e,t,r,i){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(ne(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new VT(HL(o.injector.get(HT,void 0,j.Self|j.Optional)).map(BT),o)}),xs(s=>{throw t._loader$=void 0,s}));return t._loader$=new vD(i,()=>new Ee).pipe(Wg()),t._loader$}loadModuleFactory(e){return"string"==typeof e?It(this.loader.load(e)):pi(e()).pipe(Ft(t=>t instanceof aM?B(t):It(this.compiler.compileModuleAsync(t))))}}class $oe{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Hl,this.attachRef=null}}class Hl{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new $oe,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class zoe{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Goe(n){throw n}function qoe(n,e,t){return e.parse("/")}function AV(n,e){return B(null)}const Koe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Yoe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Kt=(()=>{class n{constructor(t,r,i,s,o,a,l,c){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ee,this.errorHandler=Goe,this.malformedUriErrorHandler=qoe,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:AV,afterPreactivation:AV},this.urlHandlingStrategy=new zoe,this.routeReuseStrategy=new Hoe,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(ei),this.console=o.get(Lh);const h=o.get(Y);this.isNgZoneEnabled=h instanceof Y&&Y.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new Uo(new ye([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new SV(a,l,f=>this.triggerEvent(new LL(f)),f=>this.triggerEvent(new VL(f))),this.routerState=tV(this.currentUrlTree,this.rootComponentType),this.transitions=new Un({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(pn(i=>0!==i.id),ne(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),lr(i=>{let s=!1,o=!1;return B(i).pipe(Et(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),lr(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Cg(a.source)&&(this.browserUrlTree=a.extractedUrl),B(a).pipe(lr(d=>{const h=this.transitions.getValue();return r.next(new DT(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?yl:Promise.resolve(d)}),function(n,e,t,r){return lr(i=>function(n,e,t,r,i){return new foe(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(ne(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Et(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function(n,e,t,r,i){return Ft(s=>function(n,e,t,r,i="emptyOnly",s="legacy"){try{const o=new koe(n,e,t,r,i,s).recognize();return null===o?EV(new Roe):B(o)}catch(o){return EV(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe(ne(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),Et(d=>{"eager"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(d.urlAfterRedirects,d),this.browserUrlTree=d.urlAfterRedirects);const h=new cse(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:_,extras:g}=a,v=new DT(h,this.serializeUrl(f),p,_);r.next(v);const y=tV(f,this.rootComponentType).snapshot;return B(Object.assign(Object.assign({},a),{targetSnapshot:y,urlAfterRedirects:f,extras:Object.assign(Object.assign({},g),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,this.browserUrlTree=a.urlAfterRedirects,a.resolve(null),yl}),jT(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),Et(a=>{const l=new use(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),ne(a=>Object.assign(Object.assign({},a),{guards:_oe(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(n,e){return Ft(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?B(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return It(n).pipe(Ft(i=>function(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?B(s.map(a=>{const l=Eg(a,e,i);let c;if(function(n){return n&&Os(n.canDeactivate)}(l))c=pi(l.canDeactivate(n,e,t,r));else{if(!Os(l))throw new Error("Invalid CanDeactivate guard");c=pi(l(n,e,t,r))}return c.pipe(Ps())})).pipe(dd()):B(!0)}(i.component,i.route,t,e,r)),Ps(i=>!0!==i,!0))}(o,r,i,n).pipe(Ft(a=>a&&function(n){return"boolean"==typeof n}(a)?function(n,e,t,r){return It(e).pipe(cl(i=>wT(function(n,e){return null!==n&&e&&e(new pse(n)),B(!0)}(i.route.parent,r),function(n,e){return null!==n&&e&&e(new _se(n)),B(!0)}(i.route,r),function(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>IT(()=>B(o.guards.map(l=>{const c=Eg(l,o.node,t);let u;if(function(n){return n&&Os(n.canActivateChild)}(c))u=pi(c.canActivateChild(r,n));else{if(!Os(c))throw new Error("Invalid CanActivateChild guard");u=pi(c(r,n))}return u.pipe(Ps())})).pipe(dd())));return B(s).pipe(dd())}(n,i.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?B(r.map(s=>IT(()=>{const o=Eg(s,e,t);let a;if(function(n){return n&&Os(n.canActivate)}(o))a=pi(o.canActivate(e,n));else{if(!Os(o))throw new Error("Invalid CanActivate guard");a=pi(o(e,n))}return a.pipe(Ps())}))).pipe(dd()):B(!0)}(n,i.route,t))),Ps(i=>!0!==i,!0))}(r,s,n,e):B(a)),ne(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Et(a=>{if($o(a.guardsResult)){const c=ST(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new dse(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),pn(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),jT(a=>{if(a.guards.canActivateChecks.length)return B(a).pipe(Et(l=>{const c=new hse(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),lr(l=>{let c=!1;return B(l).pipe(function(n,e){return Ft(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return B(t);let s=0;return It(i).pipe(cl(o=>function(n,e,t,r){return function(n,e,t,r){const i=Object.keys(n);if(0===i.length)return B({});const s={};return It(i).pipe(Ft(o=>function(n,e,t,r){const i=Eg(n,e,r);return pi(i.resolve?i.resolve(e,t):i(e,t))}(n[o],e,t,r).pipe(Et(a=>{s[o]=a}))),TT(1),Ft(()=>Object.keys(s).length===i.length?B(s):yl))}(n._resolve,n,e,r).pipe(ne(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),nV(n,t).resolve),null)))}(o.route,r,n,e)),Et(()=>s++),TT(1),Ft(o=>s===i.length?B(t):yl))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Et({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),Et(l=>{const c=new fse(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),jT(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),ne(a=>{const l=function(n,e,t){const r=fg(n,e._root,t?t._root:void 0);return new eV(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),Et(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>ne(r=>(new Jse(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Et({next(){s=!0},complete(){s=!0}}),NL(()=>{if(!s&&!o){const a=`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(i),this.cancelNavigationTransition(i,a)):this.cancelNavigationTransition(i,a)}this.currentNavigation=null}),xs(a=>{if(o=!0,function(n){return n&&n[UL]}(a)){const l=$o(a.url);l||(this.navigated=!0,this.restoreHistory(i,!0));const c=new FL(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),l?setTimeout(()=>{const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Cg(i.source)};this.scheduleNavigation(u,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new lse(i.id,this.serializeUrl(i.extractedUrl),a);r.next(l);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return yl}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:i,state:s,urlTree:o}=r,a={replaceUrl:!0};if(s){const l=Object.assign({},s);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(a.state=l)}this.scheduleNavigation(o,i,s,a)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(t){var r;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,r){if(!t)return!0;const i=r.urlTree.toString()===t.urlTree.toString();return r.transitionId!==t.transitionId||!i||!("hashchange"===r.source&&"popstate"===t.source||"popstate"===r.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){fV(t),this.config=t.map(BT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=i||this.routerState.root,u=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function(n,e,t,r,i){if(0===t.length)return NT(e.root,e.root,e,r,i);const s=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new aV(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Bt(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new aV(t,e,r)}(t);if(s.toRoot())return NT(e.root,new ye([],{}),e,r,i);const o=function(n,e,t){if(n.isAbsolute)return new FT(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new FT(s,s===e.root,0)}const r=pg(n.commands[0])?0:1;return function(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new FT(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),a=o.processChildren?gg(o.segmentGroup,o.index,s.commands):lV(o.segmentGroup,o.index,s.commands);return NT(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,d,null!=u?u:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=$o(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},Koe):!1===r?Object.assign({},Yoe):r,$o(t))return zL(this.currentUrlTree,t,i);const s=this.parseUrl(t);return zL(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new sd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){var a,l;if(this.disposed)return Promise.resolve(!1);const c=this.getTransition(),u=Cg(r)&&c&&!Cg(c.source),f=(this.lastSuccessfulId===c.id||this.currentNavigation?c.rawUrl:c.urlAfterRedirects).toString()===t.toString();if(u&&f)return Promise.resolve(!0);let p,_,g;o?(p=o.resolve,_=o.reject,g=o.promise):g=new Promise((T,S)=>{p=T,_=S});const v=++this.navigationId;let y;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),y=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):y=0,this.setTransition({id:v,targetPageId:y,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:p,reject:_,promise:g,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),g.catch(T=>Promise.reject(T))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new FL(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(m(_a),m(AT),m(Hl),m(al),m(me),m(Bh),m(no),m(void 0))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();function Cg(n){return"imperative"!==n}let wg=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.route=r,this.commands=[],this.onChanges=new Ee,null==i&&s.setAttribute(o.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:$l(this.skipLocationChange),replaceUrl:$l(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:$l(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(b(Kt),b(Ho),ha("tabindex"),b(Dh),b(Ae))},n.\u0275dir=re({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&Ge("click",function(){return r.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[_r]}),n})();function $l(n){return""===n||!!n}let WT=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Fe,this.deactivateEvents=new Fe,this.name=s||pe,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new Zoe(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(b(Hl),b(nn),b(Ai),ha("name"),b(Xs))},n.\u0275dir=re({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class Zoe{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ho?this.route:e===Hl?this.childContexts:this.parent.get(e,t)}}class RV{}class MV{preload(e,t){return B(null)}}let kV=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=s,this.preloadingStrategy=o,this.loader=new SV(r,i,c=>t.triggerEvent(new LL(c)),c=>t.triggerEvent(new VL(c)))}setUpPreloading(){this.subscription=this.router.events.pipe(pn(t=>t instanceof sd),cl(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(ei);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return It(i).pipe(nc(),ne(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?B(r._loadedConfig):this.loader.load(t.injector,r)).pipe(Ft(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(m(Kt),m(Bh),m(no),m(me),m(RV))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})(),zT=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof DT?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof sd&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof BL&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new BL(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(m(Kt),m(_x),m(void 0))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();const Wo=new N("ROUTER_CONFIGURATION"),xV=new N("ROUTER_FORROOT_GUARD"),tae=[al,{provide:AT,useClass:YL},{provide:Kt,useFactory:function(n,e,t,r,i,s,o,a={},l,c){const u=new Kt(null,n,e,t,r,i,s,HL(o));return l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(a,u),a.enableTracing&&u.events.subscribe(d=>{var h,f;null===(h=console.group)||void 0===h||h.call(console,`Router Event: ${d.constructor.name}`),console.log(d.toString()),console.log(d),null===(f=console.groupEnd)||void 0===f||f.call(console)}),u},deps:[AT,Hl,al,me,Bh,no,HT,Wo,[class{},new Be],[class{},new Be]]},Hl,{provide:Ho,useFactory:function(n){return n.routerState.root},deps:[Kt]},{provide:Bh,useClass:r4},kV,MV,class{preload(e,t){return t().pipe(xs(()=>B(null)))}},{provide:Wo,useValue:{enableTracing:!1}}];function nae(){return new My("Router",Kt)}let PV=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[tae,OV(t),{provide:xV,useFactory:sae,deps:[[Kt,new Be,new Ci]]},{provide:Wo,useValue:r||{}},{provide:ol,useFactory:iae,deps:[oo,[new ba(qy),new Be],Wo]},{provide:zT,useFactory:rae,deps:[Kt,_x,Wo]},{provide:RV,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:MV},{provide:My,multi:!0,useFactory:nae},[GT,{provide:Xc,multi:!0,useFactory:cae,deps:[GT]},{provide:NV,useFactory:uae,deps:[GT]},{provide:uk,multi:!0,useExisting:NV}]]}}static forChild(t){return{ngModule:n,providers:[OV(t)]}}}return n.\u0275fac=function(t){return new(t||n)(m(xV,8),m(Kt,8))},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({}),n})();function rae(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new zT(n,e,t)}function iae(n,e,t={}){return t.useHash?new w6(n,e):new Zk(n,e)}function sae(n){return"guarded"}function OV(n){return[{provide:kU,multi:!0,useValue:n},{provide:HT,multi:!0,useValue:n}]}let GT=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ee}appInitializer(){return this.injector.get(b6,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(Kt),o=this.injector.get(Wo);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?B(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Wo),i=this.injector.get(kV),s=this.injector.get(zT),o=this.injector.get(Kt),a=this.injector.get(ro);t===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(m(me))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();function cae(n){return n.appInitializer.bind(n)}function uae(n){return n.bootstrapListener.bind(n)}const NV=new N("Router Initializer");let hae=(()=>{class n{getRouteTransitionState(t){return t.activatedRouteData.transtitionState}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=qe({type:n,selectors:[["app-root"]],decls:12,vars:2,consts:[[1,"page"],[1,"header"],[1,"container"],[1,"flex"],[1,"logo",3,"routerLink"],[1,"ml-2","text-large"],[1,"content"],["outlet","outlet"]],template:function(t,r){if(1&t&&(C(0,"div",0),C(1,"div",1),C(2,"div",2),C(3,"div",3),C(4,"span",4),F(5,"\u{1f4b8}"),w(),C(6,"p",5),F(7,"Holy's Bet Manager"),w(),w(),w(),w(),C(8,"div",6),C(9,"div",2),Jn(10,"router-outlet",null,7),w(),w(),w()),2&t){const i=Pc(11);P(4),he("routerLink","home"),P(5),he("@routerTransition",r.getRouteTransitionState(i))}},directives:[wg,WT],styles:[".page[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{width:100%;height:var(--header-height);background-color:var(--color-dark);color:var(--color-light);display:flex;align-items:center}.page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:28px}.page[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex-grow:1;height:100%;background-color:var(--color-light-accent)}"],data:{animation:[Fie]}}),n})();function FV(n){return Array.isArray(n)?n:[n]}function pt(n){return null==n?"":"string"==typeof n?n:`${n}px`}function zo(n){return n instanceof Ae?n.nativeElement:n}function qT(n,e,t,r){return un(t)&&(r=t,t=void 0),r?qT(n,e,t).pipe(ne(i=>Br(i)?r(...i):r(i))):new W(i=>{LV(n,e,function(o){i.next(arguments.length>1?Array.prototype.slice.call(arguments):o)},i,t)})}function LV(n,e,t,r,i){let s;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const o=n;n.addEventListener(e,t,i),s=()=>o.removeEventListener(e,t,i)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const o=n;n.on(e,t),s=()=>o.off(e,t)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const o=n;n.addListener(e,t),s=()=>o.removeListener(e,t)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let o=0,a=n.length;o<a;o++)LV(n[o],e,t,r,i)}r.add(s)}new class extends xr{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let r,i=-1,s=t.length;e=e||t.shift();do{if(r=e.execute(e.state,e.delay))break}while(++i<s&&(e=t.shift()));if(this.active=!1,r){for(;++i<s&&(e=t.shift());)e.unsubscribe();throw r}}}(class extends Rf{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}});class bae{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new Eae(e,this.compare,this.keySelector))}}class Eae extends _e{constructor(e,t,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:i}=this;t=i?i(e):e}catch(i){return this.destination.error(i)}let r=!1;if(this.hasKey)try{const{compare:i}=this;r=i(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}class wae{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new Iae(e,this.durationSelector))}}class Iae extends ec{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let t;try{const{durationSelector:i}=this;t=i(e)}catch(i){return this.destination.error(i)}const r=tc(t,new Zl(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:e,hasValue:t,throttled:r}=this;r&&(this.remove(r),this.throttled=void 0,r.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function Dae(n){const{index:e,period:t,subscriber:r}=n;if(r.next(e),!r.closed){if(-1===t)return r.complete();n.index=e+1,this.schedule(n,t)}}function KT(n,e=Mf){return function(n){return function(t){return t.lift(new wae(n))}}(()=>function(n=0,e,t){let r=-1;return aE(e)?r=Number(e)<1?1:Number(e):ta(e)&&(t=e),ta(t)||(t=Mf),new W(i=>{const s=aE(n)?n:+n-t.now();return t.schedule(Dae,s,{index:0,period:r,subscriber:i})})}(n,e))}function _d(n){return e=>e.lift(new Sae(n))}class Sae{constructor(e){this.notifier=e}call(e,t){const r=new Aae(e),i=tc(this.notifier,new Zl(r));return i&&!r.seenValue?(r.add(i),t.subscribe(r)):r}}class Aae extends ec{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let YT;try{YT="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){YT=!1}let md,Go,JT,Fr,gt=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function(n){return n===gx}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!YT)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(m(ds))},n.\u0275prov=M({factory:function(){return new n(m(ds))},token:n,providedIn:"root"}),n})(),Ig=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({}),n})();function QT(n){return function(){if(null==md&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>md=!0}))}finally{md=md||!1}return md}()?n:!!n.capture}function jV(){if(null==Go){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Go=!1,Go;if("scrollBehavior"in document.documentElement.style)Go=!0;else{const n=Element.prototype.scrollTo;Go=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Go}function Dg(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function zl(n){return n.composedPath?n.composedPath()[0]:n.target}function XT(){return void 0!==Fr.__karma__&&!!Fr.__karma__||void 0!==Fr.jasmine&&!!Fr.jasmine||void 0!==Fr.jest&&!!Fr.jest||void 0!==Fr.Mocha&&!!Fr.Mocha}Fr="undefined"!=typeof global?global:"undefined"!=typeof window?window:{};const HV=new N("cdk-dir-doc",{providedIn:"root",factory:function(){return D_(L)}});let qo=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new Fe,t){const i=t.documentElement?t.documentElement.dir:null,s=(t.body?t.body.dir:null)||i;this.value="ltr"===s||"rtl"===s?s:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(m(HV,8))},n.\u0275prov=M({factory:function(){return new n(m(HV,8))},token:n,providedIn:"root"}),n})(),vd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({}),n})(),Sg=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Ee,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new W(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(KT(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):B()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(pn(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=zo(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>qT(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(m(Y),m(gt),m(L,8))},n.\u0275prov=M({factory:function(){return new n(m(Y),m(gt),m(L,8))},token:n,providedIn:"root"}),n})(),bd=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Ee,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(KT(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(m(gt),m(Y),m(L,8))},n.\u0275prov=M({factory:function(){return new n(m(gt),m(Y),m(L,8))},token:n,providedIn:"root"}),n})(),qV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({}),n})(),KV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({imports:[[vd,Ig,qV],vd,qV]}),n})();class ZT{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Ag extends ZT{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class Rg extends ZT{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Zae extends ZT{constructor(e){super(),this.element=e instanceof Ae?e.nativeElement:e}}class eD{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Ag?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Rg?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Zae?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class ele extends eD{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Mg=(()=>{class n extends eD{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Fe,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=r.createComponent(s,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(b(Ai),b(nn),b(L))},n.\u0275dir=re({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Mn]}),n})(),QV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({}),n})();const XV=jV();class dle{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=pt(-this._previousScrollPosition.left),e.style.top=pt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),XV&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),XV&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class hle{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ZV{enable(){}disable(){}attach(){}}function nD(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function e2(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class fle{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();nD(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ple=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new ZV,this.close=o=>new hle(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new dle(this._viewportRuler,this._document),this.reposition=o=>new fle(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(m(Sg),m(bd),m(Y),m(L))},n.\u0275prov=M({factory:function(){return new n(m(Sg),m(bd),m(Y),m(L))},token:n,providedIn:"root"}),n})();class rD{constructor(e){if(this.scrollStrategy=new ZV,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class gle{constructor(e,t,r,i,s){this.offsetX=r,this.offsetY=i,this.panelClass=s,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class _le{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let t2=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(m(L))},n.\u0275prov=M({factory:function(){return new n(m(L))},token:n,providedIn:"root"}),n})(),mle=(()=>{class n extends t2{constructor(t){super(t),this._keydownListener=r=>{const i=this._attachedOverlays;for(let s=i.length-1;s>-1;s--)if(i[s]._keydownEvents.observers.length>0){i[s]._keydownEvents.next(r);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(m(L))},n.\u0275prov=M({factory:function(){return new n(m(L))},token:n,providedIn:"root"}),n})(),yle=(()=>{class n extends t2{constructor(t,r){super(t),this._platform=r,this._cursorStyleIsSet=!1,this._clickListener=i=>{const s=zl(i),o=this._attachedOverlays.slice();for(let a=o.length-1;a>-1;a--){const l=o[a];if(!(l._outsidePointerEvents.observers.length<1)&&l.hasAttached()){if(l.overlayElement.contains(s))break;l._outsidePointerEvents.next(i)}}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(t){return new(t||n)(m(L),m(gt))},n.\u0275prov=M({factory:function(){return new n(m(L),m(gt))},token:n,providedIn:"root"}),n})(),Ed=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||XT()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].parentNode.removeChild(i[s])}const r=this._document.createElement("div");r.classList.add(t),XT()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(m(L),m(gt))},n.\u0275prov=M({factory:function(){return new n(m(L),m(gt))},token:n,providedIn:"root"}),n})();class vle{constructor(e,t,r,i,s,o,a,l,c){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new Ee,this._attachments=new Ee,this._detachments=new Ee,this._locationChanges=ue.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._keydownEvents=new Ee,this._outsidePointerEvents=new Ee,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(zi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=pt(this._config.width),e.height=pt(this._config.height),e.minWidth=pt(this._config.minWidth),e.minHeight=pt(this._config.minHeight),e.maxWidth=pt(this._config.maxWidth),e.maxHeight=pt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const r=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",r),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",r)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(e,t,r){const i=e.classList;FV(t).forEach(s=>{s&&(r?i.add(s):i.remove(s))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(_d(yD(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.parentNode&&e.parentNode.removeChild(e),this._backdropElement===e&&(this._backdropElement=null))}}const n2="cdk-overlay-connected-position-bounding-box",ble=/([A-Za-z%]+)$/;class r2{constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ee,this._resizeSubscription=ue.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(n2),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=[];let s;for(let o of this._preferredPositions){let a=this._getOriginPoint(e,o),l=this._getOverlayPoint(a,t,o),c=this._getOverlayFit(l,t,r,o);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,a);this._canFitWithFlexibleDimensions(c,l,r)?i.push({position:o,origin:a,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(a,o)}):(!s||s.overlayFit.visibleArea<c.visibleArea)&&(s={overlayFit:c,overlayPoint:l,originPoint:a,position:o,overlayRect:t})}if(i.length){let o=null,a=-1;for(const l of i){const c=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);c>a&&(a=c,o=l)}return this._isPushed=!1,void this._applyPosition(o.position,o.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ko(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(n2),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let r,i;if("center"==t.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,o=this._isRtl()?e.left:e.right;r="start"==t.originX?s:o}return i="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:r,y:i}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=o2(t);let{x:o,y:a}=e,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(o+=l),c&&(a+=c);let h=0-a,f=a+s.height-r.height,p=this._subtractOverflows(s.width,0-o,o+s.width-r.width),_=this._subtractOverflows(s.height,h,f),g=p*_;return{visibleArea:g,isCompletelyWithinViewport:s.width*s.height===g,fitsInViewportVertically:_===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,o=s2(this._overlayRef.getConfig().minHeight),a=s2(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportHorizontally||null!=a&&a<=s;return(e.fitsInViewportVertically||null!=o&&o<=i)&&c}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=o2(t),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),l=Math.max(s.top-r.top-e.y,0),c=Math.max(s.left-r.left-e.x,0);let u=0,d=0;return u=i.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-r.left-e.x:0,d=i.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new _le(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,o,a,u,d,h;if("top"===t.overlayY)o=e.y,s=r.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,s=r.height-a+this._viewportMargin;else{const f=Math.min(r.bottom-e.y+r.top,e.y),p=this._lastBoundingBoxSize.height;s=2*f,o=e.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)h=r.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)d=e.x,u=r.right-e.x;else{const f=Math.min(r.right-e.x+r.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=pt(r.height),i.top=pt(r.top),i.bottom=pt(r.bottom),i.width=pt(r.width),i.left=pt(r.left),i.right=pt(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=pt(s)),o&&(i.maxWidth=pt(o))}this._lastBoundingBoxSize=r,Ko(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Ko(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ko(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();Ko(r,this._getExactOverlayY(t,e,u)),Ko(r,this._getExactOverlayX(t,e,u))}else r.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=pt(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=pt(o.maxWidth):s&&(r.maxWidth="")),Ko(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return s.y-=o,"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=pt(s.y),i}_getExactOverlayX(e,t,r){let o,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=pt(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:e2(e,r),isOriginOutsideView:nD(e,r),isOverlayClipped:e2(t,r),isOverlayOutsideView:nD(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&FV(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Ae)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Ko(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function s2(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(ble);return t&&"px"!==t?null:parseFloat(e)}return n||null}function o2(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}class Ele{constructor(e,t,r,i,s,o,a){this._preferredPositions=[],this._positionStrategy=new r2(r,i,s,o,a).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,t),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(e){this._positionStrategy.withScrollableContainers(e)}withFallbackPosition(e,t,r,i){const s=new gle(e,t,r,i);return this._preferredPositions.push(s),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}withOffsetX(e){return this._positionStrategy.withDefaultOffsetX(e),this}withOffsetY(e){return this._positionStrategy.withDefaultOffsetY(e),this}withLockedPosition(e){return this._positionStrategy.withLockedPosition(e),this}withPositions(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(e){return this._positionStrategy.setOrigin(e),this}}const a2="cdk-global-overlay-wrapper";class Cle{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(a2),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,l=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a);e.position=this._cssPosition,e.marginLeft=l?"0":this._leftOffset,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,l?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(a2),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let l2=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new Cle}connectedTo(t,r,i){return new Ele(r,i,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new r2(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(m(bd),m(L),m(gt),m(Ed))},n.\u0275prov=M({factory:function(){return new n(m(bd),m(L),m(gt),m(Ed))},token:n,providedIn:"root"}),n})(),wle=0,Yo=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,d,h){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),o=new rD(t);return o.direction=o.direction||this._directionality.value,new vle(s,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+wle++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(ro)),new ele(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(m(ple),m(Ed),m(Ai),m(l2),m(mle),m(me),m(Y),m(L),m(qo),m(al),m(yle))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();const Dle={provide:new N("cdk-connected-overlay-scroll-strategy"),deps:[Yo],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let Sle=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({providers:[Yo,Dle],imports:[[vd,QV,KV],KV]}),n})();class Rle{constructor(e){this.total=e}call(e,t){return t.subscribe(new Mle(e,this.total))}}class Mle extends _e{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}let f2=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function(n){try{return n.frameElement}catch(e){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===g2(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),s=g2(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==s:"video"===i?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||p2(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(m(gt))},n.\u0275prov=M({factory:function(){return new n(m(gt))},token:n,providedIn:"root"}),n})();function p2(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function g2(n){if(!p2(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Kle{constructor(e,t,r,i,s=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let r=0;r<t.length;r++)t[r].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]):t[r].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return null==r||r.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=0;r<t.length;r++){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=t.length-1;r>=0;r--){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(zi(1)).subscribe(e)}}let _2=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new Kle(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(m(f2),m(Y),m(L))},n.\u0275prov=M({factory:function(){return new n(m(f2),m(Y),m(L))},token:n,providedIn:"root"}),n})();"undefined"!=typeof Element&&Element;const v2=new N("cdk-input-modality-detector-options"),Zle={ignoreKeys:[18,17,224,91,16]},Gl=QT({passive:!0,capture:!0});let E2=(()=>{class n{constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Un(null),this._lastTouchMs=0,this._onKeydown=o=>{var a,l;(null===(l=null===(a=this._options)||void 0===a?void 0:a.ignoreKeys)||void 0===l?void 0:l.some(c=>c===o.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=zl(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function(n){return 0===n.offsetX&&0===n.offsetY}(o)?"keyboard":"mouse"),this._mostRecentTarget=zl(o))},this._onTouchstart=o=>{!function(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(o)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=zl(o)):this._modality.next("keyboard")},this._options=Object.assign(Object.assign({},Zle),s),this.modalityDetected=this._modality.pipe(e=>e.lift(new Rle(1))),this.modalityChanged=this.modalityDetected.pipe(function(n,e){return t=>t.lift(new bae(n,e))}()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Gl),i.addEventListener("mousedown",this._onMousedown,Gl),i.addEventListener("touchstart",this._onTouchstart,Gl)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Gl),document.removeEventListener("mousedown",this._onMousedown,Gl),document.removeEventListener("touchstart",this._onTouchstart,Gl))}}return n.\u0275fac=function(t){return new(t||n)(m(gt),m(Y),m(L),m(v2,8))},n.\u0275prov=M({factory:function(){return new n(m(gt),m(Y),m(L),m(v2,8))},token:n,providedIn:"root"}),n})();const I2=new N("cdk-focus-monitor-default-options"),kg=QT({passive:!0,capture:!0});let T2=(()=>{class n{constructor(t,r,i,s,o){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ee,this._rootNodeFocusAndBlurListener=a=>{const l=zl(a),c="focus"===a.type?this._onFocus:this._onBlur;for(let u=l;u;u=u.parentElement)c.call(this,a,u)},this._document=s,this._detectionMode=(null==o?void 0:o.detectionMode)||0}monitor(t,r=!1){const i=zo(t);if(!this._platform.isBrowser||1!==i.nodeType)return B(null);const s=function(n){if(function(){if(null==JT){const n="undefined"!=typeof document?document.head:null;JT=!(!n||!n.createShadowRoot&&!n.attachShadow)}return JT}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),o=this._elementInfo.get(i);if(o)return r&&(o.checkChildren=!0),o.subject;const a={checkChildren:r,subject:new Ee,rootNode:s};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=zo(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=zo(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,r,l)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,r,i){i?t.classList.add(r):t.classList.remove(r)}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){this._toggleClass(t,"cdk-focused",!!r),this._toggleClass(t,"cdk-touch-focused","touch"===r),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===r),this._toggleClass(t,"cdk-mouse-focused","mouse"===r),this._toggleClass(t,"cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=zl(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,kg),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,kg)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(_d(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,kg),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,kg),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(m(Y),m(gt),m(E2),m(L,8),m(I2,8))},n.\u0275prov=M({factory:function(){return new n(m(Y),m(gt),m(E2),m(L,8),m(I2,8))},token:n,providedIn:"root"}),n})();const D2="cdk-high-contrast-black-on-white",S2="cdk-high-contrast-white-on-black",sD="cdk-high-contrast-active";let A2=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(sD),t.remove(D2),t.remove(S2),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(sD),t.add(D2)):2===r&&(t.add(sD),t.add(S2))}}}return n.\u0275fac=function(t){return new(t||n)(m(gt),m(L))},n.\u0275prov=M({factory:function(){return new n(m(gt),m(L))},token:n,providedIn:"root"}),n})();const R2=new cs("12.2.9"),M2=new cs("12.2.9"),lce=new N("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Qo,gi=(()=>{class n{constructor(t,r,i){this._hasDoneGlobalChecks=!1,this._document=i,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=r,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!(!Ry()||XT())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const r=getComputedStyle(t);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&M2.full!==R2.full&&console.warn("The Angular Material version ("+M2.full+") does not match the Angular CDK version ("+R2.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(t){return new(t||n)(m(A2),m(lce,8),m(L))},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({imports:[[vd],vd]}),n})();function uce(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}try{Qo="undefined"!=typeof Intl}catch(n){Qo=!1}function Lce(n,e){}class aD{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const Vce={dialogContainer:nd("dialogContainer",[Oo("void, exit",ft({opacity:0,transform:"scale(0.7)"})),Oo("enter",ft({transform:"none"})),No("* => enter",Rs("150ms cubic-bezier(0, 0, 0.2, 1)",ft({transform:"none",opacity:1}))),No("* => void, * => exit",Rs("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",ft({opacity:0})))])};let Bce=(()=>{class n extends eD{constructor(t,r,i,s,o,a){super(),this._elementRef=t,this._focusTrapFactory=r,this._changeDetectorRef=i,this._config=o,this._focusMonitor=a,this._animationStateChanged=new Fe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=l=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(l)),this._ariaLabelledBy=o.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const r=Dg(),i=this._elementRef.nativeElement;(!r||r===this._document.body||r===i||i.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=Dg())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=Dg();return t===r||t.contains(r)}}return n.\u0275fac=function(t){return new(t||n)(b(Ae),b(_2),b(Xs),b(L,8),b(aD),b(T2))},n.\u0275dir=re({type:n,viewQuery:function(t,r){if(1&t&&Oh(Mg,7),2&t){let i;el(i=tl())&&(r._portalOutlet=i.first)}},features:[Mn]}),n})(),Uce=(()=>{class n extends Bce{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:r}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=function(n){return es(()=>{const e=n.prototype.constructor,t=e[bi]||v_(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[bi]||v_(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(n)))(r||n)}}(),n.\u0275cmp=qe({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,r){1&t&&xm("@dialogContainer.start",function(s){return r._onAnimationStart(s)})("@dialogContainer.done",function(s){return r._onAnimationDone(s)}),2&t&&($a("id",r._id),Si("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),Lm("@dialogContainer",r._state))},features:[Mn],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&Ye(0,Lce,0,0,"ng-template",0)},directives:[Mg],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Vce.dialogContainer]}}),n})(),jce=0;class Ns{constructor(e,t,r="mat-dialog-"+jce++){this._overlayRef=e,this._containerInstance=t,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Ee,this._afterClosed=new Ee,this._beforeClosed=new Ee,this._state=0,t._id=r,t._animationStateChanged.pipe(pn(i=>"opened"===i.state),zi(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(pn(i=>"closed"===i.state),zi(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(pn(i=>27===i.keyCode&&!this.disableClose&&!function(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(i))).subscribe(i=>{i.preventDefault(),lD(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():lD(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(pn(t=>"closing"===t.state),zi(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function lD(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const ql=new N("MatDialogData"),Hce=new N("mat-dialog-default-options"),V2=new N("mat-dialog-scroll-strategy"),Wce={provide:V2,deps:[Yo],useFactory:function(n){return()=>n.scrollStrategies.block()}};let zce=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=s,this._overlayContainer=o,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ee,this._afterOpenedAtThisLevel=new Ee,this._ariaHiddenElements=new Map,this.afterAllClosed=IT(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(og(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,r){(r=function(n,e){return Object.assign(Object.assign({},e),n)}(r,this._defaultOptions||new aD)).id&&this.getDialogById(r.id);const i=this._createOverlay(r),s=this._attachDialogContainer(i,r),o=this._attachDialogContent(t,s,i,r);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe(()=>this._removeOpenDialog(o)),this.afterOpened.next(o),s._initializeWithAttachedContent(),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const r=this._getOverlayConfig(t);return this._overlay.create(r)}_getOverlayConfig(t){const r=new rD({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachDialogContainer(t,r){const s=me.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:aD,useValue:r}]}),o=new Ag(this._dialogContainerType,r.viewContainerRef,s,r.componentFactoryResolver);return t.attach(o).instance}_attachDialogContent(t,r,i,s){const o=new this._dialogRefConstructor(i,r,s.id);if(t instanceof xn)r.attachTemplatePortal(new Rg(t,null,{$implicit:s.data,dialogRef:o}));else{const a=this._createInjector(s,o,r),l=r.attachComponentPortal(new Ag(t,s.viewContainerRef,a));o.componentInstance=l.instance}return o.updateSize(s.width,s.height).updatePosition(s.position),o}_createInjector(t,r,i){const s=t&&t.viewContainerRef&&t.viewContainerRef.injector,o=[{provide:this._dialogContainerType,useValue:i},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:r}];return t.direction&&(!s||!s.get(qo,null,j.Optional))&&o.push({provide:qo,useValue:{value:t.direction,change:B()}}),me.create({parent:s||this._injector,providers:o})}_removeOpenDialog(t){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((i,s)=>{i?s.setAttribute("aria-hidden",i):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){let s=r[i];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){return new(t||n)(b(Yo),b(me),b(void 0),b(void 0),b(Ed),b(void 0),b(_a),b(_a),b(N))},n.\u0275dir=re({type:n}),n})(),wd=(()=>{class n extends zce{constructor(t,r,i,s,o,a,l){super(t,r,s,a,l,o,Ns,Uce,ql)}}return n.\u0275fac=function(t){return new(t||n)(m(Yo),m(me),m(al,8),m(Hce,8),m(V2),m(n,12),m(Ed))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})(),Kce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({providers:[wd,Wce],imports:[[Sle,QV,gi],gi]}),n})();function Pg(n,e){return new W(t=>{const r=n.length;if(0===r)return void t.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const l=It(n[a]);let c=!1;t.add(l.subscribe({next:u=>{c||(c=!0,o++),i[a]=u},error:u=>t.error(u),complete:()=>{s++,(s===r||!c)&&(o===r&&t.next(e?e.reduce((u,d,h)=>(u[d]=i[h],u),{}):i),t.complete())}}))}})}const Qce=["*"];function U2(n){return Error(`Unable to find icon with the name "${n}"`)}function j2(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function H2(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Jo{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let Og=(()=>{class n{constructor(t,r,i,s){this._httpClient=t,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,s){return this._addSvgIconConfig(t,r,new Jo(i,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,s){const o=this._sanitizer.sanitize(Se.HTML,i);if(!o)throw H2(i);return this._addSvgIconConfig(t,r,new Jo("",o,s))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Jo(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const s=this._sanitizer.sanitize(Se.HTML,r);if(!s)throw H2(r);return this._addSvgIconSetConfig(t,new Jo("",s,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(Se.RESOURCE_URL,t);if(!r)throw j2(t);const i=this._cachedIconsByUrl.get(r);return i?B(Ng(i)):this._loadSvgIconFromConfig(new Jo(t,null)).pipe(Et(s=>this._cachedIconsByUrl.set(r,s)),ne(s=>Ng(s)))}getNamedSvgIcon(t,r=""){const i=$2(r,t);let s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,t),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(r);return o?this._getSvgFromIconSetConfigs(t,o):eO(U2(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?B(Ng(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(ne(r=>Ng(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?B(i):function(...n){if(1===n.length){const e=n[0];if(Br(e))return Pg(e,null);if(Ji(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Pg(t.map(r=>e[r]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return Pg(n=1===n.length&&Br(n[0])?n[0]:n,null).pipe(ne(t=>e(...t)))}return Pg(n,null)}(r.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(xs(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(Se.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),B(null)})))).pipe(ne(()=>{const o=this._extractIconWithNameFromAnySet(t,r);if(!o)throw U2(t);return o}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const s=r[i];if(s.svgText&&s.svgText.indexOf(t)>-1){const o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,t,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Et(r=>t.svgText=r),ne(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?B(null):this._fetchIcon(t).pipe(Et(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const s=t.querySelector(`[id="${r}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,i);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),i);const a=this._svgElementFromString("<svg></svg>");return a.appendChild(o),this._setSvgAttributes(a,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString("<svg></svg>"),i=t.attributes;for(let s=0;s<i.length;s++){const{name:o,value:a}=i[s];"id"!==o&&r.setAttribute(o,a)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){var r;const{url:i,options:s}=t,o=null!==(r=null==s?void 0:s.withCredentials)&&void 0!==r&&r;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const a=this._sanitizer.sanitize(Se.RESOURCE_URL,i);if(!a)throw j2(i);const l=this._inProgressUrlFetches.get(a);if(l)return l;const c=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(NL(()=>this._inProgressUrlFetches.delete(a)),bD());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set($2(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const s=this._resolvers[i](r,t);if(s)return Zce(s)?new Jo(s.url,null,s.options):new Jo(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(m(hu,8),m(ll),m(L,8),m(yr))},n.\u0275prov=M({factory:function(){return new n(m(hu,8),m(ll),m(L,8),m(yr))},token:n,providedIn:"root"}),n})();function Ng(n){return n.cloneNode(!0)}function $2(n,e){return n+":"+e}function Zce(n){return!(!n.url||!n.options)}const eue=uce(class{constructor(n){this._elementRef=n}}),tue=new N("mat-icon-location",{providedIn:"root",factory:function(){const n=D_(L),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),W2=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],iue=W2.map(n=>`[${n}]`).join(", "),sue=/^url\(['"]?#(.*?)['"]?\)$/;let Kl=(()=>{class n extends eue{constructor(t,r,i,s,o){super(t),this._iconRegistry=r,this._location=s,this._errorHandler=o,this._inline=!1,this._currentIconFetch=ue.EMPTY,i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=function(n){return null!=n&&"false"!=`${n}`}(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=t.querySelectorAll("style");for(let s=0;s<r.length;s++)r[s].textContent+=" ";const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&t.removeChild(i)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),r&&t.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(iue),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)W2.forEach(o=>{const a=r[s],l=a.getAttribute(o),c=l?l.match(sue):null;if(c){let u=i.get(a);u||(u=[],i.set(a,u)),u.push({name:o,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(zi(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(b(Ae),b(Og),ha("aria-hidden"),b(tue),b(yr))},n.\u0275cmp=qe({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(Si("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),en("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Mn],ngContentSelectors:Qce,decls:1,vars:0,template:function(t,r){1&t&&(Jr(),kn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),z2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({imports:[[gi],gi]}),n})(),G2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({imports:[[lf,z2,CT],z2,Kce]}),n})(),oue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({imports:[[lf,G2]]}),n})();const q2=nd("collapse",[Oo("open",ft({height:"*",marginTop:"*",opacity:1})),Oo("closed",ft({height:0,opacity:0,marginTop:0,overflow:"hidden"})),Oo("void",ft({height:0,opacity:0,marginTop:0,overflow:"hidden"})),No("* => *",Rs(".3s ease"))]),aue=nd("fadeIn",[No(":enter",[ft({opacity:0}),Rs("300ms",ft({opacity:1}))]),No(":leave",[Rs("300ms",ft({opacity:0}))])]),lue=[[["input"]]],cue=["input"];let K2=(()=>{class n{ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=qe({type:n,selectors:[["app-form-field"]],hostAttrs:[1,"app-form-field"],inputs:{label:"label"},ngContentSelectors:cue,decls:3,vars:1,consts:[[1,"app-form-field-label"]],template:function(t,r){1&t&&(Jr(lue),kn(0),C(1,"span",0),F(2),w()),2&t&&(P(2),Je(r.label))},styles:[".app-form-field{position:relative;display:block}.app-form-field-label{position:absolute;left:8px;bottom:0px;transition:.3s ease;transform-origin:left;pointer-events:none;font-size:13px;line-height:28px}.app-form-field input.app-input.is-focus+.app-form-field-label,.app-form-field input.app-input.has-value+.app-form-field-label{color:var(--color-primary);transform:scale(.8) translateY(-32px)}\n"],encapsulation:2}),n})();const uue=["appInput",""],due=["*"];let cD=(()=>{class n{constructor(t){this.elementRef=t,this.isFocused=!1,this.hasValue=!1}onFocus(){this.isFocused=!0}onBlur(){this.isFocused=!1}onChange(t){this.checkForValue(t.target)}ngAfterViewInit(){this.checkForValue(this.elementRef.nativeElement)}checkForValue(t){this.value=t.value,this.hasValue=""!==this.value}}return n.\u0275fac=function(t){return new(t||n)(b(Ae))},n.\u0275cmp=qe({type:n,selectors:[["","appInput",""]],hostAttrs:[1,"app-input"],hostVars:4,hostBindings:function(t,r){1&t&&Ge("focus",function(){return r.onFocus()})("blur",function(){return r.onBlur()})("change",function(s){return r.onChange(s)}),2&t&&en("is-focus",r.isFocused)("has-value",r.hasValue)},attrs:uue,ngContentSelectors:due,decls:1,vars:0,template:function(t,r){1&t&&(Jr(),kn(0))},styles:[".app-input{border:0;box-shadow:inset 0 -1px 0 var(--color-dark);transition:all .3s ease;padding:16px 8px 0;line-height:32px;width:100%}.app-input.is-focus,.app-input.has-value{outline:none;box-shadow:inset 0 -2px 0 var(--color-primary)}\n"],encapsulation:2}),n})();const hue=["appButton",""],fue=["*"];let Fg=(()=>{class n{ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=qe({type:n,selectors:[["","appButton",""]],hostAttrs:[1,"app-button"],attrs:hue,ngContentSelectors:fue,decls:1,vars:0,template:function(t,r){1&t&&(Jr(),kn(0))},styles:[".app-button{padding:8px 16px;border:2px solid var(--color-dark);border-radius:8px;background-color:var(--color-dark);color:var(--color-white);transition:.3s ease;cursor:pointer;display:flex;align-items:center;justify-content:center}\n"],encapsulation:2}),n})();function pue(n,e){if(1&n){const t=Qr();C(0,"div",9),C(1,"mat-icon",10),Ge("click",function(){return mr(t).$implicit.selection=0}),F(2,"chevron_left"),w(),C(3,"span",11),F(4),w(),C(5,"mat-icon",12),Ge("click",function(){return mr(t).$implicit.selection=1}),F(6,"chevron_right"),w(),w()}if(2&n){const t=e.$implicit;en("left",0===t.selection)("right",1===t.selection),P(1),en("invisible",0===t.selection),P(3),St("",t.player," "),P(1),en("invisible",1===t.selection)}}let gue=(()=>{class n{constructor(t,r){this.dialogRef=t,this.data=r}ngOnInit(){this.playerData=this.data.players.map(t=>({player:t,selection:-1}))}submit(t){const r={id:this.data.fight.Fighters[0].FighterId,name:this.data.fight.Fighters[0].LastName,players:this.playerData.filter(o=>0===o.selection).map(o=>o.player)},i={id:this.data.fight.Fighters[1].FighterId,name:this.data.fight.Fighters[1].LastName,players:this.playerData.filter(o=>1===o.selection).map(o=>o.player)},s={fightId:this.data.fight.FightId,fighters:{first:r,second:i},betAmount:parseFloat(t)};this.dialogRef.close(s)}}return n.\u0275fac=function(t){return new(t||n)(b(Ns),b(ql))},n.\u0275cmp=qe({type:n,selectors:[["app-place-bets"]],hostAttrs:[1,"app-place-bets"],decls:14,vars:4,consts:[["label","Bet",1,"mb-5"],["type","number","appInput","",3,"value"],["bet",""],[1,"flex"],[1,"text-center","text-bold","w-full"],[1,"text-center"],[1,"selector-container","mt-4"],["class","selector",3,"left","right",4,"ngFor","ngForOf"],["appButton","",1,"w-full","mt-4",3,"click"],[1,"selector"],[1,"selector-left",3,"click"],[1,"text-small"],[1,"selector-right",3,"click"]],template:function(t,r){if(1&t){const i=Qr();C(0,"app-form-field",0),Jn(1,"input",1,2),w(),C(3,"div",3),C(4,"p",4),F(5),w(),C(6,"p",5),F(7,"vs."),w(),C(8,"p",4),F(9),w(),w(),C(10,"div",6),Ye(11,pue,7,9,"div",7),w(),C(12,"button",8),Ge("click",function(){mr(i);const o=Pc(2);return r.submit(o.value)}),F(13," Submit\n"),w()}2&t&&(P(1),he("value",5),P(4),Je(r.data.fight.Fighters[0].LastName),P(4),Je(r.data.fight.Fighters[1].LastName),P(2),he("ngForOf",r.playerData))},directives:[K2,cD,ps,Fg,Kl],styles:[".selector{--translate-x: 50%;display:flex;justify-content:space-between;border:1px solid var(--color-dark);border-radius:8px;width:50%;padding:4px 8px;grid-gap:8px;gap:8px;transition:.3s ease;transform:translate(var(--translate-x))}.selector-container{grid-gap:12px;gap:12px;display:flex;flex-direction:column}.selector.left{--translate-x: 0%}.selector.right{--translate-x: 100%}.app-place-bets{display:block;padding:var(--layout-spacing)}\n"],encapsulation:2}),n})();function _ue(n,e){if(1&n&&(C(0,"app-form-field",4),Jn(1,"input",5),w()),2&n){const t=e.$implicit;he("label","Player "+t.index),P(1),he("value",t.name)}}let mue=(()=>{class n{constructor(t,r){this.dialogRef=t,this.event=r}ngOnInit(){this.players=void 0===this.event.players||0===this.event.players.length?[...Array(6).keys()].map((t,r)=>({index:r+1,name:""})):this.event.players.map((t,r)=>({index:r+1,name:t}))}addPlayer(){this.players.push({index:this.players.length+1,name:""})}submit(){this.dialogRef.close(this.inputValues.map(t=>t.value).filter(t=>""!==t))}}return n.\u0275fac=function(t){return new(t||n)(b(Ns),b(ql))},n.\u0275cmp=qe({type:n,selectors:[["app-add-players-dialog"]],viewQuery:function(t,r){if(1&t&&Oh(cD,5),2&t){let i;el(i=tl())&&(r.inputValues=i)}},hostAttrs:[1,"app-add-players-dialog"],decls:7,vars:1,consts:[[1,"grid"],[3,"label",4,"ngFor","ngForOf"],["appButton","",3,"click"],["appButton","",1,"mt-4",3,"click"],[3,"label"],["appInput","",3,"value"]],template:function(t,r){1&t&&(C(0,"div",0),Ye(1,_ue,2,2,"app-form-field",1),C(2,"button",2),Ge("click",function(){return r.addPlayer()}),C(3,"mat-icon"),F(4,"add"),w(),w(),C(5,"button",3),Ge("click",function(){return r.submit()}),F(6," Ok "),w(),w()),2&t&&(P(1),he("ngForOf",r.players))},directives:[ps,Fg,Kl,K2,cD],styles:[".app-add-players-dialog{display:block;padding:var(--layout-spacing)}\n"],encapsulation:2}),n})(),yue=(()=>{class n{constructor(t,r){this.dialogRef=t,this.data=r}ngOnInit(){}close(){this.dialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(b(Ns),b(ql))},n.\u0275cmp=qe({type:n,selectors:[["app-fighter-stats"]],hostAttrs:[1,"app-fighter-stats"],decls:24,vars:8,consts:[[1,"grid","grid-3","items-center"],[1,"w-full","text-center","text-bold"],[1,"w-full","text-center"],[1,"w-full","text-center","text-small"]],template:function(t,r){1&t&&(C(0,"div",0),C(1,"p",1),F(2),w(),Jn(3,"p"),C(4,"p",1),F(5),w(),C(6,"p",2),F(7),w(),C(8,"p",3),F(9,"Wins"),w(),C(10,"p",2),F(11),w(),C(12,"p",2),F(13),w(),C(14,"p",3),F(15,"Draws"),w(),C(16,"p",2),F(17),w(),C(18,"p",2),F(19),w(),C(20,"p",3),F(21,"Losses"),w(),C(22,"p",2),F(23),w(),w()),2&t&&(P(2),Je(r.data.fighters[0].LastName),P(3),Je(r.data.fighters[1].LastName),P(2),Je(r.data.fighters[0].PreFightWins),P(4),Je(r.data.fighters[1].PreFightWins),P(2),Je(r.data.fighters[0].PreFightDraws),P(4),Je(r.data.fighters[1].PreFightDraws),P(2),Je(r.data.fighters[0].PreFightLosses),P(4),Je(r.data.fighters[1].PreFightLosses))},styles:[".app-fighter-stats{display:block;padding:var(--layout-spacing)}\n"],encapsulation:2}),n})(),vue=(()=>{class n{constructor(t,r){this.dialogRef=t,this.data=r}ngOnInit(){}submit(t){this.dialogRef.close(t)}}return n.\u0275fac=function(t){return new(t||n)(b(Ns),b(ql))},n.\u0275cmp=qe({type:n,selectors:[["app-set-winner"]],hostAttrs:[1,"app-set-winner"],decls:7,vars:2,consts:[[1,"app-set-winner-container"],["appButton","",1,"w-full",3,"click"],[1,"app-set-winner-seperator"]],template:function(t,r){1&t&&(C(0,"div",0),C(1,"button",1),Ge("click",function(){return r.submit(r.data.Fighters[0].FighterId)}),F(2),w(),w(),Jn(3,"div",2),C(4,"div",0),C(5,"button",1),Ge("click",function(){return r.submit(r.data.Fighters[1].FighterId)}),F(6),w(),w()),2&t&&(P(2),St(" ",r.data.Fighters[0].LastName," "),P(4),St(" ",r.data.Fighters[1].LastName," "))},directives:[Fg],styles:[".app-set-winner-container{padding:var(--layout-spacing)}.app-set-winner-seperator{border-bottom:1px solid var(--color-light-accent)}\n"],encapsulation:2}),n})();const bue_Edit=[{type:"item",key:"edit",icon:"edit_note",display:"Edit"}];class Cue{constructor(e){this.value=e}call(e,t){return t.subscribe(new wue(e,this.value))}}class wue extends _e{constructor(e,t){super(e),this.value=t}_next(e){this.destination.next(this.value)}}var Lg,Iue=new Uint8Array(16);function Tue(){if(!Lg&&!(Lg="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Lg(Iue)}const Due=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Aue=function(n){return"string"==typeof n&&Due.test(n)};for(var Ut=[],uD=0;uD<256;++uD)Ut.push((uD+256).toString(16).substr(1));const xue=function(n,e,t){var r=(n=n||{}).random||(n.rng||Tue)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=r[i];return e}return function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(Ut[n[e+0]]+Ut[n[e+1]]+Ut[n[e+2]]+Ut[n[e+3]]+"-"+Ut[n[e+4]]+Ut[n[e+5]]+"-"+Ut[n[e+6]]+Ut[n[e+7]]+"-"+Ut[n[e+8]]+Ut[n[e+9]]+"-"+Ut[n[e+10]]+Ut[n[e+11]]+Ut[n[e+12]]+Ut[n[e+13]]+Ut[n[e+14]]+Ut[n[e+15]]).toLowerCase();if(!Aue(t))throw TypeError("Stringified UUID is invalid");return t}(r)};let Y2=(()=>{class n{constructor(t){this.db=t,this.events=Po(this.db,"events")}getRef(t){return Po(this.db,t)}getAllEvents(){return $I(this.events).pipe(ne(this.mapToArray))}getAllFightsOfNight(t){return $I(Po(this.db,`nights/${t}/fights`)).pipe(ne(this.mapToArray))}getEventRef(t){return Po(this.db,`events/${t}`)}getFightRef(t,r){return Po(this.db,`nights/${t}/fights/${r}`)}createNewEvent(t){const r=Po(this.db,`events/${t.EventId}`);return It(AF(r,Object.assign(Object.assign({},t),{players:[]})))}createNewFight(t,r,i,s){const o=xue(),a=Po(this.db,`nights/${t}/fights/${o}`),l={id:o,firstFighter:r,secondFighter:i,bet:s};return It(AF(a,l)).pipe(Ps(),function(n){return e=>e.lift(new Cue(n))}(l))}mapToArray(t){return null===t?[]:Object.keys(t).map(r=>t[r])}}return n.\u0275fac=function(t){return new(t||n)(m(Lp))},n.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Pue(n,e){if(1&n&&(C(0,"mat-icon"),F(1),w()),2&n){const t=Dt().$implicit;P(1),Je(t.icon)}}function Oue(n,e){if(1&n){const t=Qr();C(0,"div",2),Ge("click",function(){const s=mr(t).$implicit;return Dt().onItemClick(s)}),Ye(1,Pue,2,1,"mat-icon",3),C(2,"p"),F(3),w(),w()}if(2&n){const t=e.$implicit;en("app-context-menu-item","item"===t.type)("app-context-menu-seperator","seperator"===t.type),P(1),he("ngIf",t.icon),P(2),Je(t.display)}}let Nue=(()=>{class n{constructor(){this.animationState="open",this.animationStateChanged=new Fe,this.itemClick=new Fe}startCloseAnimation(){this.animationState="void"}onItemClick(t){"item"===t.type&&this.itemClick.emit(t.key)}onAnimationStart(t){this.animationStateChanged.emit(t)}onAnimationDone(t){this.animationStateChanged.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=qe({type:n,selectors:[["app-context-menu"]],inputs:{items:"items"},outputs:{itemClick:"itemClick"},decls:2,vars:2,consts:[[1,"app-context-menu"],[3,"app-context-menu-item","app-context-menu-seperator","click",4,"ngFor","ngForOf"],[3,"click"],[4,"ngIf"]],template:function(t,r){1&t&&(C(0,"div",0),Ge("@contextMenu.start",function(s){return r.onAnimationStart(s)})("@contextMenu.done",function(s){return r.onAnimationDone(s)}),Ye(1,Oue,4,6,"div",1),w()),2&t&&(he("@contextMenu",r.animationState),P(1),he("ngForOf",r.items))},directives:[ps,ou,Kl],styles:[".app-context-menu{background-color:var(--color-white);padding:4px 0;box-shadow:#0000001a 0 4px 12px;border-radius:4px}.app-context-menu-item{display:flex;align-items:center;grid-gap:8px;gap:8px;min-width:164px;padding:8px 16px;transition:.3s ease}.app-context-menu-item:hover{background-color:var(--color-light)}.app-context-menu-seperator{border-bottom:1px solid var(--color-light-accent)}\n"],encapsulation:2,data:{animation:[nd("contextMenu",[Oo("open",ft({transform:"scale(1)",opacity:1})),Oo("void",ft({transform:"scale(0.8)",opacity:0,transformOrigin:"top right"})),No("* => *",Rs(".2s ease"))])]}}),n})(),Q2=(()=>{class n{constructor(t,r,i){this.overlayPositionBuilder=t,this.elementRef=r,this.overlay=i,this.onContextMenuItemClick=new Fe}onClick(t){t.stopPropagation(),this.handleOnClick()}ngOnInit(){const t=this.overlayPositionBuilder.flexibleConnectedTo(this.elementRef).withPositions([{originX:"start",originY:"center",overlayX:"end",overlayY:"top"}]);this.overlayRef=this.overlay.create({positionStrategy:t,hasBackdrop:!0,backdropClass:"cdk-overlay-transparent-backdrop"}),this.overlayRef.backdropClick().subscribe(()=>this.handleOnClick())}handleOnClick(){this.overlayRef.hasAttached()?this.hide():this.show()}show(){const t=new Ag(Nue);this.contextMenuRef=this.overlayRef.attach(t),this.contextMenuRef.instance.items=this.items,this.contextMenuClickListener=this.contextMenuRef.instance.itemClick.subscribe(r=>{this.onContextMenuItemClick.emit(r),this.hide()}),this.contextMenuAfterClosed=this.contextMenuRef.instance.animationStateChanged.pipe(pn(r=>"done"===r.phaseName&&"void"===r.toState),Ps())}hide(){this.contextMenuClickListener.unsubscribe(),this.contextMenuAfterClosed.subscribe(t=>this.overlayRef.detach()),this.contextMenuRef.instance.startCloseAnimation()}}return n.\u0275fac=function(t){return new(t||n)(b(l2),b(Ae),b(Yo))},n.\u0275dir=re({type:n,selectors:[["","appContextMenu",""]],hostBindings:function(t,r){1&t&&Ge("click",function(s){return r.onClick(s)})},inputs:{items:["appContextMenu","items"]},outputs:{onContextMenuItemClick:"contextMenuClick"}}),n})();function Fue(n,e){if(1&n){const t=Qr();C(0,"div",3),Ge("contextMenuClick",function(i){return mr(t),Dt().contextMenuClick.emit(i)}),C(1,"mat-icon"),F(2," more_horiz "),w(),w()}2&n&&he("appContextMenu",Dt().contextMenu)}const Lue=["*",[["","appCardAction",""]]],Vue=["*","[appCardAction]"];let J2=(()=>{class n{constructor(){this.contentCentered=!1,this.contextMenuClick=new Fe}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=qe({type:n,selectors:[["app-card"]],hostAttrs:[1,"app-card"],hostVars:2,hostBindings:function(t,r){2&t&&en("content-center",r.contentCentered)},inputs:{contentCentered:["content-center","contentCentered"],contextMenu:"contextMenu"},outputs:{contextMenuClick:"contextMenuClick"},ngContentSelectors:Vue,decls:5,vars:1,consts:[[1,"app-card-content"],[1,"app-card-action"],["class","app-card-context-menu",3,"appContextMenu","contextMenuClick",4,"ngIf"],[1,"app-card-context-menu",3,"appContextMenu","contextMenuClick"]],template:function(t,r){1&t&&(Jr(Lue),C(0,"div",0),kn(1),w(),C(2,"div",1),kn(3,1),w(),Ye(4,Fue,3,1,"div",2)),2&t&&(P(4),he("ngIf",void 0!==r.contextMenu))},directives:[ou,Q2,Kl],styles:[".app-card{position:relative;display:flex;width:100%;padding:16px;background-color:var(--color-white);border-radius:4px;box-shadow:#0000001a 0 0 12px;transition:.3s ease}.app-card:hover{background-color:var(--color-light)}.app-card.content-center .app-card-content{place-items:center;place-content:center}.app-card-content,.app-card-action{display:flex;flex-direction:column}.app-card-content{flex-grow:1;width:100%}.app-card-action{justify-content:center}.app-card-context-menu{display:flex;position:absolute;cursor:pointer;top:0px;right:0px;padding:12px}\n"],encapsulation:2}),n})();const Bue=function(n){return{data:n}};function Uue(n,e){if(1&n&&function(n,e,t){Rm(n,e,t),Mm()}(0,5),2&n){const t=e.$implicit,r=Dt();he("ngTemplateOutlet",Pc(11))("ngTemplateOutletContext",function(n,e,t,r){return FM(I(),Jt(),n,e,t,r)}(2,Bue,r.getPlayerSummary(t)))}}function jue(n,e){if(1&n&&(C(0,"div",6),C(1,"span",7),F(2),w(),C(3,"span"),F(4),w(),C(5,"span"),F(6),w(),C(7,"span"),F(8),w(),w()),2&n){const t=e.data;P(2),St(" ",t.name," "),P(2),St(" ",t.totalBets," "),P(2),St(" ",t.totalWon," "),P(1),en("plus",t.overall>0)("minus",t.overall<0),P(1),St(" ",t.overall," ")}}let Hue=(()=>{class n{constructor(){this.trackByIndex=t=>t}ngOnInit(){}getPlayerSummary(t){var r;const i=null!==(r=this.event.bets)&&void 0!==r?r:[];let s=0,o=0;return i.forEach(a=>{var l,c,u,d;let h=0;(null!==(l=a.fighters.first.players)&&void 0!==l?l:[]).includes(t)&&(s+=null!==(c=a.betAmount)&&void 0!==c?c:0,h=a.fighters.first.id),(null!==(u=a.fighters.second.players)&&void 0!==u?u:[]).includes(t)&&(s+=null!==(d=a.betAmount)&&void 0!==d?d:0,h=a.fighters.second.id),o+=this.calculateWinningsOfFight(a,a.winnerId===h)}),{name:t,totalBets:this.round(s),totalWon:this.round(o),overall:this.round(o-s)}}calculateWinningsOfFight(t,r){if(!r)return 0;let i=[],s=[];return t.winnerId===t.fighters.first.id&&(i=t.fighters.second.players,s=t.fighters.first.players),t.winnerId===t.fighters.second.id&&(i=t.fighters.first.players,s=t.fighters.second.players),t.betAmount+(null==i?void 0:i.length)*t.betAmount/s.length}round(t){return Math.round(100*t)/100}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=qe({type:n,selectors:[["app-event-dashboard"]],inputs:{event:"event"},decls:12,vars:1,consts:[[1,"night-dashboard-grid"],[1,"night-dashboard-grid-row","header"],[1,"text-small"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],["playerSummary",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"night-dashboard-grid-row"],[1,"first"]],template:function(t,r){1&t&&(C(0,"div",0),C(1,"div",1),Jn(2,"span"),C(3,"span",2),F(4,"Einsatz"),w(),C(5,"span",2),F(6,"Gewinn"),w(),C(7,"span",2),F(8,"Total"),w(),w(),Ye(9,Uue,1,4,"ng-container",3),w(),Ye(10,jue,9,8,"ng-template",null,4,_y)),2&t&&(P(9),he("ngForOf",null==r.event?null:r.event.players))},directives:[ps,fx],styles:[".night-dashboard-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto auto auto}.night-dashboard-grid-row[_ngcontent-%COMP%]{display:contents}.night-dashboard-grid-row.header[_ngcontent-%COMP%]{font-weight:bold}.night-dashboard-grid-row[_ngcontent-%COMP%]:nth-child(2n)   span[_ngcontent-%COMP%]{background-color:var(--color-light)}.night-dashboard-grid-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;border-bottom:2px solid var(--color-light-accent);text-align:center}.night-dashboard-grid-row[_ngcontent-%COMP%]   span.first[_ngcontent-%COMP%]{text-align:left}.night-dashboard-grid-row[_ngcontent-%COMP%]   span.plus[_ngcontent-%COMP%]{background-color:#d8f1bb;text-align:right}.night-dashboard-grid-row[_ngcontent-%COMP%]   span.minus[_ngcontent-%COMP%]{background-color:#ffbdbd;text-align:right}"]}),n})();const $ue=[[["","accordionTitle",""]],"*"],Wue=["[accordionTitle]","*"];let zue=(()=>{class n{ngOnInit(){this.isOpen$=new Un(!1),this.accordionState$=this.isOpen$.pipe(ne(t=>t?"open":"closed"))}toggle(){this.isOpen$.next(!this.isOpen$.value)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=qe({type:n,selectors:[["app-accordion"]],hostAttrs:[1,"app-accordion"],ngContentSelectors:Wue,decls:5,vars:3,consts:[[1,"app-accordion-toggle",3,"click"],[1,"app-accordion-content"]],template:function(t,r){1&t&&(Jr($ue),C(0,"div",0),Ge("click",function(){return r.toggle()}),kn(1),w(),C(2,"div",1),to(3,"async"),kn(4,1),w()),2&t&&(P(2),he("@collapse",Kc(3,1,r.accordionState$)))},pipes:[au],styles:[".app-accordion{position:relative;display:block;width:auto;margin:0 calc(var(--layout-spacing) * -1);padding:12px var(--layout-spacing);background-color:var(--color-white);border-bottom:1px solid var(--color-light-accent)}.app-accordion-content{margin-top:12px;border-top:1px solid var(--color-light-accent)}\n"],encapsulation:2,data:{animation:[q2]}}),n})();function Gue(n,e){1&n&&(C(0,"mat-icon",21),F(1,"emoji_events"),w())}function que(n,e){1&n&&(C(0,"mat-icon",22),F(1,"emoji_events"),w())}function Kue(n,e){if(1&n&&(C(0,"p",2),F(1),w()),2&n){const t=e.$implicit;P(1),Je(t)}}function Yue(n,e){if(1&n&&(C(0,"p",2),F(1),w()),2&n){const t=e.$implicit;P(1),Je(t)}}function Que(n,e){if(1&n&&(Rm(0),C(1,"div",23),C(2,"div",24),C(3,"p",25),F(4),w(),Ye(5,Kue,2,1,"p",8),w(),C(6,"div",24),C(7,"p",25),F(8),w(),Ye(9,Yue,2,1,"p",8),w(),w(),Mm()),2&n){const t=e.ngIf;P(4),Je(t.fighters.first.name),P(1),he("ngForOf",t.fighters.first.players),P(3),Je(t.fighters.second.name),P(1),he("ngForOf",t.fighters.second.players)}}function Jue(n,e){1&n&&(C(0,"h4",26),F(1,"No Bets placed yet"),w())}function Xue(n,e){if(1&n){const t=Qr();C(0,"app-accordion"),C(1,"div",12),C(2,"div",13),Ge("contextMenuClick",function(i){const o=mr(t).$implicit,a=Dt(2).ngIf;return Dt().handleFightContextMenuClick(i,a,o)}),C(3,"mat-icon"),F(4," more_horiz "),w(),w(),C(5,"p",14),F(6),w(),C(7,"div",15),C(8,"p",16),Ye(9,Gue,2,0,"mat-icon",17),F(10),w(),C(11,"p",16),F(12),Ye(13,que,2,0,"mat-icon",18),w(),w(),w(),Ye(14,Que,10,4,"ng-container",19),Ye(15,Jue,2,0,"ng-template",null,20,_y),w()}if(2&n){const t=e.$implicit,r=Pc(16),i=Dt(2).ngIf,s=Dt();P(2),he("appContextMenu",s.contextMenuFight),P(4),Je(t.WeightClass),P(3),he("ngIf",s.getWinnerOfFight(i,t)===t.Fighters[0].FighterId),P(1),St(" ",t.Fighters[0].LastName," "),P(2),St(" ",t.Fighters[1].LastName," "),P(1),he("ngIf",s.getWinnerOfFight(i,t)===t.Fighters[1].FighterId),P(1),he("ngIf",s.getBetOfFight(t.FightId,i))("ngIfElse",r)}}function Zue(n,e){if(1&n&&(C(0,"div"),C(1,"p",10),F(2),w(),Ye(3,Xue,17,8,"app-accordion",11),w()),2&n){const t=e.$implicit;P(2),Je(t.name),P(1),he("ngForOf",t.fights)}}function ede(n,e){if(1&n&&(C(0,"p",2),F(1),w()),2&n){const t=e.$implicit;P(1),St(" ",t," ")}}function tde(n,e){if(1&n){const t=Qr();C(0,"button",27),Ge("click",function(){mr(t);const i=Dt().ngIf;return Dt().addPlayers(i)}),F(1," Add Players "),w()}}function nde(n,e){if(1&n){const t=Qr();C(0,"div",1),C(1,"h1",2),F(2),w(),C(3,"app-card"),Jn(4,"app-event-dashboard",3),w(),Ye(5,Zue,4,2,"div",4),C(6,"app-card",5),Ge("contextMenuClick",function(){const s=mr(t).ngIf;return Dt().addPlayers(s)}),C(7,"p",6),F(8,"Players"),w(),C(9,"div",7),Ye(10,ede,2,1,"p",8),w(),Ye(11,tde,2,0,"button",9),w(),w()}if(2&n){const t=e.ngIf,r=Dt();P(2),Je(t.ShortName),P(2),he("event",t),P(1),he("ngForOf",r.getFightsGroupedByCard(t))("ngForTrackBy",r.trackByIndex),P(1),he("contextMenu",r.contextMenuEdit),P(4),he("ngForOf",t.players),P(1),he("ngIf",void 0===t.players||0===(null==t.players?null:t.players.length))}}let rde=(()=>{class n{constructor(t,r,i,s){this.db=t,this.route=r,this.dialog=i,this.router=s,this.contextMenuEdit=bue_Edit,this.contextMenuFight=[{type:"item",icon:"info",key:"info",display:"Fighter Stats"},{type:"item",icon:"paid",key:"bet",display:"Bet"},{type:"seperator"},{type:"item",icon:"emoji_events",key:"set-winner",display:"Set Winner"}]}ngOnInit(){this.event$=this.route.paramMap.pipe(Et(t=>{var r;return this.eventRef=this.db.getEventRef(null!==(r=t.get("id"))&&void 0!==r?r:"")}),lr(t=>$I(this.eventRef))),this.event$.subscribe(console.log)}handleFightContextMenuClick(t,r,i){return"bet"===t?this.placeBets(r,i):"set-winner"===t?this.setWinner(r,i):"info"===t?this.openFighterStats(i):void 0}openFighterStats(t){this.dialog.open(yue,{data:{fighters:t.Fighters}})}setWinner(t,r){this.dialog.open(vue,{data:r}).afterClosed().subscribe(i=>{var s,o,a,l;const c=null!==(o=null===(s=t.bets)||void 0===s?void 0:s.findIndex(u=>u.fightId===r.FightId))&&void 0!==o?o:-1;if(-1!==c){const u=(null!==(a=t.bets)&&void 0!==a?a:[])[c];(null!==(l=t.bets)&&void 0!==l?l:[])[c]=Object.assign(Object.assign({},u),{winnerId:i}),Vp(this.eventRef,{bets:t.bets})}})}placeBets(t,r){this.dialog.open(gue,{data:{fight:r,players:t.players}}).afterClosed().subscribe(i=>{var s,o,a;if(i){const l=(null!==(s=t.bets)&&void 0!==s?s:[]).findIndex(c=>c.fightId===i.fightId);-1===l?Vp(this.eventRef,{bets:[...null!==(o=t.bets)&&void 0!==o?o:[],i]}):((null!==(a=t.bets)&&void 0!==a?a:[])[l]=i,Vp(this.eventRef,{bets:t.bets}))}})}addPlayers(t){this.dialog.open(mue,{data:t}).afterClosed().subscribe(r=>{r&&r.length>0&&Vp(this.eventRef,{players:r})})}getFightsGroupedByCard(t){var r;const i=null===(r=t.Fights)||void 0===r?void 0:r.map(o=>o.CardSegment).filter((o,a,l)=>l.indexOf(o)===a),s=[];return null==i||i.forEach(o=>{var a;s.push({name:o,fights:(null!==(a=t.Fights)&&void 0!==a?a:[]).filter(l=>l.CardSegment===o&&"Canceled"!==l.Status)})}),s}getWinnerOfFight(t,r){var i,s,o;return null!==(o=null===(s=null===(i=t.bets)||void 0===i?void 0:i.find(a=>a.fightId===r.FightId))||void 0===s?void 0:s.winnerId)&&void 0!==o?o:0}getBetOfFight(t,r){var i;return(null!==(i=r.bets)&&void 0!==i?i:[]).find(s=>s.fightId===t)}trackByIndex(t){return t}}return n.\u0275fac=function(t){return new(t||n)(b(Y2),b(Ho),b(wd),b(Kt))},n.\u0275cmp=qe({type:n,selectors:[["app-event"]],decls:2,vars:3,consts:[["class","grid",4,"ngIf"],[1,"grid"],[1,"text-center"],[3,"event"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"mt-5",3,"contextMenu","contextMenuClick"],[1,"text-large","text-center","mb-2","text-bold"],[1,"grid","grid-2"],["class","text-center",4,"ngFor","ngForOf"],["class","mt-6","appButton","",3,"click",4,"ngIf"],[1,"text-center","text-bold","text-small","mb-2","mt-2"],[4,"ngFor","ngForOf"],["accordionTitle",""],[1,"app-event-context-menu",3,"appContextMenu","contextMenuClick"],[1,"text-small","text-center"],[1,"flex","justify-between","text-bold","text-large"],[1,"w-full","flex","justify-center"],["class","text-gold mr-2",4,"ngIf"],["class","text-gold ml-2",4,"ngIf"],[4,"ngIf","ngIfElse"],["noBet",""],[1,"text-gold","mr-2"],[1,"text-gold","ml-2"],[1,"grid","grid-2","mt-2"],[1,"flex","flex-col"],[1,"text-bold","text-center"],[1,"text-center","mt-2"],["appButton","",1,"mt-6",3,"click"]],template:function(t,r){1&t&&(Ye(0,nde,12,7,"div",0),to(1,"async")),2&t&&he("ngIf",Kc(1,1,r.event$))},directives:[ou,J2,Hue,ps,zue,Q2,Kl,Fg],pipes:[au],styles:[".app-event-context-menu[_ngcontent-%COMP%]{position:absolute;display:flex;top:12px;right:12px}"],data:{animation:[q2,aue]}}),n})(),ide=(()=>{class n{hasCachedData(t){return this.isValid(t)}getCachedData(t){var r;return B(JSON.parse(null!==(r=localStorage.getItem(t))&&void 0!==r?r:"{}"))}cacheData(t,r){localStorage.setItem(t,JSON.stringify({from:(new Date).getTime(),data:r}))}isValid(t){const r=localStorage.getItem(t);if(null==r)return!1;const s=JSON.parse(r);return(new Date).getTime()-(null==s?void 0:s.from)<6048e5}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),X2=(()=>{class n{constructor(t,r){this.http=t,this.cache=r}getSchedule(){return this.get(`Schedule/UFC/${(new Date).getFullYear()}`)}getEvent(t){return this.get(`Event/${t}`,!1)}get(t,r=!1){return this.cache.hasCachedData(t)?this.cache.getCachedData(t).pipe(ne(s=>s.data)):this.http.get(`${ig_sportsdata_baseUrl}/${t}?key=${ig_sportsdata_apiKey}`).pipe(Et(s=>{r||this.cache.cacheData(t,s)}))}}return n.\u0275fac=function(t){return new(t||n)(m(hu),m(ide))},n.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sde(n,e){if(1&n){const t=Qr();C(0,"div",1),Ge("click",function(){const s=mr(t).$implicit;return Dt().submit(s.EventId)}),C(1,"h4",2),F(2),w(),C(3,"p",3),F(4),to(5,"date"),w(),w()}if(2&n){const t=e.$implicit;P(2),St(" ",t.Name," "),P(2),Je(ly(5,2,t.DateTime,"dd.MM.yyyy"))}}let ode=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.data=r,this.ufc=i}ngOnInit(){this.schedule$=this.ufc.getSchedule().pipe(ne(t=>t.filter(r=>"Final"!==r.Status)))}submit(t){this.dialogRef.close(t)}}return n.\u0275fac=function(t){return new(t||n)(b(Ns),b(ql),b(X2))},n.\u0275cmp=qe({type:n,selectors:[["app-add-night-dialog"]],hostAttrs:[1,"app-add-night-dialog"],decls:2,vars:3,consts:[["class","app-add-night-dialog-item",3,"click",4,"ngFor","ngForOf"],[1,"app-add-night-dialog-item",3,"click"],[1,"text-center","mb-2"],[1,"text-center"]],template:function(t,r){1&t&&(Ye(0,sde,6,5,"div",0),to(1,"async")),2&t&&he("ngForOf",Kc(1,1,r.schedule$))},directives:[ps],pipes:[au,iv],styles:[".app-add-night-dialog-item{width:auto;padding:20px}.app-add-night-dialog-item:not(:last-child){border-bottom:1px solid var(--color-light-accent)}\n"],encapsulation:2}),n})();function ade(n,e){if(1&n){const t=Qr();C(0,"app-card",3),Ge("click",function(){const s=mr(t).$implicit;return Dt().navigateToEvent(s.EventId)}),C(1,"p",4),F(2),w(),C(3,"p",5),F(4),to(5,"date"),w(),C(6,"mat-icon",6),F(7," chevron_right "),w(),w()}if(2&n){const t=e.$implicit;P(2),St(" ",t.Name," "),P(2),St(" ",ly(5,2,t.DateTime,"dd.MM.yyyy")," ")}}let lde=(()=>{class n{constructor(t,r,i,s){this.db=t,this.router=r,this.ufc=i,this.dialog=s}ngOnInit(){this.allEvents$=this.db.getAllEvents()}addNewEvent(){this.dialog.open(ode).afterClosed().pipe(pn(t=>void 0!==t),lr(t=>this.ufc.getEvent(t)),lr(t=>this.db.createNewEvent(t))).subscribe()}navigateToEvent(t){this.router.navigate([Yl.Event,t])}}return n.\u0275fac=function(t){return new(t||n)(b(Y2),b(Kt),b(X2),b(wd))},n.\u0275cmp=qe({type:n,selectors:[["app-home"]],decls:6,vars:4,consts:[[1,"grid"],[3,"click",4,"ngFor","ngForOf"],[3,"content-center","click"],[3,"click"],[1,"text-bold","mb-2"],[1,"text-small"],["appCardAction",""]],template:function(t,r){1&t&&(C(0,"div",0),Ye(1,ade,8,5,"app-card",1),to(2,"async"),C(3,"app-card",2),Ge("click",function(){return r.addNewEvent()}),C(4,"mat-icon"),F(5,"add"),w(),w(),w()),2&t&&(P(1),he("ngForOf",Kc(2,2,r.allEvents$)),P(2),he("content-center",!0))},directives:[ps,J2,Kl],pipes:[au,iv],styles:[""]}),n})();const Yl={Home:"home",Event:"event",Fights:"fights"},cde=[{path:"",pathMatch:"full",redirectTo:Yl.Home},{path:Yl.Home,component:lde,data:{transtitionState:Yl.Home}},{path:`${Yl.Event}/:id`,component:rde,data:{transtitionState:Yl.Event}}];let ude=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({imports:[[PV.forRoot(cde)],PV]}),n})(),dde=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=De({type:n,bootstrap:[hae]}),n.\u0275inj=Ce({providers:[],imports:[[gv,CT,ude,oue,G2,QK,fQ(()=>pQ(ig_firebase)),cre(()=>ure()),CT]]}),n})();(function(){if(mk)throw new Error("Cannot enable prod mode after platform setup.");_k=!1})(),DK().bootstrapModule(dde).catch(n=>console.error(n))}},Zo=>{Zo(Zo.s=272)}]);