(self.webpackChunkholys_bet_manager=self.webpackChunkholys_bet_manager||[]).push([[179],{255:Qo=>{function Vr(cr){return Promise.resolve().then(()=>{var ln=new Error("Cannot find module '"+cr+"'");throw ln.code="MODULE_NOT_FOUND",ln})}Vr.keys=()=>[],Vr.resolve=Vr,Vr.id=255,Qo.exports=Vr},676:function(Qo,Vr){!function(cr){"use strict";function ln(V){return Array.prototype.slice.call(V)}function Jo(V){return new Promise(function(ae,ve){V.onsuccess=function(){ae(V.result)},V.onerror=function(){ve(V.error)}})}function Ut(V,ae,ve){var Ve,be=new Promise(function(H,Zi){Jo(Ve=V[ae].apply(V,ve)).then(H,Zi)});return be.request=Ve,be}function Ji(V,ae,ve){var Ve=Ut(V,ae,ve);return Ve.then(function(be){if(be)return new ue(be,Ve.request)})}function ur(V,ae,ve){ve.forEach(function(Ve){Object.defineProperty(V.prototype,Ve,{get:function(){return this[ae][Ve]},set:function(be){this[ae][Ve]=be}})})}function Br(V,ae,ve,Ve){Ve.forEach(function(be){be in ve.prototype&&(V.prototype[be]=function(){return Ut(this[ae],be,arguments)})})}function Xi(V,ae,ve,Ve){Ve.forEach(function(be){be in ve.prototype&&(V.prototype[be]=function(){return this[ae][be].apply(this[ae],arguments)})})}function Og(V,ae,ve,Ve){Ve.forEach(function(be){be in ve.prototype&&(V.prototype[be]=function(){return Ji(this[ae],be,arguments)})})}function Un(V){this._index=V}function ue(V,ae){this._cursor=V,this._request=ae}function bn(V){this._store=V}function Ur(V){this._tx=V,this.complete=new Promise(function(ae,ve){V.oncomplete=function(){ae()},V.onerror=function(){ve(V.error)},V.onabort=function(){ve(V.error)}})}function Yl(V,ae,ve){this._db=V,this.oldVersion=ae,this.transaction=new Ur(ve)}function _e(V){this._db=V}ur(Un,"_index",["name","keyPath","multiEntry","unique"]),Br(Un,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Og(Un,"_index",IDBIndex,["openCursor","openKeyCursor"]),ur(ue,"_cursor",["direction","key","primaryKey","value"]),Br(ue,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(V){V in IDBCursor.prototype&&(ue.prototype[V]=function(){var ae=this,ve=arguments;return Promise.resolve().then(function(){return ae._cursor[V].apply(ae._cursor,ve),Jo(ae._request).then(function(Ve){if(Ve)return new ue(Ve,ae._request)})})})}),bn.prototype.createIndex=function(){return new Un(this._store.createIndex.apply(this._store,arguments))},bn.prototype.index=function(){return new Un(this._store.index.apply(this._store,arguments))},ur(bn,"_store",["name","keyPath","indexNames","autoIncrement"]),Br(bn,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Og(bn,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Xi(bn,"_store",IDBObjectStore,["deleteIndex"]),Ur.prototype.objectStore=function(){return new bn(this._tx.objectStore.apply(this._tx,arguments))},ur(Ur,"_tx",["objectStoreNames","mode"]),Xi(Ur,"_tx",IDBTransaction,["abort"]),Yl.prototype.createObjectStore=function(){return new bn(this._db.createObjectStore.apply(this._db,arguments))},ur(Yl,"_db",["name","version","objectStoreNames"]),Xi(Yl,"_db",IDBDatabase,["deleteObjectStore","close"]),_e.prototype.transaction=function(){return new Ur(this._db.transaction.apply(this._db,arguments))},ur(_e,"_db",["name","version","objectStoreNames"]),Xi(_e,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(V){[bn,Un].forEach(function(ae){V in ae.prototype&&(ae.prototype[V.replace("open","iterate")]=function(){var ve=ln(arguments),Ve=ve[ve.length-1],be=this._store||this._index,H=be[V].apply(be,ve.slice(0,-1));H.onsuccess=function(){Ve(H.result)}})})}),[Un,bn].forEach(function(V){V.prototype.getAll||(V.prototype.getAll=function(ae,ve){var Ve=this,be=[];return new Promise(function(H){Ve.iterateCursor(ae,function(Zi){Zi?(be.push(Zi.value),void 0===ve||be.length!=ve?Zi.continue():H(be)):H(be)})})})}),cr.openDb=function(V,ae,ve){var Ve=Ut(indexedDB,"open",[V,ae]),be=Ve.request;return be&&(be.onupgradeneeded=function(H){ve&&ve(new Yl(be.result,H.oldVersion,be.transaction))}),Ve.then(function(H){return new _e(H)})},cr.deleteDb=function(V){return Ut(indexedDB,"deleteDatabase",[V])},Object.defineProperty(cr,"__esModule",{value:!0})}(Vr)},51:(Qo,Vr,cr)=>{"use strict";function ln(n){return"function"==typeof n}let Jo=!1;const Ut={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else Jo&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Jo=n},get useDeprecatedSynchronousErrorHandling(){return Jo}};function Ji(n){setTimeout(()=>{throw n},0)}const ur={closed:!0,next(n){},error(n){if(Ut.useDeprecatedSynchronousErrorHandling)throw n;Ji(n)},complete(){}},Br=Array.isArray||(n=>n&&"number"==typeof n.length);function Xi(n){return null!==n&&"object"==typeof n}const Un=(()=>{function n(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((t,r)=>`${r+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return n.prototype=Object.create(Error.prototype),n})();class ue{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:r,_unsubscribe:i,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof ue)t.remove(this);else if(null!==t)for(let o=0;o<t.length;++o)t[o].remove(this);if(ln(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(o){e=o instanceof Un?bn(o.errors):[o]}}if(Br(s)){let o=-1,a=s.length;for(;++o<a;){const l=s[o];if(Xi(l))try{l.unsubscribe()}catch(c){e=e||[],c instanceof Un?e=e.concat(bn(c.errors)):e.push(c)}}}if(e)throw new Un(e)}add(e){let t=e;if(!e)return ue.EMPTY;switch(typeof e){case"function":t=new ue(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof ue)){const s=t;t=new ue,t._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=t;if(null===r)t._parentOrParents=this;else if(r instanceof ue){if(r===this)return t;t._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return t;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[t]:i.push(t),t}remove(e){const t=this._subscriptions;if(t){const r=t.indexOf(e);-1!==r&&t.splice(r,1)}}}var n;function bn(n){return n.reduce((e,t)=>e.concat(t instanceof Un?t.errors:t),[])}ue.EMPTY=((n=new ue).closed=!0,n);const Ur="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class _e extends ue{constructor(e,t,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ur;break;case 1:if(!e){this.destination=ur;break}if("object"==typeof e){e instanceof _e?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new bd(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new bd(this,e,t,r)}}[Ur](){return this}static create(e,t,r){const i=new _e(e,t,r);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class bd extends _e{constructor(e,t,r,i){super(),this._parentSubscriber=e;let s,o=this;ln(t)?s=t:t&&(s=t.next,r=t.error,i=t.complete,t!==ur&&(o=Object.create(t),ln(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=r,this._complete=i}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;Ut.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:r}=Ut;if(this._error)r&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):Ji(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;Ji(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);Ut.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(r){if(this.unsubscribe(),Ut.useDeprecatedSynchronousErrorHandling)throw r;Ji(r)}}__tryOrSetError(e,t,r){if(!Ut.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,r)}catch(i){return Ut.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(Ji(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const ae="function"==typeof Symbol&&Symbol.observable||"@@observable";function ve(n){return n}let H=(()=>{class n{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const{operator:s}=this,o=function(n,e,t){if(n){if(n instanceof _e)return n;if(n[Ur])return n[Ur]()}return n||e||t?new _e(n,e,t):new _e(ur)}(t,r,i);if(o.add(s?s.call(o,this.source):this.source||Ut.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),Ut.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){Ut.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=r),function(n){for(;n;){const{closed:e,destination:t,isStopped:r}=n;if(e||r)return!1;n=t&&t instanceof _e?t:null}return!0}(t)?t.error(r):console.warn(r)}}forEach(t,r){return new(r=Zi(r))((i,s)=>{let o;o=this.subscribe(a=>{try{t(a)}catch(l){s(l),o&&o.unsubscribe()}},s,i)})}_subscribe(t){const{source:r}=this;return r&&r.subscribe(t)}[ae](){return this}pipe(...t){return 0===t.length?this:function(n){return 0===n.length?ve:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=Zi(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function Zi(n){if(n||(n=Ut.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const Ns=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class rD extends ue{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}class iD extends _e{constructor(e){super(e),this.destination=e}}let Ee=(()=>{class n extends H{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Ur](){return new iD(this)}lift(t){const r=new sD(this,this);return r.operator=t,r}next(t){if(this.closed)throw new Ns;if(!this.isStopped){const{observers:r}=this,i=r.length,s=r.slice();for(let o=0;o<i;o++)s[o].next(t)}}error(t){if(this.closed)throw new Ns;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:r}=this,i=r.length,s=r.slice();for(let o=0;o<i;o++)s[o].error(t);this.observers.length=0}complete(){if(this.closed)throw new Ns;this.isStopped=!0;const{observers:t}=this,r=t.length,i=t.slice();for(let s=0;s<r;s++)i[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new Ns;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new Ns;return this.hasError?(t.error(this.thrownError),ue.EMPTY):this.isStopped?(t.complete(),ue.EMPTY):(this.observers.push(t),new rD(this,t))}asObservable(){const t=new H;return t.source=this,t}}return n.create=(e,t)=>new sD(e,t),n})();class sD extends Ee{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):ue.EMPTY}}function Xo(n){return n&&"function"==typeof n.schedule}function se(n,e){return function(r){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new YB(n,e))}}class YB{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new QB(e,this.project,this.thisArg))}}class QB extends _e{constructor(e,t,r){super(e),this.project=t,this.count=0,this.thisArg=r||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const oD=n=>e=>{for(let t=0,r=n.length;t<r&&!e.closed;t++)e.next(n[t]);e.complete()},Ed="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",aD=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function lD(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const Fg=n=>{if(n&&"function"==typeof n[ae])return(n=>e=>{const t=n[ae]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)})(n);if(aD(n))return oD(n);if(lD(n))return(n=>e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ji),e))(n);if(n&&"function"==typeof n[Ed])return(n=>e=>{const t=n[Ed]();for(;;){let r;try{r=t.next()}catch(i){return e.error(i),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof t.return&&e.add(()=>{t.return&&t.return()}),e})(n);{const t=`You provided ${Xi(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}};function Lg(n,e){return new H(t=>{const r=new ue;let i=0;return r.add(e.schedule(function(){i!==n.length?(t.next(n[i++]),t.closed||r.add(this.schedule())):t.complete()})),r})}function Ct(n,e){return e?function(n,e){if(null!=n){if(function(n){return n&&"function"==typeof n[ae]}(n))return function(n,e){return new H(t=>{const r=new ue;return r.add(e.schedule(()=>{const i=n[ae]();r.add(i.subscribe({next(s){r.add(e.schedule(()=>t.next(s)))},error(s){r.add(e.schedule(()=>t.error(s)))},complete(){r.add(e.schedule(()=>t.complete()))}}))})),r})}(n,e);if(lD(n))return function(n,e){return new H(t=>{const r=new ue;return r.add(e.schedule(()=>n.then(i=>{r.add(e.schedule(()=>{t.next(i),r.add(e.schedule(()=>t.complete()))}))},i=>{r.add(e.schedule(()=>t.error(i)))}))),r})}(n,e);if(aD(n))return Lg(n,e);if(function(n){return n&&"function"==typeof n[Ed]}(n)||"string"==typeof n)return function(n,e){if(!n)throw new Error("Iterable cannot be null");return new H(t=>{const r=new ue;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=n[Ed](),r.add(e.schedule(function(){if(t.closed)return;let s,o;try{const a=i.next();s=a.value,o=a.done}catch(a){return void t.error(a)}o?t.complete():(t.next(s),this.schedule())}))})),r})}(n,e)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,e):n instanceof H?n:new H(Fg(n))}class Ql extends _e{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Jl extends _e{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function Xl(n,e){if(e.closed)return;if(n instanceof H)return n.subscribe(e);let t;try{t=Fg(n)(e)}catch(r){e.error(r)}return t}function Ot(n,e,t=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(Ot((i,s)=>Ct(n(i,s)).pipe(se((o,a)=>e(i,o,s,a))),t)):("number"==typeof e&&(t=e),r=>r.lift(new l2(n,t)))}class l2{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new c2(e,this.project,this.concurrent))}}class c2 extends Jl{constructor(e,t,r=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t)}_innerSub(e){const t=new Ql(this),r=this.destination;r.add(t);const i=Xl(e,t);i!==t&&r.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Zl(n=Number.POSITIVE_INFINITY){return Ot(ve,n)}function Vg(n,e){return e?Lg(n,e):new H(oD(n))}function cD(...n){let e=Number.POSITIVE_INFINITY,t=null,r=n[n.length-1];return Xo(r)?(t=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(e=n.pop())):"number"==typeof r&&(e=n.pop()),null===t&&1===n.length&&n[0]instanceof H?n[0]:Zl(e)(Vg(n,t))}function Bg(){return function(e){return e.lift(new u2(e))}}class u2{constructor(e){this.connectable=e}call(e,t){const{connectable:r}=this;r._refCount++;const i=new d2(e,r),s=t.subscribe(i);return i.closed||(i.connection=r.connect()),s}}class d2 extends _e{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:r}=this,i=e._connection;this.connection=null,i&&(!r||i===r)&&i.unsubscribe()}}class uD extends H{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new ue,e.add(this.source.subscribe(new f2(this.getSubject(),this))),e.closed&&(this._connection=null,e=ue.EMPTY)),e}refCount(){return Bg()(this)}}const h2=(()=>{const n=uD.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class f2 extends iD{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function m2(){return new Ee}function dD(){return n=>Bg()(function(n,e){return function(r){let i;i="function"==typeof n?n:function(){return n};const s=Object.create(r,h2);return s.source=r,s.subjectFactory=i,s}}(m2)(n))}function Me(n){for(let e in n)if(n[e]===Me)return e;throw Error("Could not find renamed property on target object.")}function Ug(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function oe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(oe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function jg(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const y2=Me({__forward_ref__:Me});function Cd(n){return n.__forward_ref__=Cd,n.toString=function(){return oe(this())},n}function F(n){return hD(n)?n():n}function hD(n){return"function"==typeof n&&n.hasOwnProperty(y2)&&n.__forward_ref__===Cd}class Fs extends Error{constructor(e,t){super(function(n,e){return`${n?`NG0${n}: `:""}${e}`}(e,t)),this.code=e}}function X(n){return"string"==typeof n?n:null==n?"":String(n)}function qt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():X(n)}function wd(n,e){const t=e?` in ${e}`:"";throw new Fs("201",`No provider for ${qt(n)} found${t}`)}function Cn(n,e){null==n&&function(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function M(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ce(n){return{providers:n.providers||[],imports:n.imports||[]}}function yi(n){return fD(n,Id)||fD(n,gD)}function fD(n,e){return n.hasOwnProperty(e)?n[e]:null}function pD(n){return n&&(n.hasOwnProperty($g)||n.hasOwnProperty(T2))?n[$g]:null}const Id=Me({\u0275prov:Me}),$g=Me({\u0275inj:Me}),gD=Me({ngInjectableDef:Me}),T2=Me({ngInjectorDef:Me});var B=(()=>((B=B||{})[B.Default=0]="Default",B[B.Host=1]="Host",B[B.Self=2]="Self",B[B.SkipSelf=4]="SkipSelf",B[B.Optional=8]="Optional",B))();let Wg;function es(n){const e=Wg;return Wg=n,e}function _D(n,e,t){const r=yi(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&B.Optional?null:void 0!==e?e:void wd(oe(n),"Injector")}function ts(n){return{toString:n}.toString()}var jn=(()=>((jn=jn||{})[jn.OnPush=0]="OnPush",jn[jn.Default=1]="Default",jn))(),at=(()=>((at=at||{})[at.Emulated=0]="Emulated",at[at.None=2]="None",at[at.ShadowDom=3]="ShadowDom",at))();const S2="undefined"!=typeof globalThis&&globalThis,A2="undefined"!=typeof window&&window,R2="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,xe=S2||"undefined"!=typeof global&&global||A2||R2,Zo={},Le=[],Td=Me({\u0275cmp:Me}),zg=Me({\u0275dir:Me}),Gg=Me({\u0275pipe:Me}),mD=Me({\u0275mod:Me}),M2=Me({\u0275loc:Me}),vi=Me({\u0275fac:Me}),ec=Me({__NG_ELEMENT_ID__:Me});let k2=0;function lt(n){return ts(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===jn.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Le,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||at.Emulated,id:"c",styles:n.styles||Le,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,o=n.pipes;return r.id+=k2++,r.inputs=ED(n.inputs,t),r.outputs=ED(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(yD):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(vD):null,r})}function yD(n){return Kt(n)||function(n){return n[zg]||null}(n)}function vD(n){return function(n){return n[Gg]||null}(n)}const bD={};function De(n){return ts(()=>{const e={type:n.type,bootstrap:n.bootstrap||Le,declarations:n.declarations||Le,imports:n.imports||Le,exports:n.exports||Le,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(bD[n.id]=n.type),e})}function ED(n,e){if(null==n)return Zo;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const ne=lt;function cn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Kt(n){return n[Td]||null}function Hn(n,e){const t=n[mD]||null;if(!t&&!0===e)throw new Error(`Type ${oe(n)} does not have '\u0275mod' property.`);return t}function jr(n){return Array.isArray(n)&&"object"==typeof n[1]}function hr(n){return Array.isArray(n)&&!0===n[1]}function Yg(n){return 0!=(8&n.flags)}function Rd(n){return 2==(2&n.flags)}function Md(n){return 1==(1&n.flags)}function fr(n){return null!==n.template}function V2(n){return 0!=(512&n[2])}function js(n,e){return n.hasOwnProperty(vi)?n[vi]:null}class wD{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function pr(){return ID}function ID(n){return n.type.prototype.ngOnChanges&&(n.setInput=H2),j2}function j2(){const n=DD(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===Zo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function H2(n,e,t,r){const i=DD(n)||function(n,e){return n[TD]=e}(n,{previous:Zo,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],l=o[a];s[a]=new wD(l&&l.currentValue,e,o===Zo),n[r]=e}pr.ngInherit=!0;const TD="__ngSimpleChanges__";function DD(n){return n[TD]||null}let Xg;function Ze(n){return!!n.listen}const RD={createRenderer:(n,e)=>void 0!==Xg?Xg:"undefined"!=typeof document?document:void 0};function ct(n){for(;Array.isArray(n);)n=n[0];return n}function kd(n,e){return ct(e[n])}function zn(n,e){return ct(e[n.index])}function e_(n,e){return n.data[e]}function ia(n,e){return n[e]}function In(n,e){const t=e[n];return jr(t)?t:t[0]}function MD(n){return 4==(4&n[2])}function t_(n){return 128==(128&n[2])}function rs(n,e){return null==e?null:n[e]}function kD(n){n[18]=0}function n_(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const G={lFrame:BD(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function xD(){return G.bindingsEnabled}function C(){return G.lFrame.lView}function we(){return G.lFrame.tView}function dn(n){return G.lFrame.contextLView=n,n[8]}function _t(){let n=PD();for(;null!==n&&64===n.type;)n=n.parent;return n}function PD(){return G.lFrame.currentTNode}function Hr(n,e){const t=G.lFrame;t.currentTNode=n,t.isParent=e}function r_(){return G.lFrame.isParent}function i_(){G.lFrame.isParent=!1}function xd(){return G.isInCheckNoChangesMode}function Pd(n){G.isInCheckNoChangesMode=n}function Yt(){const n=G.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function sa(){return G.lFrame.bindingIndex++}function rU(n,e){const t=G.lFrame;t.bindingIndex=t.bindingRootIndex=n,s_(e)}function s_(n){G.lFrame.currentDirectiveIndex=n}function o_(n){const e=G.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function FD(){return G.lFrame.currentQueryIndex}function a_(n){G.lFrame.currentQueryIndex=n}function sU(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function LD(n,e,t){if(t&B.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&B.Host||(i=sU(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=G.lFrame=VD();return r.currentTNode=e,r.lView=n,!0}function Od(n){const e=VD(),t=n[1];G.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function VD(){const n=G.lFrame,e=null===n?null:n.child;return null===e?BD(n):e}function BD(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function UD(){const n=G.lFrame;return G.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const jD=UD;function Nd(){const n=UD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Qt(){return G.lFrame.selectedIndex}function is(n){G.lFrame.selectedIndex=n}function et(){const n=G.lFrame;return e_(n.tView,n.selectedIndex)}function Fd(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function Ld(n,e,t){HD(n,e,3,t)}function Vd(n,e,t,r){(3&n[2])===t&&HD(n,e,t,r)}function l_(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function HD(n,e,t,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[18]+=65536),(a<s||-1==s)&&(pU(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function pU(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class sc{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Bd(n,e,t){const r=Ze(n);let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const o=t[i++],a=t[i++],l=t[i++];r?n.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=t[++i];u_(o)?r&&n.setProperty(e,o,a):r?n.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function $D(n){return 3===n||4===n||6===n}function u_(n){return 64===n.charCodeAt(0)}function Ud(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||WD(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function WD(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function zD(n){return-1!==n}function oa(n){return 32767&n}function aa(n,e){let t=function(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let d_=!0;function jd(n){const e=d_;return d_=n,e}let bU=0;function ac(n,e){const t=f_(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,h_(r.data,n),h_(e,null),h_(r.blueprint,null));const i=Hd(n,e),s=n.injectorIndex;if(zD(i)){const o=oa(i),a=aa(i,e),l=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function h_(n,e){n.push(0,0,0,0,0,0,0,0,e)}function f_(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Hd(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function $d(n,e,t){!function(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(ec)&&(r=t[ec]),null==r&&(r=t[ec]=bU++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function KD(n,e,t){if(t&B.Optional)return n;wd(e,"NodeInjector")}function YD(n,e,t,r){if(t&B.Optional&&void 0===r&&(r=null),0==(t&(B.Self|B.Host))){const i=n[9],s=es(void 0);try{return i?i.get(e,r,t&B.Optional):_D(e,r,t&B.Optional)}finally{es(s)}}return KD(r,e,t)}function QD(n,e,t,r=B.Default,i){if(null!==n){const s=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(ec)?n[ec]:void 0;return"number"==typeof e?e>=0?255&e:wU:e}(t);if("function"==typeof s){if(!LD(e,n,r))return r&B.Host?KD(i,t,r):YD(e,t,r,i);try{const o=s(r);if(null!=o||r&B.Optional)return o;wd(t)}finally{jD()}}else if("number"==typeof s){let o=null,a=f_(n,e),l=-1,c=r&B.Host?e[16][6]:null;for((-1===a||r&B.SkipSelf)&&(l=-1===a?Hd(n,e):e[a+8],-1!==l&&ZD(r,!1)?(o=e[1],a=oa(l),e=aa(l,e)):a=-1);-1!==a;){const u=e[1];if(XD(s,a,u.data)){const d=IU(a,e,t,o,r,c);if(d!==JD)return d}l=e[a+8],-1!==l&&ZD(r,e[1].data[a+8]===c)&&XD(s,a,e)?(o=u,a=oa(l),e=aa(l,e)):a=-1}}}return YD(e,t,r,i)}const JD={};function wU(){return new la(_t(),C())}function IU(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],u=Wd(a,o,t,null==r?Rd(a)&&d_:r!=o&&0!=(3&a.type),i&B.Host&&s===a);return null!==u?lc(e,o,u,a):JD}function Wd(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(i){const f=o[l];if(f&&fr(f)&&f.type===t)return l}return null}function lc(n,e,t,r){let i=n[t];const s=e.data;if(function(n){return n instanceof sc}(i)){const o=i;o.resolving&&function(n,e){throw new Fs("200",`Circular dependency in DI detected for ${n}`)}(qt(s[t]));const a=jd(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?es(o.injectImpl):null;LD(n,r,B.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=ID(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&es(l),jd(a),o.resolving=!1,jD()}}return i}function XD(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function ZD(n,e){return!(n&B.Self||n&B.Host&&e)}class la{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return QD(this._tNode,this._lView,e,void 0,t)}}function p_(n){return hD(n)?()=>{const e=p_(F(n));return e&&e()}:js(n)}function ca(n){return function(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if($D(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(_t(),n)}const da="__parameters__";function Hs(n,e,t){return ts(()=>{const r=function(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(da)?l[da]:Object.defineProperty(l,da,{value:[]})[da];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class O{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=M({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const AU=new O("AnalyzeForEntryComponents"),fa=Function;function Gn(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),Gn(r,e)):e!==n&&e.push(r)}return e}function Wr(n,e){n.forEach(t=>Array.isArray(t)?Wr(t,e):e(t))}function Gd(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function $s(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function os(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function Tn(n,e,t){let r=pa(n,e);return r>=0?n[1|r]=t:(r=~r,function(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function __(n,e){const t=pa(n,e);if(t>=0)return n[1|t]}function pa(n,e){return function(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const fc={},y_="__NG_DI_FLAG__",ga="ngTempTokenPath",VU=/\n/gm,v_="__source",b_=Me({provide:String,useValue:Me});let pc;function _a(n){const e=pc;return pc=n,e}function UU(n,e=B.Default){if(void 0===pc)throw new Error("inject() must be called from an injection context");return null===pc?_D(n,void 0,e):pc.get(n,e&B.Optional?null:void 0,e)}function m(n,e=B.Default){return(Wg||UU)(F(n),e)}const E_=m;function Ws(n){const e=[];for(let t=0;t<n.length;t++){const r=F(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,s=B.Default;for(let o=0;o<r.length;o++){const a=r[o],l=jU(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(m(i,s))}else e.push(m(r))}return e}function gc(n,e){return n[y_]=e,n.prototype[y_]=e,n}function jU(n){return n[y_]}function sS(n,e,t,r){const i=n[ga];throw e[v_]&&i.unshift(e[v_]),n.message=function(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=oe(e);if(Array.isArray(e))i=e.map(oe).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):oe(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(VU,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[ga]=null,n}const ma=gc(Hs("Inject",n=>({token:n})),-1),Be=gc(Hs("Optional"),8),Ei=gc(Hs("SkipSelf"),4);let Qd;function va(n){var e;return(null===(e=function(){if(void 0===Qd&&(Qd=null,xe.trustedTypes))try{Qd=xe.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Qd}())||void 0===e?void 0:e.createHTML(n))||n}class zs{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class XU extends zs{getTypeName(){return"HTML"}}class ZU extends zs{getTypeName(){return"Style"}}class ej extends zs{getTypeName(){return"Script"}}class tj extends zs{getTypeName(){return"URL"}}class nj extends zs{getTypeName(){return"ResourceURL"}}function Dn(n){return n instanceof zs?n.changingThisBreaksApplicationSecurity:n}function zr(n,e){const t=fS(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}function fS(n){return n instanceof zs&&n.getTypeName()||null}class lj{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(va(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class cj{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=va(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=va(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const o=t.item(i).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const dj=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,hj=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function mc(n){return(n=String(n)).match(dj)||n.match(hj)?n:"unsafe:"+n}function gS(n){return(n=String(n)).split(",").map(e=>mc(e.trim())).join(", ")}function Gr(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function yc(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const _S=Gr("area,br,col,hr,img,wbr"),mS=Gr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yS=Gr("rp,rt"),T_=yc(_S,yc(mS,Gr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),yc(yS,Gr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),yc(yS,mS)),D_=Gr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),S_=Gr("srcset"),vS=yc(D_,S_,Gr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),fj=Gr("script,style,template");class pj{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!T_.hasOwnProperty(t))return this.sanitizedSomething=!0,!fj.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!vS.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;D_[a]&&(l=mc(l)),S_[a]&&(l=gS(l)),this.buf.push(" ",o,'="',bS(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();T_.hasOwnProperty(t)&&!_S.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(bS(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const gj=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_j=/([^\#-~ |!])/g;function bS(n){return n.replace(/&/g,"&amp;").replace(gj,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(_j,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xd;function ES(n,e){let t=null;try{Xd=Xd||function(n){const e=new cj(n);return function(){try{return!!(new window.DOMParser).parseFromString(va(""),"text/html")}catch(n){return!1}}()?new lj(e):e}(n);let r=e?String(e):"";t=Xd.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=Xd.getInertBodyElement(r)}while(r!==s);return va((new pj).sanitizeChildren(A_(t)||t))}finally{if(t){const r=A_(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function A_(n){return"content"in n&&function(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Se=(()=>((Se=Se||{})[Se.NONE=0]="NONE",Se[Se.HTML=1]="HTML",Se[Se.STYLE=2]="STYLE",Se[Se.SCRIPT=3]="SCRIPT",Se[Se.URL=4]="URL",Se[Se.RESOURCE_URL=5]="RESOURCE_URL",Se))();const IS="__ngContext__";function Ht(n,e){n[IS]=e}function k_(n){const e=function(n){return n[IS]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function Zd(n){return n.ngOriginalError}function Oj(n,...e){n.error(...e)}class gr{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=this._findContext(e),i=function(n){return n&&n.ngErrorLogger||Oj}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),r&&i(this._console,"ERROR CONTEXT",r)}_findContext(e){return e?function(n){return n.ngDebugContext}(e)||this._findContext(Zd(e)):null}_findOriginalError(e){let t=e&&Zd(e);for(;t&&Zd(t);)t=Zd(t);return t||null}}const PS=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(xe))();function qr(n){return n instanceof Function?n():n}var Sn=(()=>((Sn=Sn||{})[Sn.Important=1]="Important",Sn[Sn.DashCase=2]="DashCase",Sn))();function O_(n,e){return undefined(n,e)}function Ec(n){const e=n[3];return hr(e)?e[3]:e}function N_(n){return VS(n[13])}function F_(n){return VS(n[4])}function VS(n){for(;null!==n&&!hr(n);)n=n[4];return n}function Ea(n,e,t,r,i){if(null!=r){let s,o=!1;hr(r)?s=r:jr(r)&&(o=!0,r=r[0]);const a=ct(r);0===n&&null!==t?null==i?WS(e,t,a):Gs(e,t,a,i||null,!0):1===n&&null!==t?Gs(e,t,a,i||null,!0):2===n?function(n,e,t){const r=th(n,e);r&&function(n,e,t,r){Ze(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function(n,e,t,r,i){const s=t[7];s!==ct(t)&&Ea(e,n,r,s,i);for(let a=10;a<t.length;a++){const l=t[a];Cc(l[1],l,n,e,r,s)}}(e,n,s,t,i)}}function V_(n,e,t){return Ze(n)?n.createElement(e,t):null===t?n.createElement(e):n.createElementNS(t,e)}function US(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,n_(i,-1)),t.splice(r,1)}function B_(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&US(i,r),e>0&&(n[t-1][4]=r[4]);const s=$s(n,10+e);!function(n,e){Cc(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function jS(n,e){if(!(256&e[2])){const t=e[11];Ze(t)&&t.destroyNode&&Cc(n,e,t,3,null,null),function(n){let e=n[13];if(!e)return U_(n[1],n);for(;e;){let t=null;if(jr(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)jr(e)&&U_(e[1],e),e=e[3];null===e&&(e=n),jr(e)&&U_(e[1],e),t=e&&e[4]}e=t}}(e)}}function U_(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof sc)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):ct(e[o]),l=r[i=t[s+2]],c=t[s+3];"boolean"==typeof c?a.removeEventListener(t[s],l,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(n,e),1===e[1].type&&Ze(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&hr(e[3])){t!==e[3]&&US(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function HS(n,e,t){return function(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===at.None||i===at.Emulated)return null}return zn(r,t)}(n,e.parent,t)}function Gs(n,e,t,r,i){Ze(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function WS(n,e,t){Ze(n)?n.appendChild(e,t):e.appendChild(t)}function zS(n,e,t,r,i){null!==r?Gs(n,e,t,r,i):WS(n,e,t)}function th(n,e){return Ze(n)?n.parentNode(e):e.parentNode}function GS(n,e,t){return KS(n,e,t)}let KS=function(n,e,t){return 40&n.type?zn(n,t):null};function nh(n,e,t,r){const i=HS(n,r,e),s=e[11],a=GS(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)zS(s,i,t[l],a,!1);else zS(s,i,t,a,!1)}function rh(n,e){if(null!==e){const t=e.type;if(3&t)return zn(e,n);if(4&t)return H_(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return rh(n,r);{const i=n[e.index];return hr(i)?H_(-1,i):ct(i)}}if(32&t)return O_(e,n)()||ct(n[e.index]);{const r=QS(n,e);return null!==r?Array.isArray(r)?r[0]:rh(Ec(n[16]),r):rh(n,e.next)}}return null}function QS(n,e){return null!==e?n[16][6].projection[e.projection]:null}function H_(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return rh(r,i)}return e[7]}function $_(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&Ht(ct(a),r),t.flags|=4),64!=(64&t.flags))if(8&l)$_(n,e,t.child,r,i,s,!1),Ea(e,n,i,a,s);else if(32&l){const c=O_(t,r);let u;for(;u=c();)Ea(e,n,i,u,s);Ea(e,n,i,a,s)}else 16&l?XS(n,e,r,t,i,s):Ea(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Cc(n,e,t,r,i,s){$_(t,r,n.firstChild,e,i,s,!1)}function XS(n,e,t,r,i,s){const o=t[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Ea(e,n,i,l[c],s);else $_(n,e,l,o[3],i,s,!0)}function ZS(n,e,t){Ze(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function W_(n,e,t){Ze(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function eA(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const tA="ng-template";function oH(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==eA(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function nA(n){return 4===n.type&&n.value!==tA}function aH(n,e,t){return e===(4!==n.type||t?n.value:tA)}function lH(n,e,t){let r=4;const i=n.attrs||[],s=function(n){for(let e=0;e<n.length;e++)if($D(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!aH(n,l,t)||""===l&&1===e.length){if(_r(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!oH(n.attrs,c,t)){if(_r(r))return!1;o=!0}continue}const d=cH(8&r?"class":l,i,nA(n),t);if(-1===d){if(_r(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==eA(f,c,0)||2&r&&c!==h){if(_r(r))return!1;o=!0}}}}else{if(!o&&!_r(r)&&!_r(l))return!1;if(o&&_r(l))continue;o=!1,r=l|1&r}}return _r(r)||o}function _r(n){return 0==(1&n)}function cH(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function rA(n,e,t=!1){for(let r=0;r<e.length;r++)if(lH(n,e[r],t))return!0;return!1}function fH(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function iA(n,e){return n?":not("+e.trim()+")":e}function pH(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!_r(o)&&(e+=iA(s,i),i=""),r=o,s=s||!_r(r);t++}return""!==i&&(e+=iA(s,i)),e}const Y={};function $(n){sA(we(),C(),Qt()+n,xd())}function sA(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&Ld(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Vd(e,s,0,t)}is(t)}function ih(n,e){return n<<17|e<<2}function mr(n){return n>>17&32767}function z_(n){return 2|n}function Ci(n){return(131068&n)>>2}function G_(n,e){return-131069&n|e<<2}function q_(n){return 1|n}function gA(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];a_(i),o.contentQueries(2,e[s],s)}}}function wc(n,e,t,r,i,s,o,a,l,c){const u=e.blueprint.slice();return u[0]=i,u[2]=140|r,kD(u),u[3]=u[15]=n,u[8]=t,u[10]=o||n&&n[10],u[11]=a||n&&n[11],u[12]=l||n&&n[12]||null,u[9]=c||n&&n[9]||null,u[6]=s,u[16]=2==e.type?n[16]:u,u}function Ca(n,e,t,r,i){let s=n.data[e];if(null===s)s=function(n,e,t,r,i){const s=PD(),o=r_(),l=n.data[e]=function(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(n,e,t,r,i),G.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function(){const n=G.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Hr(s,!0),s}function wa(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Ic(n,e,t){Od(e);try{const r=n.viewQuery;null!==r&&cm(1,r,t);const i=n.template;null!==i&&_A(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&gA(n,e),n.staticViewQueries&&cm(2,n.viewQuery,t);const s=n.components;null!==s&&function(n,e){for(let t=0;t<e.length;t++)qH(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Nd()}}function Ia(n,e,t,r){const i=e[2];if(256==(256&i))return;Od(e);const s=xd();try{kD(e),function(n){G.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&_A(n,e,t,2,r);const o=3==(3&i);if(!s)if(o){const c=n.preOrderCheckHooks;null!==c&&Ld(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Vd(e,c,0,null),l_(e,0)}if(function(n){for(let e=N_(n);null!==e;e=F_(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(1024&i[2])&&n_(s,1),i[2]|=1024}}}(e),function(n){for(let e=N_(n);null!==e;e=F_(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];t_(r)&&Ia(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&gA(n,e),!s)if(o){const c=n.contentCheckHooks;null!==c&&Ld(e,c)}else{const c=n.contentHooks;null!==c&&Vd(e,c,1),l_(e,1)}!function(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)is(~i);else{const s=i,o=t[++r],a=t[++r];rU(o,s),a(2,e[s])}}}finally{is(-1)}}(n,e);const a=n.components;null!==a&&function(n,e){for(let t=0;t<e.length;t++)GH(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&cm(2,l,r),!s)if(o){const c=n.viewCheckHooks;null!==c&&Ld(e,c)}else{const c=n.viewHooks;null!==c&&Vd(e,c,2),l_(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,n_(e[3],-1))}finally{Nd()}}function SH(n,e,t,r){const i=e[10],s=!xd(),o=MD(e);try{s&&!o&&i.begin&&i.begin(),o&&Ic(n,e,r),Ia(n,e,t,r)}finally{s&&!o&&i.end&&i.end()}}function _A(n,e,t,r,i){const s=Qt(),o=2&r;try{is(-1),o&&e.length>20&&sA(n,e,20,xd()),t(r,i)}finally{is(s)}}function mA(n,e,t){if(Yg(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function tm(n,e,t){!xD()||(function(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||ac(t,e),Ht(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=fr(l);c&&jH(e,t,l);const u=lc(e,n,a,t);Ht(u,e),null!==o&&HH(0,a-i,u,l,0,o),c&&(In(t.index,e)[8]=u)}}(n,e,t,zn(t,e)),128==(128&t.flags)&&function(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,a=G.lFrame.currentDirectiveIndex;try{is(o);for(let l=r;l<i;l++){const c=n.data[l],u=e[l];s_(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&TA(c,u)}}finally{is(-1),s_(a)}}(n,e,t))}function nm(n,e,t=zn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function yA(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=ah(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function ah(n,e,t,r,i,s,o,a,l,c){const u=20+r,d=u+i,h=function(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Y);return t}(u,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function EA(n,e,t,r){const i=kA(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&xA(n).push(r,i.length-1))}function CA(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function An(n,e,t,r,i,s,o,a){const l=zn(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(NA(n,t,u,r,i),Rd(e)&&function(n,e){const t=In(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,Ze(s)?s.setProperty(l,r,i):u_(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function rm(n,e,t,r){let i=!1;if(xD()){const s=function(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];rA(t,o.selectors,!1)&&(i||(i=[]),$d(ac(t,e),n,o.type),fr(o)?(DA(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,SA(t,n.data.length,s.length);for(let u=0;u<s.length;u++){const d=s[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=wa(n,e,s.length,null);for(let u=0;u<s.length;u++){const d=s[u];t.mergedAttrs=Ud(t.mergedAttrs,d.hostAttrs),AA(n,t,e,c,d),UH(c,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),c++}!function(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,l=null;for(let c=e.directiveStart;c<r;c++){const u=i[c],d=u.inputs,h=null===s||nA(e)?null:$H(d,s);o.push(h),a=CA(d,c,a),l=CA(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}(n,t)}o&&function(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new Fs("301",`Export of name '${e[i+1]}' not found!`);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=Ud(t.mergedAttrs,t.attrs),i}function IA(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(r,i,o)}}function TA(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function DA(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function UH(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;fr(e)&&(t[""]=n)}}function SA(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function AA(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=js(i.type)),o=new sc(s,fr(i),null);n.blueprint[r]=o,t[r]=o,IA(n,e,0,r,wa(n,t,i.hostVars,Y),i)}function jH(n,e,t){const r=zn(e,n),i=yA(t),s=n[10],o=lh(n,wc(n,i,null,t.onPush?64:16,r,e,s,s.createRenderer(r,t),null,null));n[e.index]=o}function Kr(n,e,t,r,i,s){const o=zn(n,e);!function(n,e,t,r,i,s,o){if(null==s)Ze(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const a=null==o?X(s):o(s,r||"",i);Ze(n)?n.setAttribute(e,i,a,t):t?e.setAttributeNS(t,i,a):e.setAttribute(i,a)}}(e[11],o,s,n.value,t,r,i)}function HH(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?r.setInput(t,d,c,u):t[u]=d}}}function $H(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function RA(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function GH(n,e){const t=In(e,n);if(t_(t)){const r=t[1];80&t[2]?Ia(r,t,r.template,t[8]):t[5]>0&&sm(t)}}function sm(n){for(let r=N_(n);null!==r;r=F_(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];Ia(o,s,o.template,s[8])}else s[5]>0&&sm(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=In(t[r],n);t_(i)&&i[5]>0&&sm(i)}}function qH(n,e){const t=In(e,n),r=t[1];(function(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),Ic(r,t,t[8])}function lh(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function om(n){for(;n;){n[2]|=64;const e=Ec(n);if(V2(n)&&!e)return n;n=e}return null}function lm(n,e,t){const r=e[10];r.begin&&r.begin();try{Ia(n,e,n.template,t)}catch(i){throw OA(e,i),i}finally{r.end&&r.end()}}function MA(n){!function(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=k_(t),i=r[1];SH(i,r,i.template,t)}}(n[8])}function cm(n,e,t){a_(0),e(n,t)}const XH=(()=>Promise.resolve(null))();function kA(n){return n[7]||(n[7]=[])}function xA(n){return n.cleanup||(n.cleanup=[])}function PA(n,e,t){return(null===n||fr(n))&&(t=function(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(t[e.index])),t[11]}function OA(n,e){const t=n[9],r=t?t.get(gr,null):null;r&&r.handleError(e)}function NA(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function Ii(n,e,t){const r=kd(e,n);!function(n,e,t){Ze(n)?n.setValue(e,t):e.textContent=t}(n[11],r,t)}function ch(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=jg(i,a):2==s&&(r=jg(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const Ta=new O("INJECTOR",-1);class FA{get(e,t=fc){if(t===fc){const r=new Error(`NullInjectorError: No provider for ${oe(e)}!`);throw r.name="NullInjectorError",r}return t}}const Tc=new O("Set Injector scope."),Dc={},t$={};let um;function LA(){return void 0===um&&(um=new FA),um}function VA(n,e=null,t=null,r){return new r$(n,t,e||LA(),r)}class r${constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&Wr(t,a=>this.processProvider(a,e,t)),Wr([e],a=>this.processInjectorType(a,[],s)),this.records.set(Ta,Da(void 0,this));const o=this.records.get(Tc);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:oe(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=fc,r=B.Default){this.assertNotDestroyed();const i=_a(this),s=es(void 0);try{if(!(r&B.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof O}(e)&&yi(e);a=l&&this.injectableDefInScope(l)?Da(dm(e),Dc):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&B.Self?LA():this.parent).get(e,t=r&B.Optional&&t===fc?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[ga]=o[ga]||[]).unshift(oe(e)),i)throw o;return sS(o,e,"R3InjectorError",this.source)}throw o}finally{es(s),_a(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(oe(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,r){if(!(e=F(e)))return!1;let i=pD(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=pD(s)),null==i)return!1;if(null!=i.imports&&!a){let u;r.push(o);try{Wr(i.imports,d=>{this.processInjectorType(d,t,r)&&(void 0===u&&(u=[]),u.push(d))})}finally{}if(void 0!==u)for(let d=0;d<u.length;d++){const{ngModule:h,providers:f}=u[d];Wr(f,p=>this.processProvider(p,h,f||Le))}}this.injectorDefTypes.add(o);const l=js(o)||(()=>new o);this.records.set(o,Da(l,Dc));const c=i.providers;if(null!=c&&!a){const u=e;Wr(c,d=>this.processProvider(d,u,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,r){let i=Sa(e=F(e))?e:F(e&&e.provide);const s=function(n,e,t){return UA(n)?Da(void 0,n.useValue):Da(function(n,e,t){let r;if(Sa(n)){const i=F(n);return js(i)||dm(i)}if(UA(n))r=()=>F(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Ws(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))r=()=>m(F(n.useExisting));else{const i=F(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return js(i)||dm(i);r=()=>new i(...Ws(n.deps))}return r}(n),Dc)}(e);if(Sa(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=Da(void 0,Dc,!0),o.factory=()=>Ws(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,t){return t.value===Dc&&(t.value=t$,t.value=t.factory()),"object"==typeof t.value&&t.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=F(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function dm(n){const e=yi(n),t=null!==e?e.factory:js(n);if(null!==t)return t;if(n instanceof O)throw new Error(`Token ${oe(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const e=n.length;if(e>0){const r=os(e,"?");throw new Error(`Can't resolve all parameters for ${oe(n)}: (${r.join(", ")}).`)}const t=function(n){const e=n&&(n[Id]||n[gD]);if(e){const t=function(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Error("unreachable")}function Da(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function UA(n){return null!==n&&"object"==typeof n&&b_ in n}function Sa(n){return"function"==typeof n}const jA=function(n,e,t){return function(n,e=null,t=null,r){const i=VA(n,e,t,r);return i._resolveInjectorDefTypes(),i}({name:t},e,n,t)};let me=(()=>{class n{static create(t,r){return Array.isArray(t)?jA(t,r,""):jA(t.providers,t.parent,t.name||"")}}return n.THROW_IF_NOT_FOUND=fc,n.NULL=new FA,n.\u0275prov=M({token:n,providedIn:"any",factory:()=>m(Ta)}),n.__NG_ELEMENT_ID__=-1,n})();function I$(n,e){Fd(k_(n)[1],_t())}function Rn(n){let e=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(fr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=mm(n.inputs),o.declaredInputs=mm(n.declaredInputs),o.outputs=mm(n.outputs);const a=i.hostBindings;a&&A$(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&D$(n,l),c&&S$(n,c),Ug(n.inputs,i.inputs),Ug(n.declaredInputs,i.declaredInputs),Ug(n.outputs,i.outputs),fr(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Rn&&(t=!1)}}e=Object.getPrototypeOf(e)}!function(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ud(i.hostAttrs,t=Ud(t,i.hostAttrs))}}(r)}function mm(n){return n===Zo?{}:n===Le?[]:n}function D$(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function S$(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function A$(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let uh=null;function Aa(){if(!uh){const n=xe.Symbol;if(n&&n.iterator)uh=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(uh=r)}}}return uh}class vr{constructor(e){this.wrapped=e}static wrap(e){return new vr(e)}static unwrap(e){return vr.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof vr}}function Ac(n){return!!ym(n)&&(Array.isArray(n)||!(n instanceof Map)&&Aa()in n)}function ym(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Yr(n,e,t){return n[e]=t}function $t(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Di(n,e,t,r){const i=C();return $t(i,sa(),e)&&(we(),Kr(et(),i,n,e,t,r)),Di}function Ye(n,e,t,r,i,s,o,a){const l=C(),c=we(),u=n+20,d=c.firstCreatePass?function(n,e,t,r,i,s,o,a,l){const c=e.consts,u=Ca(e,n,4,o||null,rs(c,a));rm(e,t,u,rs(c,l)),Fd(e,u);const d=u.tViews=ah(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,s,o):c.data[u];Hr(d,!1);const h=l[11].createComment("");nh(c,l,h,d),Ht(h,l),lh(l,l[u]=RA(h,l,h,d)),Md(d)&&tm(c,l,d),null!=o&&nm(l,d,a)}function Mc(n){return ia(G.lFrame.contextLView,20+n)}function b(n,e=B.Default){const t=C();return null===t?m(n,e):QD(_t(),t,F(n),e)}function he(n,e,t){const r=C();return $t(r,sa(),e)&&An(we(),et(),r,n,e,r[11],t,!1),he}function wm(n,e,t,r,i){const o=i?"class":"style";NA(n,t,e.inputs[o],o,r)}function T(n,e,t,r){const i=C(),s=we(),o=20+n,a=i[11],l=i[o]=V_(a,e,G.lFrame.currentNamespace),c=s.firstCreatePass?function(n,e,t,r,i,s,o){const a=e.consts,c=Ca(e,n,2,i,rs(a,s));return rm(e,t,c,rs(a,o)),null!==c.attrs&&ch(c,c.attrs,!1),null!==c.mergedAttrs&&ch(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,t,r):s.data[o];Hr(c,!0);const u=c.mergedAttrs;null!==u&&Bd(a,l,u);const d=c.classes;null!==d&&W_(a,l,d);const h=c.styles;null!==h&&ZS(a,l,h),64!=(64&c.flags)&&nh(s,i,l,c),0===G.lFrame.elementDepthCount&&Ht(l,i),G.lFrame.elementDepthCount++,Md(c)&&(tm(s,i,c),mA(s,c,i)),null!==r&&nm(i,c)}function D(){let n=_t();r_()?i_():(n=n.parent,Hr(n,!1));const e=n;G.lFrame.elementDepthCount--;const t=we();t.firstCreatePass&&(Fd(t,n),Yg(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(e)&&wm(t,e,C(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(e)&&wm(t,e,C(),e.stylesWithoutHost,!1)}function Yn(n,e,t,r){T(n,e,t,r),D()}function A0(n,e,t){(function(n,e,t){const r=C(),i=we(),s=n+20,o=i.firstCreatePass?function(n,e,t,r,i){const s=e.consts,o=rs(s,r),a=Ca(e,n,8,"ng-container",o);return null!==o&&ch(a,o,!0),rm(e,t,a,rs(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];Hr(o,!0);const a=r[s]=r[11].createComment("");nh(i,r,a,o),Ht(a,r),Md(o)&&(tm(i,r,o),mA(i,o,r)),null!=t&&nm(r,o)})(n,e,t),function(){let n=_t();const e=we();r_()?i_():(n=n.parent,Hr(n,!1)),e.firstCreatePass&&(Fd(e,n),Yg(n)&&e.queries.elementEnd(n))}()}function br(){return C()}function fh(n){return!!n&&"function"==typeof n.then}function R0(n){return!!n&&"function"==typeof n.subscribe}const Im=R0;function Ge(n,e,t,r){const i=C(),s=we(),o=_t();return M0(s,i,i[11],o,n,e,!!t,r),Ge}function Tm(n,e){const t=_t(),r=C(),i=we();return M0(i,r,PA(o_(i.data),t,r),t,n,e,!1),Tm}function M0(n,e,t,r,i,s,o,a){const l=Md(r),u=n.firstCreatePass&&xA(n),d=e[8],h=kA(e);let f=!0;if(3&r.type||a){const g=zn(r,e),v=a?a(g):g,y=h.length,w=a?S=>a(ct(S[r.index])):r.index;if(Ze(t)){let S=null;if(!a&&l&&(S=function(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==S)(S.__ngLastListenerFn__||S).__ngNextListenerFn__=s,S.__ngLastListenerFn__=s,f=!1;else{s=Dm(r,e,d,s,!1);const W=t.listen(v,i,s);h.push(s,W),u&&u.push(i,w,y,y+1)}}else s=Dm(r,e,d,s,!0),v.addEventListener(i,s,o),h.push(s),u&&u.push(i,w,y,o)}else s=Dm(r,e,d,s,!1);const p=r.outputs;let _;if(f&&null!==p&&(_=p[i])){const g=_.length;if(g)for(let v=0;v<g;v+=2){const Ie=e[_[v]][_[v+1]].subscribe(s),ke=h.length;h.push(s,Ie),u&&u.push(i,r.index,ke,-(ke+1))}}}function k0(n,e,t,r){try{return!1!==t(r)}catch(i){return OA(n,i),!1}}function Dm(n,e,t,r,i){return function s(o){if(o===Function)return r;const a=2&n.flags?In(n.index,e):e;0==(32&e[2])&&om(a);let l=k0(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)l=k0(e,0,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function st(n=1){return function(n){return(G.lFrame.contextLView=function(n,e){for(;n>0;)e=e[15],n--;return e}(n,G.lFrame.contextLView))[8]}(n)}function lW(n,e){let t=null;const r=function(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?rA(n,s,!0):fH(r,s))return i}else t=i}return t}function Si(n){const e=C()[16][6];if(!e.projection){const r=e.projection=os(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?lW(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function Er(n,e=0,t){const r=C(),i=we(),s=Ca(i,20+n,16,null,t||null);null===s.projection&&(s.projection=e),i_(),64!=(64&s.flags)&&function(n,e,t){XS(e[11],0,e,t,HS(n,t,e),GS(t.parent||e[6],t,e))}(i,r,s)}function j0(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?mr(s):Ci(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];dW(n[a],e)&&(l=!0,n[a+1]=r?q_(u):z_(u)),a=r?mr(u):Ci(u)}l&&(n[t+1]=r?z_(s):q_(s))}function dW(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&pa(n,e)>=0}function Xt(n,e){return function(n,e,t,r){const i=C(),s=we(),o=function(n){const e=G.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Qt()],o=function(n,e){return e>=n.expandoStartIndex}(n,t);(function(n,e){return 0!=(n.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function(n,e,t,r){const i=o_(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=kc(t=Rm(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=Rm(i,n,e,t,r),null===s){let l=function(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Ci(r))return n[mr(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=Rm(null,n,e,l[1],r),l=kc(l,e.attrs,r),function(n,e,t,r){n[mr(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=kc(r,n[s].hostAttrs,t);return kc(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=mr(o),l=Ci(o);n[r]=t;let u,c=!1;if(Array.isArray(t)){const d=t;u=d[1],(null===u||pa(d,u)>0)&&(c=!0)}else u=t;if(i)if(0!==l){const h=mr(n[a+1]);n[r+1]=ih(h,a),0!==h&&(n[h+1]=G_(n[h+1],r)),n[a+1]=function(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=ih(a,0),0!==a&&(n[a+1]=G_(n[a+1],r)),a=r;else n[r+1]=ih(l,0),0===a?a=r:n[l+1]=G_(n[l+1],r),l=r;c&&(n[r+1]=z_(n[r+1])),j0(n,u,r,!0),j0(n,u,r,!1),function(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&pa(s,e)>=0&&(t[r+1]=q_(t[r+1]))}(e,u,n,r,s),o=ih(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==Y&&$t(i,o,e)&&function(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1];ph(function(n){return 1==(1&n)}(c)?X0(l,e,t,i,Ci(c),o):void 0)||(ph(s)||function(n){return 2==(2&n)}(c)&&(s=X0(l,null,t,i,a,o)),function(n,e,t,r,i){const s=Ze(n);if(e)i?s?n.addClass(t,r):t.classList.add(r):s?n.removeClass(t,r):t.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:Sn.DashCase;if(null==i)s?n.removeStyle(t,r,o):t.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=Sn.Important),s?n.setStyle(t,r,i,o):t.style.setProperty(r,i,a?"important":"")}}}(r,o,kd(Qt(),t),i,s))}(s,s.data[Qt()],i,i[11],n,i[o+1]=function(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=oe(Dn(n)))),n}(e,t),r,o)}(n,e,null,!0),Xt}function Rm(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=kc(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function kc(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Tn(n,o,!!t||e[++s]))}return void 0===n?null:n}function X0(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[i+1];h===Y&&(h=d?Le:void 0);let f=d?__(h,r):u===r?h:void 0;if(c&&!ph(f)&&(f=__(l,r)),ph(f)&&(a=f,o))return a;const p=n[i+1];i=o?mr(p):Ci(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=__(l,r))}return a}function ph(n){return void 0!==n}function te(n,e=""){const t=C(),r=we(),i=n+20,s=r.firstCreatePass?Ca(r,i,1,e,null):r.data[i],o=t[i]=function(n,e){return Ze(n)?n.createText(e):n.createTextNode(e)}(t[11],e);nh(r,t,o,s),Hr(s,!1)}function xc(n){return It("",n,""),xc}function It(n,e,t){const r=C(),i=function(n,e,t,r){return $t(n,sa(),t)?e+X(t)+r:Y}(r,n,e,t);return i!==Y&&Ii(r,Qt(),i),It}function Ua(n,e,t){const r=C();return $t(r,sa(),e)&&An(we(),et(),r,n,e,r[11],t,!0),Ua}function Mm(n,e,t){const r=C();if($t(r,sa(),e)){const s=we(),o=et();An(s,o,r,n,e,PA(o_(s.data),o,r),t,!0)}return Mm}const Ks=void 0;var GW=["en",[["a","p"],["AM","PM"],Ks],[["AM","PM"],Ks,Ks],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ks,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ks,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ks,"{1} 'at' {0}",Ks],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===t?1:5}];let ja={};function Zt(n){const e=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=yR(e);if(t)return t;const r=e.split("-")[0];if(t=yR(r),t)return t;if("en"===r)return GW;throw new Error(`Missing locale data for the locale "${n}".`)}function yR(n){return n in ja||(ja[n]=xe.ng&&xe.ng.common&&xe.ng.common.locales&&xe.ng.common.locales[n]),ja[n]}var x=(()=>((x=x||{})[x.LocaleId=0]="LocaleId",x[x.DayPeriodsFormat=1]="DayPeriodsFormat",x[x.DayPeriodsStandalone=2]="DayPeriodsStandalone",x[x.DaysFormat=3]="DaysFormat",x[x.DaysStandalone=4]="DaysStandalone",x[x.MonthsFormat=5]="MonthsFormat",x[x.MonthsStandalone=6]="MonthsStandalone",x[x.Eras=7]="Eras",x[x.FirstDayOfWeek=8]="FirstDayOfWeek",x[x.WeekendRange=9]="WeekendRange",x[x.DateFormat=10]="DateFormat",x[x.TimeFormat=11]="TimeFormat",x[x.DateTimeFormat=12]="DateTimeFormat",x[x.NumberSymbols=13]="NumberSymbols",x[x.NumberFormats=14]="NumberFormats",x[x.CurrencyCode=15]="CurrencyCode",x[x.CurrencySymbol=16]="CurrencySymbol",x[x.CurrencyName=17]="CurrencyName",x[x.Currencies=18]="Currencies",x[x.Directionality=19]="Directionality",x[x.PluralCase=20]="PluralCase",x[x.ExtraData=21]="ExtraData",x))();const gh="en-US";let vR=gh;function km(n){Cn(n,"Expected localeId to be defined"),"string"==typeof n&&(vR=n.toLowerCase().replace(/_/g,"-"))}class WR{}const GR="ngComponent";class G3{resolveComponentFactory(e){throw function(n){const e=Error(`No component factory found for ${oe(n)}. Did you add it to @NgModule.entryComponents?`);return e[GR]=n,e}(e)}}let Ai=(()=>{class n{}return n.NULL=new G3,n})();function bh(...n){}function $a(n,e){return new Ae(zn(n,e))}const Y3=function(){return $a(_t(),C())};let Ae=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=Y3,n})();function qR(n){return n instanceof Ae?n.nativeElement:n}class Ys{}let Eh=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>J3(),n})();const J3=function(){const n=C(),t=In(_t().index,n);return function(n){return n[11]}(jr(t)?t:n)};let Bm=(()=>{class n{}return n.\u0275prov=M({token:n,providedIn:"root",factory:()=>null}),n})();class us{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Um=new us("12.2.9");class KR{constructor(){}supports(e){return Ac(e)}create(e){return new tz(e)}}const ez=(n,e)=>e;class tz{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||ez}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<QR(r,i,s)?t:r,a=QR(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Ac(e))throw new Error(`Error trying to diff '${oe(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Aa()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new nz(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new YR),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new YR),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class nz{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rz{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class YR{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new rz,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function QR(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class JR{constructor(){}supports(e){return e instanceof Map||ym(e)}create(){return new iz}}class iz{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||ym(e)))throw new Error(`Error trying to diff '${oe(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new sz(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class sz{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function XR(){return new Wa([new KR])}let Wa=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||XR()),deps:[[n,new Ei,new Be]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'`)}}return n.\u0275prov=M({token:n,providedIn:"root",factory:XR}),n})();function ZR(){return new za([new JR])}let za=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||ZR()),deps:[[n,new Ei,new Be]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return n.\u0275prov=M({token:n,providedIn:"root",factory:ZR}),n})();function Ch(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(ct(s)),hr(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1].firstChild;null!==c&&Ch(l[1],l,c,r)}const o=t.type;if(8&o)Ch(n,e,t.child,r);else if(32&o){const a=O_(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=QS(e,t);if(Array.isArray(a))r.push(...a);else{const l=Ec(e[16]);Ch(l[1],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Lc{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Ch(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(hr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(B_(e,r),$s(t,r))}this._attachedToViewContainer=!1}jS(this._lView[1],this._lView)}onDestroy(e){EA(this._lView[1],this._lView,null,e)}markForCheck(){om(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){lm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,e,t){Pd(!0);try{lm(n,e,t)}finally{Pd(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,e){Cc(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class az extends Lc{constructor(e){super(e),this._view=e}detectChanges(){MA(this._view)}checkNoChanges(){!function(n){Pd(!0);try{MA(n)}finally{Pd(!1)}}(this._view)}get context(){return null}}const cz=function(n){return function(n,e,t){if(Rd(n)&&!t){const r=In(n.index,e);return new Lc(r,r)}return 47&n.type?new Lc(e[16],e):null}(_t(),C(),16==(16&n))};let Qs=(()=>{class n{}return n.__NG_ELEMENT_ID__=cz,n})();const hz=[new JR],pz=new Wa([new KR]),gz=new za(hz),mz=function(){return wh(_t(),C())};let Mn=(()=>{class n{}return n.__NG_ELEMENT_ID__=mz,n})();const yz=Mn,vz=class extends yz{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=wc(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(t)),Ic(t,r,e),new Lc(r)}};function wh(n,e){return 4&n.type?new vz(e,n,$a(n,e)):null}class Xr{}class eM{}const Cz=function(){return rM(_t(),C())};let en=(()=>{class n{}return n.__NG_ELEMENT_ID__=Cz,n})();const Iz=en,tM=class extends Iz{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return $a(this._hostTNode,this._hostLView)}get injector(){return new la(this._hostTNode,this._hostLView)}get parentInjector(){const e=Hd(this._hostTNode,this._hostLView);if(zD(e)){const t=aa(e,this._hostLView),r=oa(e);return new la(t[1].data[r+8],t)}return new la(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=nM(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,s){const o=r||this.parentInjector;if(!s&&null==e.ngModule&&o){const l=o.get(Xr,null);l&&(s=l)}const a=e.create(o,i,void 0,s);return this.insert(a.hostView,t),a}insert(e,t){const r=e._lView,i=r[1];if(function(n){return hr(n[3])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=r[3],h=new tM(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],Gd(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(i,r,o,s);const a=H_(s,o),l=r[11],c=th(l,o[7]);return null!==c&&function(n,e,t,r,i,s){r[0]=i,r[6]=e,Cc(n,r,t,1,i,s)}(i,o[6],l,r,c,a),e.attachToViewContainerRef(),Gd(jm(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=nM(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=B_(this._lContainer,t);r&&($s(jm(this._lContainer),t),jS(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=B_(this._lContainer,t);return r&&null!=$s(jm(this._lContainer),t)?new Lc(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function nM(n){return n[8]}function jm(n){return n[8]||(n[8]=[])}function rM(n,e){let t;const r=e[n.index];if(hr(r))t=r;else{let i;if(8&n.type)i=ct(r);else{const s=e[11];i=s.createComment("");const o=zn(n,e);Gs(s,th(s,o),i,function(n,e){return Ze(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=RA(r,e,i,n),lh(e,t)}return new tM(t,n,e)}const Ya={};class wM extends Ai{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Kt(e);return new TM(t,this.ngModule)}}function IM(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}const b8=new O("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>PS});class TM extends WR{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function(n){return n.map(pH).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return IM(this.componentDef.inputs)}get outputs(){return IM(this.componentDef.outputs)}create(e,t,r,i){const s=(i=i||this.ngModule)?function(n,e){return{get:(t,r,i)=>{const s=n.get(t,Ya,i);return s!==Ya||r===Ya?s:e.get(t,r,i)}}}(e,i.injector):e,o=s.get(Ys,RD),a=s.get(Bm,null),l=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=r?function(n,e,t){if(Ze(n))return n.selectRootElement(e,t===at.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(l,r,this.componentDef.encapsulation):V_(o.createRenderer(null,this.componentDef),c,function(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,h=function(n,e){return{components:[],scheduler:n||PS,clean:XH,playerHandler:e||null,flags:0}}(),f=ah(0,null,null,1,0,null,null,null,null,null),p=wc(null,f,h,d,null,null,o,l,a,s);let _,g;Od(p);try{const v=function(n,e,t,r,i,s){const o=t[1];t[20]=n;const l=Ca(o,20,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(ch(l,c,!0),null!==n&&(Bd(i,n,c),null!==l.classes&&W_(i,n,l.classes),null!==l.styles&&ZS(i,n,l.styles)));const u=r.createRenderer(n,e),d=wc(t,yA(e),null,e.onPush?64:16,t[20],l,r,u,s||null,null);return o.firstCreatePass&&($d(ac(l,t),o,e.type),DA(o,l),SA(l,t.length,1)),lh(t,d),t[20]=d}(u,this.componentDef,p,o,l);if(u)if(r)Bd(l,u,["ng-version",Um.full]);else{const{attrs:y,classes:w}=function(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!_r(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);y&&Bd(l,u,y),w&&w.length>0&&W_(l,u,w.join(" "))}if(g=e_(f,20),void 0!==t){const y=g.projection=[];for(let w=0;w<this.ngContentSelectors.length;w++){const S=t[w];y.push(null!=S?Array.from(S):null)}}_=function(n,e,t,r,i){const s=t[1],o=function(n,e,t){const r=_t();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),AA(n,r,e,wa(n,e,1,null),t));const i=lc(e,n,r.directiveStart,r);Ht(i,e);const s=zn(r,e);return s&&Ht(s,e),i}(s,t,e);if(r.components.push(o),n[8]=o,i&&i.forEach(l=>l(o,e)),e.contentQueries){const l=_t();e.contentQueries(1,o,l.directiveStart)}const a=_t();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(is(a.index),IA(t[1],a,0,a.directiveStart,a.directiveEnd,e),TA(e,o)),o}(v,this.componentDef,p,h,[I$]),Ic(f,p,null)}finally{Nd()}return new w8(this.componentType,_,$a(g,p),p,g)}}class w8 extends class{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new az(i),this.componentType=e}get injector(){return new la(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const Qa=new Map;class D8 extends Xr{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new wM(this);const r=Hn(e),i=function(n){return n[M2]||null}(e);i&&km(i),this._bootstrapComponents=qr(r.bootstrap),this._r3Injector=VA(e,t,[{provide:Xr,useValue:this},{provide:Ai,useValue:this.componentFactoryResolver}],oe(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=me.THROW_IF_NOT_FOUND,r=B.Default){return e===me||e===Xr||e===Ta?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ey extends eM{constructor(e){super(),this.moduleType=e,null!==Hn(e)&&function(n){const e=new Set;!function t(r){const i=Hn(r,!0),s=i.id;null!==s&&(function(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${oe(e)} vs ${oe(e.name)}`)}(s,Qa.get(s),r),Qa.set(s,r));const o=qr(i.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new D8(this.moduleType,e)}}function zc(n,e){const t=n[e];return t===Y?void 0:t}function RM(n,e,t,r,i,s){const o=e+t;return $t(n,o,i)?Yr(n,o+1,s?r.call(s,i):r(i)):zc(n,o+1)}function MM(n,e,t,r,i,s,o){const a=e+t;return function(n,e,t,r){const i=$t(n,e,t);return $t(n,e+1,r)||i}(n,a,i,s)?Yr(n,a+2,o?r.call(o,i,s):r(i,s)):zc(n,a+2)}function Ri(n,e){const t=we();let r;const i=n+20;t.firstCreatePass?(r=function(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}throw new Fs("302",`The pipe '${n}' could not be found!`)}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=js(r.type)),o=es(b);try{const a=jd(!1),l=s();return jd(a),function(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,C(),i,l),l}finally{es(o)}}function hs(n,e,t){const r=n+20,i=C(),s=ia(i,r);return qc(i,Gc(i,r)?RM(i,Yt(),e,s.transform,t,s):s.transform(t))}function Gc(n,e){return n[1].data[e].pure}function qc(n,e){return vr.isWrapped(e)&&(e=vr.unwrap(e),n[G.lFrame.bindingIndex]=Y),e}function ty(n){return e=>{setTimeout(n,void 0,e)}}const Fe=class extends Ee{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,s,o;let a=e,l=t||(()=>null),c=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),l=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(l=ty(l),a&&(a=ty(a)),c&&(c=ty(c)));const u=super.subscribe({next:a,error:l,complete:c});return e instanceof ue&&e.add(u),u}};function j8(){return this._results[Aa()]()}class Ah{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Aa(),r=Ah.prototype;r[t]||(r[t]=j8)}get changes(){return this._changes||(this._changes=new Fe)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=Gn(e);(this._changesDetected=!function(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class ny{constructor(e){this.queryList=e,this.matches=null}clone(){return new ny(this.queryList)}setDirty(){this.queryList.setDirty()}}class ry{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new ry(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==BM(e,t).matches&&this.queries[t].setDirty()}}class NM{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class iy{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new iy(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class sy{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new sy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,W8(t,s)),this.matchTNodeWithReadOption(e,t,Wd(t,e,s,!1,!1))}else r===Mn?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Wd(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Ae||i===en||i===Mn&&4&t.type)this.addMatch(t.index,-2);else{const s=Wd(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function W8(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function G8(n,e,t,r){return-1===t?function(n,e){return 11&n.type?$a(n,e):4&n.type?wh(n,e):null}(e,n):-2===t?function(n,e,t){return t===Ae?$a(e,n):t===Mn?wh(e,n):t===en?rM(e,n):void 0}(n,e,r):lc(n,n[1],t,e)}function FM(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:G8(e,s[c],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function oy(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=FM(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&oy(h[1],h,c,r)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];oy(f[1],f,c,r)}}}}}return r}function Ja(n){const e=C(),t=we(),r=FD();a_(r+1);const i=BM(t,r);if(n.dirty&&MD(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?oy(t,e,r,[]):FM(t,e,i,r);n.reset(s,qR),n.notifyOnChanges()}return!0}return!1}function Rh(n,e,t){const r=we();r.firstCreatePass&&(function(n,e,t){null===n.queries&&(n.queries=new iy),n.queries.track(new sy(e,t))}(r,new NM(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),function(n,e,t){const r=new Ah(4==(4&t));EA(n,e,r,r.destroy),null===e[19]&&(e[19]=new ry),e[19].queries.push(new ny(r))}(r,C(),e)}function Xa(){return function(n,e){return n[19].queries[e].queryList}(C(),FD())}function BM(n,e){return n.queries.getByIndex(e)}function UM(n,e){return wh(n,e)}const Yc=new O("Application Initializer");let el=(()=>{class n{constructor(t){this.appInits=t,this.resolve=bh,this.reject=bh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(fh(s))t.push(s);else if(Im(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(m(Yc,8))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();const Qc=new O("AppId"),CG={provide:Qc,useFactory:function(){return`${fy()}${fy()}${fy()}`},deps:[]};function fy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ik=new O("Platform Initializer"),fs=new O("Platform ID"),sk=new O("appBootstrapListener");let xh=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();const Mi=new O("LocaleId"),ok=new O("DefaultCurrencyCode");class IG{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const py=function(n){return new ey(n)},TG=py,DG=function(n){return Promise.resolve(py(n))},ak=function(n){const e=py(n),r=qr(Hn(n).declarations).reduce((i,s)=>{const o=Kt(s);return o&&i.push(new TM(o)),i},[]);return new IG(e,r)},SG=ak,AG=function(n){return Promise.resolve(ak(n))};let Zs=(()=>{class n{constructor(){this.compileModuleSync=TG,this.compileModuleAsync=DG,this.compileModuleAndAllComponentsSync=SG,this.compileModuleAndAllComponentsAsync=AG}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();const kG=(()=>Promise.resolve(0))();function gy(n){"undefined"==typeof Zone?kG.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class K{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fe(!1),this.onMicrotaskEmpty=new Fe(!1),this.onStable=new Fe(!1),this.onError=new Fe(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let n=xe.requestAnimationFrame,e=xe.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(n){const e=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(xe,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,my(n),n.isCheckStableRunning=!0,_y(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),my(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return lk(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),ck(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return lk(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),ck(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,my(n),_y(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!K.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(K.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,PG,bh,bh);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const PG={};function _y(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function my(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function lk(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function ck(n){n._nesting--,_y(n)}class FG{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fe,this.onMicrotaskEmpty=new Fe,this.onStable=new Fe,this.onError=new Fe}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let yy=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{K.assertNotInAngularZone(),gy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())gy(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(m(K))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})(),uk=(()=>{class n{constructor(){this._applications=new Map,vy.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return vy.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();class LG{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let vy=new LG,dk=!0,hk=!1;function by(){return hk=!0,dk}let Dr;const fk=new O("AllowMultipleToken");class Ey{constructor(e,t){this.name=e,this.token=t}}function pk(n,e,t=[]){const r=`Platform: ${e}`,i=new O(r);return(s=[])=>{let o=gk();if(!o||o.injector.get(fk,!1))if(n)n(t.concat(s).concat({provide:i,useValue:!0}));else{const a=t.concat(s).concat({provide:i,useValue:!0},{provide:Tc,useValue:"platform"});!function(n){if(Dr&&!Dr.destroyed&&!Dr.injector.get(fk,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Dr=n.get(_k);const e=n.get(ik,null);e&&e.forEach(t=>t())}(me.create({providers:a,name:r}))}return function(n){const e=gk();if(!e)throw new Error("No platform exists!");if(!e.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function gk(){return Dr&&!Dr.destroyed?Dr:null}let _k=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const a=function(n,e){let t;return t="noop"===n?new FG:("zone.js"===n?void 0:n)||new K({enableLongStackTrace:by(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),l=[{provide:K,useValue:a}];return a.run(()=>{const c=me.create({providers:l,parent:this.injector,name:t.moduleType.name}),u=t.create(c),d=u.injector.get(gr,null);if(!d)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});u.onDestroy(()=>{Cy(this._modules,u),h.unsubscribe()})}),function(n,e,t){try{const r=t();return fh(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(d,a,()=>{const h=u.injector.get(el);return h.runInitializers(),h.donePromise.then(()=>(km(u.injector.get(Mi,gh)||gh),this._moduleDoBootstrap(u),u))})})}bootstrapModule(t,r=[]){const i=mk({},r);return function(n,e,t){const r=new ey(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(eo);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${oe(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(m(me))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();function mk(n,e){return Array.isArray(e)?e.reduce(mk,n):Object.assign(Object.assign({},n),e)}let eo=(()=>{class n{constructor(t,r,i,s,o){this._zone=t,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new H(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),l=new H(c=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{K.assertNotInAngularZone(),gy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{K.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{u.unsubscribe(),d.unsubscribe()}});this.isStable=cD(a,l.pipe(dD()))}bootstrap(t,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=t instanceof WR?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);const s=function(n){return n.isBoundToModule}(i)?void 0:this._injector.get(Xr),a=i.create(me.NULL,[],r||i.selector,s),l=a.location.nativeElement,c=a.injector.get(yy,null),u=c&&a.injector.get(uk);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),Cy(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Cy(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(sk,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(m(K),m(me),m(gr),m(Ai),m(el))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();function Cy(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Oh{}class XG{}const ZG={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let e4=(()=>{class n{constructor(t,r){this._compiler=t,this._config=r||ZG}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[r,i]=t.split("#");return void 0===i&&(i="default"),cr(255)(r).then(s=>s[i]).then(s=>Ek(s,r,i)).then(s=>this._compiler.compileModuleAsync(s))}loadFactory(t){let[r,i]=t.split("#"),s="NgFactory";return void 0===i&&(i="default",s=""),cr(255)(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(o=>o[i+s]).then(o=>Ek(o,r,i))}}return n.\u0275fac=function(t){return new(t||n)(m(Zs),m(XG,8))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();function Ek(n,e,t){if(!n)throw new Error(`Cannot find '${t}' in '${e}'`);return n}const u4=pk(null,"core",[{provide:fs,useValue:"unknown"},{provide:_k,deps:[me]},{provide:uk,deps:[]},{provide:xh,deps:[]}]),g4=[{provide:eo,useClass:eo,deps:[K,me,gr,Ai,el]},{provide:b8,deps:[K],useFactory:function(n){let e=[];return n.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:el,useClass:el,deps:[[new Be,Yc]]},{provide:Zs,useClass:Zs,deps:[]},CG,{provide:Wa,useFactory:function(){return pz},deps:[]},{provide:za,useFactory:function(){return gz},deps:[]},{provide:Mi,useFactory:function(n){return km(n=n||"undefined"!=typeof $localize&&$localize.locale||gh),n},deps:[[new ma(Mi),new Be,new Ei]]},{provide:ok,useValue:"USD"}];let m4=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(m(eo))},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({providers:g4}),n})(),Wh=null;function gs(){return Wh}const N=new O("DocumentToken");let ro=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({factory:_6,token:n,providedIn:"platform"}),n})();function _6(){return m(zk)}const m6=new O("Location Initialized");let zk=(()=>{class n extends ro{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return gs().getBaseHref(this._doc)}onPopState(t){const r=gs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=gs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Gk()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Gk()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(m(N))},n.\u0275prov=M({factory:y6,token:n,providedIn:"platform"}),n})();function Gk(){return!!window.history.pushState}function y6(){return new zk(m(N))}function Ly(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function qk(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function xi(n){return n&&"?"!==n[0]?"?"+n:n}let rl=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({factory:v6,token:n,providedIn:"root"}),n})();function v6(n){const e=m(N).location;return new Kk(m(ro),e&&e.origin||"")}const Vy=new O("appBaseHref");let Kk=(()=>{class n extends rl{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ly(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+xi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+xi(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+xi(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(m(ro),m(Vy,8))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})(),b6=(()=>{class n extends rl{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ly(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+xi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+xi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(m(ro),m(Vy,8))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})(),il=(()=>{class n{constructor(t,r){this._subject=new Fe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=qk(Yk(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+xi(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Yk(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+xi(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+xi(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.\u0275fac=function(t){return new(t||n)(m(rl),m(ro))},n.normalizeQueryParams=xi,n.joinWithSlash=Ly,n.stripTrailingSlash=qk,n.\u0275prov=M({factory:E6,token:n,providedIn:"root"}),n})();function E6(){return new il(m(rl),m(ro))}function Yk(n){return n.replace(/\/index.html$/,"")}var ut=(()=>((ut=ut||{})[ut.Zero=0]="Zero",ut[ut.One=1]="One",ut[ut.Two=2]="Two",ut[ut.Few=3]="Few",ut[ut.Many=4]="Many",ut[ut.Other=5]="Other",ut))(),ot=(()=>((ot=ot||{})[ot.Format=0]="Format",ot[ot.Standalone=1]="Standalone",ot))(),ge=(()=>((ge=ge||{})[ge.Narrow=0]="Narrow",ge[ge.Abbreviated=1]="Abbreviated",ge[ge.Wide=2]="Wide",ge[ge.Short=3]="Short",ge))(),Je=(()=>((Je=Je||{})[Je.Short=0]="Short",Je[Je.Medium=1]="Medium",Je[Je.Long=2]="Long",Je[Je.Full=3]="Full",Je))(),j=(()=>((j=j||{})[j.Decimal=0]="Decimal",j[j.Group=1]="Group",j[j.List=2]="List",j[j.PercentSign=3]="PercentSign",j[j.PlusSign=4]="PlusSign",j[j.MinusSign=5]="MinusSign",j[j.Exponential=6]="Exponential",j[j.SuperscriptingExponent=7]="SuperscriptingExponent",j[j.PerMille=8]="PerMille",j[j.Infinity=9]="Infinity",j[j.NaN=10]="NaN",j[j.TimeSeparator=11]="TimeSeparator",j[j.CurrencyDecimal=12]="CurrencyDecimal",j[j.CurrencyGroup=13]="CurrencyGroup",j))();function zh(n,e){return Zn(Zt(n)[x.DateFormat],e)}function Gh(n,e){return Zn(Zt(n)[x.TimeFormat],e)}function qh(n,e){return Zn(Zt(n)[x.DateTimeFormat],e)}function Xn(n,e){const t=Zt(n),r=t[x.NumberSymbols][e];if(void 0===r){if(e===j.CurrencyDecimal)return t[x.NumberSymbols][j.Decimal];if(e===j.CurrencyGroup)return t[x.NumberSymbols][j.Group]}return r}const R6=function(n){return Zt(n)[x.PluralCase]};function Jk(n){if(!n[x.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[x.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Zn(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function Uy(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const N6=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,tu={},F6=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var vt=(()=>((vt=vt||{})[vt.Short=0]="Short",vt[vt.ShortGMT=1]="ShortGMT",vt[vt.Long=2]="Long",vt[vt.Extended=3]="Extended",vt))(),z=(()=>((z=z||{})[z.FullYear=0]="FullYear",z[z.Month=1]="Month",z[z.Date=2]="Date",z[z.Hours=3]="Hours",z[z.Minutes=4]="Minutes",z[z.Seconds=5]="Seconds",z[z.FractionalSeconds=6]="FractionalSeconds",z[z.Day=7]="Day",z))(),ie=(()=>((ie=ie||{})[ie.DayPeriods=0]="DayPeriods",ie[ie.Days=1]="Days",ie[ie.Months=2]="Months",ie[ie.Eras=3]="Eras",ie))();function L6(n,e,t,r){let i=function(n){if(ex(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,o=1]=n.split("-").map(a=>+a);return Kh(i,s-1,o)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(N6))return function(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-t,a=Number(n[5]||0)-r,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,o,a,l,c),e}(r)}const e=new Date(n);if(!ex(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Pi(t,e)||e;let a,o=[];for(;e;){if(a=F6.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const u=o.pop();if(!u)break;e=u}}let l=i.getTimezoneOffset();r&&(l=Zk(r,l),i=function(n,e,t){const i=n.getTimezoneOffset();return function(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,-1*(Zk(e,i)-i))}(i,r));let c="";return o.forEach(u=>{const d=function(n){if(Hy[n])return Hy[n];let e;switch(n){case"G":case"GG":case"GGG":e=He(ie.Eras,ge.Abbreviated);break;case"GGGG":e=He(ie.Eras,ge.Wide);break;case"GGGGG":e=He(ie.Eras,ge.Narrow);break;case"y":e=dt(z.FullYear,1,0,!1,!0);break;case"yy":e=dt(z.FullYear,2,0,!0,!0);break;case"yyy":e=dt(z.FullYear,3,0,!1,!0);break;case"yyyy":e=dt(z.FullYear,4,0,!1,!0);break;case"Y":e=Xh(1);break;case"YY":e=Xh(2,!0);break;case"YYY":e=Xh(3);break;case"YYYY":e=Xh(4);break;case"M":case"L":e=dt(z.Month,1,1);break;case"MM":case"LL":e=dt(z.Month,2,1);break;case"MMM":e=He(ie.Months,ge.Abbreviated);break;case"MMMM":e=He(ie.Months,ge.Wide);break;case"MMMMM":e=He(ie.Months,ge.Narrow);break;case"LLL":e=He(ie.Months,ge.Abbreviated,ot.Standalone);break;case"LLLL":e=He(ie.Months,ge.Wide,ot.Standalone);break;case"LLLLL":e=He(ie.Months,ge.Narrow,ot.Standalone);break;case"w":e=jy(1);break;case"ww":e=jy(2);break;case"W":e=jy(1,!0);break;case"d":e=dt(z.Date,1);break;case"dd":e=dt(z.Date,2);break;case"c":case"cc":e=dt(z.Day,1);break;case"ccc":e=He(ie.Days,ge.Abbreviated,ot.Standalone);break;case"cccc":e=He(ie.Days,ge.Wide,ot.Standalone);break;case"ccccc":e=He(ie.Days,ge.Narrow,ot.Standalone);break;case"cccccc":e=He(ie.Days,ge.Short,ot.Standalone);break;case"E":case"EE":case"EEE":e=He(ie.Days,ge.Abbreviated);break;case"EEEE":e=He(ie.Days,ge.Wide);break;case"EEEEE":e=He(ie.Days,ge.Narrow);break;case"EEEEEE":e=He(ie.Days,ge.Short);break;case"a":case"aa":case"aaa":e=He(ie.DayPeriods,ge.Abbreviated);break;case"aaaa":e=He(ie.DayPeriods,ge.Wide);break;case"aaaaa":e=He(ie.DayPeriods,ge.Narrow);break;case"b":case"bb":case"bbb":e=He(ie.DayPeriods,ge.Abbreviated,ot.Standalone,!0);break;case"bbbb":e=He(ie.DayPeriods,ge.Wide,ot.Standalone,!0);break;case"bbbbb":e=He(ie.DayPeriods,ge.Narrow,ot.Standalone,!0);break;case"B":case"BB":case"BBB":e=He(ie.DayPeriods,ge.Abbreviated,ot.Format,!0);break;case"BBBB":e=He(ie.DayPeriods,ge.Wide,ot.Format,!0);break;case"BBBBB":e=He(ie.DayPeriods,ge.Narrow,ot.Format,!0);break;case"h":e=dt(z.Hours,1,-12);break;case"hh":e=dt(z.Hours,2,-12);break;case"H":e=dt(z.Hours,1);break;case"HH":e=dt(z.Hours,2);break;case"m":e=dt(z.Minutes,1);break;case"mm":e=dt(z.Minutes,2);break;case"s":e=dt(z.Seconds,1);break;case"ss":e=dt(z.Seconds,2);break;case"S":e=dt(z.FractionalSeconds,1);break;case"SS":e=dt(z.FractionalSeconds,2);break;case"SSS":e=dt(z.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Qh(vt.Short);break;case"ZZZZZ":e=Qh(vt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Qh(vt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Qh(vt.Long);break;default:return null}return Hy[n]=e,e}(u);c+=d?d(i,t,l):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Kh(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Pi(n,e){const t=function(n){return Zt(n)[x.LocaleId]}(n);if(tu[t]=tu[t]||{},tu[t][e])return tu[t][e];let r="";switch(e){case"shortDate":r=zh(n,Je.Short);break;case"mediumDate":r=zh(n,Je.Medium);break;case"longDate":r=zh(n,Je.Long);break;case"fullDate":r=zh(n,Je.Full);break;case"shortTime":r=Gh(n,Je.Short);break;case"mediumTime":r=Gh(n,Je.Medium);break;case"longTime":r=Gh(n,Je.Long);break;case"fullTime":r=Gh(n,Je.Full);break;case"short":const i=Pi(n,"shortTime"),s=Pi(n,"shortDate");r=Yh(qh(n,Je.Short),[i,s]);break;case"medium":const o=Pi(n,"mediumTime"),a=Pi(n,"mediumDate");r=Yh(qh(n,Je.Medium),[o,a]);break;case"long":const l=Pi(n,"longTime"),c=Pi(n,"longDate");r=Yh(qh(n,Je.Long),[l,c]);break;case"full":const u=Pi(n,"fullTime"),d=Pi(n,"fullDate");r=Yh(qh(n,Je.Full),[u,d])}return r&&(tu[t][e]=r),r}function Yh(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Rr(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.substr(o.length-e)),s+o}function dt(n,e,t=0,r=!1,i=!1){return function(s,o){let a=function(n,e){switch(n){case z.FullYear:return e.getFullYear();case z.Month:return e.getMonth();case z.Date:return e.getDate();case z.Hours:return e.getHours();case z.Minutes:return e.getMinutes();case z.Seconds:return e.getSeconds();case z.FractionalSeconds:return e.getMilliseconds();case z.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||a>-t)&&(a+=t),n===z.Hours)0===a&&-12===t&&(a=12);else if(n===z.FractionalSeconds)return function(n,e){return Rr(n,3).substr(0,e)}(a,e);const l=Xn(o,j.MinusSign);return Rr(a,e,l,r,i)}}function He(n,e,t=ot.Format,r=!1){return function(i,s){return function(n,e,t,r,i,s){switch(t){case ie.Months:return function(n,e,t){const r=Zt(n),s=Zn([r[x.MonthsFormat],r[x.MonthsStandalone]],e);return Zn(s,t)}(e,i,r)[n.getMonth()];case ie.Days:return function(n,e,t){const r=Zt(n),s=Zn([r[x.DaysFormat],r[x.DaysStandalone]],e);return Zn(s,t)}(e,i,r)[n.getDay()];case ie.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const c=function(n){const e=Zt(n);return Jk(e),(e[x.ExtraData][2]||[]).map(r=>"string"==typeof r?Uy(r):[Uy(r[0]),Uy(r[1])])}(e),u=function(n,e,t){const r=Zt(n);Jk(r);const s=Zn([r[x.ExtraData][0],r[x.ExtraData][1]],e)||[];return Zn(s,t)||[]}(e,i,r),d=c.findIndex(h=>{if(Array.isArray(h)){const[f,p]=h,_=o>=f.hours&&a>=f.minutes,g=o<p.hours||o===p.hours&&a<p.minutes;if(f.hours<p.hours){if(_&&g)return!0}else if(_||g)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(-1!==d)return u[d]}return function(n,e,t){const r=Zt(n),s=Zn([r[x.DayPeriodsFormat],r[x.DayPeriodsStandalone]],e);return Zn(s,t)}(e,i,r)[o<12?0:1];case ie.Eras:return function(n,e){return Zn(Zt(n)[x.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,s,n,e,t,r)}}function Qh(n){return function(e,t,r){const i=-1*r,s=Xn(t,j.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case vt.Short:return(i>=0?"+":"")+Rr(o,2,s)+Rr(Math.abs(i%60),2,s);case vt.ShortGMT:return"GMT"+(i>=0?"+":"")+Rr(o,1,s);case vt.Long:return"GMT"+(i>=0?"+":"")+Rr(o,2,s)+":"+Rr(Math.abs(i%60),2,s);case vt.Extended:return 0===r?"Z":(i>=0?"+":"")+Rr(o,2,s)+":"+Rr(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function Xk(n){return Kh(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function jy(n,e=!1){return function(t,r){let i;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{const s=Xk(t),o=function(n){const e=Kh(n,0,1).getDay();return Kh(n,0,1+(e<=4?4:11)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Rr(i,n,Xn(r,j.MinusSign))}}function Xh(n,e=!1){return function(t,r){return Rr(Xk(t).getFullYear(),n,Xn(r,j.MinusSign),e)}}const Hy={};function Zk(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function ex(n){return n instanceof Date&&!isNaN(n.valueOf())}class ef{}let iq=(()=>{class n extends ef{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(R6(r||this.locale)(t)){case ut.Zero:return"zero";case ut.One:return"one";case ut.Two:return"two";case ut.Few:return"few";case ut.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(m(Mi))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();class aq{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let io=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((i,s,o)=>{if(null==i.previousIndex){const a=this._viewContainer.createEmbeddedView(this._template,new aq(null,this._ngForOf,-1,-1),null===o?void 0:o),l=new sx(i,a);r.push(l)}else if(null==o)this._viewContainer.remove(null===s?void 0:s);else if(null!==s){const a=this._viewContainer.get(s);this._viewContainer.move(a,o);const l=new sx(i,a);r.push(l)}});for(let i=0;i<r.length;i++)this._perViewChange(r[i].view,r[i].record);for(let i=0,s=this._viewContainer.length;i<s;i++){const o=this._viewContainer.get(i);o.context.index=i,o.context.count=s,o.context.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{this._viewContainer.get(i.currentIndex).context.$implicit=i.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(b(en),b(Mn),b(Wa))},n.\u0275dir=ne({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class sx{constructor(e,t){this.record=e,this.view=t}}let ru=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new cq,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ox("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ox("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(b(en),b(Mn))},n.\u0275dir=ne({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class cq{constructor(){this.$implicit=null,this.ngIf=null}}function ox(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${oe(e)}'.`)}let lx=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(b(en))},n.\u0275dir=ne({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[pr]}),n})();function Mr(n,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${oe(n)}'`)}class pq{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class gq{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const _q=new gq,mq=new pq;let Yy=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(fh(t))return _q;if(R0(t))return mq;throw Mr(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(b(Qs,16))},n.\u0275pipe=cn({name:"async",type:n,pure:!1}),n})(),cx=(()=>{class n{constructor(t){this.locale=t}transform(t,r="mediumDate",i,s){if(null==t||""===t||t!=t)return null;try{return L6(t,r,s||this.locale,i)}catch(o){throw Mr(n,o.message)}}}return n.\u0275fac=function(t){return new(t||n)(b(Mi,16))},n.\u0275pipe=cn({name:"date",type:n,pure:!0}),n})(),tf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({providers:[{provide:ef,useClass:iq}]}),n})();const dx="browser";let hx=(()=>{class n{}return n.\u0275prov=M({token:n,providedIn:"root",factory:()=>new Fq(m(N),window)}),n})();class Fq{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=fx(this.window.history)||fx(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function fx(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Xy extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){Wh||(Wh=n)}(new Xy)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(iu=iu||document.querySelector("base"),iu?iu.getAttribute("href"):null);return null==t?null:function(n){nf=nf||document.createElement("a"),nf.setAttribute("href",n);const e=nf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){iu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let nf,iu=null;const gx=new O("TRANSITION_ID"),Hq=[{provide:Yc,useFactory:function(n,e,t){return()=>{t.get(el).donePromise.then(()=>{const r=gs(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[gx,N,me],multi:!0}];class Zy{static init(){!function(n){vy=n}(new Zy)}addToWindow(e){xe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},xe.getAllAngularTestabilities=()=>e.getAllTestabilities(),xe.getAllAngularRootElements=()=>e.getAllRootElements(),xe.frameworkStabilizers||(xe.frameworkStabilizers=[]),xe.frameworkStabilizers.push(r=>{const i=xe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?gs().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let $q=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();const su=new O("EventManagerPlugins");let sf=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(m(su),m(K))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();class ev{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=gs().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let mx=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})(),ou=(()=>{class n extends mx{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(yx),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(yx))}}return n.\u0275fac=function(t){return new(t||n)(m(N))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();function yx(n){gs().remove(n)}const tv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},nv=/%COMP%/g;function af(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?af(n,i,t):(i=i.replace(nv,n),t.push(i))}return t}function Ex(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let lf=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new rv(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case at.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new iK(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case at.ShadowDom:return new sK(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=af(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(m(sf),m(ou),m(Qc))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();class rv{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(tv[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=tv[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=tv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Sn.DashCase|Sn.Important)?e.style.setProperty(t,r,i&Sn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Sn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ex(r)):this.eventManager.addEventListener(e,t,Ex(r))}}class iK extends rv{constructor(e,t,r,i){super(e),this.component=r;const s=af(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace(nv,n)}(i+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(nv,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class sK extends rv{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=af(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let oK=(()=>{class n extends ev{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(m(N))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();const Ix=["alt","control","meta","shift"],fK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Tx={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},pK={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let gK=(()=>{class n extends ev{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gs().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="";if(Ix.forEach(l=>{const c=r.indexOf(l);c>-1&&(r.splice(c,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(t){let r="",i=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Tx.hasOwnProperty(e)&&(e=Tx[e]))}return fK[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ix.forEach(s=>{s!=i&&pK[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(m(N))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})(),sl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({factory:function(){return m(sv)},token:n,providedIn:"root"}),n})(),sv=(()=>{class n extends sl{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Se.NONE:return r;case Se.HTML:return zr(r,"HTML")?Dn(r):ES(this._doc,String(r)).toString();case Se.STYLE:return zr(r,"Style")?Dn(r):r;case Se.SCRIPT:if(zr(r,"Script"))return Dn(r);throw new Error("unsafe value used in a script context");case Se.URL:return fS(r),zr(r,"URL")?Dn(r):mc(String(r));case Se.RESOURCE_URL:if(zr(r,"ResourceURL"))return Dn(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function(n){return new XU(n)}(t)}bypassSecurityTrustStyle(t){return function(n){return new ZU(n)}(t)}bypassSecurityTrustScript(t){return function(n){return new ej(n)}(t)}bypassSecurityTrustUrl(t){return function(n){return new tj(n)}(t)}bypassSecurityTrustResourceUrl(t){return function(n){return new nj(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(m(N))},n.\u0275prov=M({factory:function(){return function(n){return new sv(n.get(N))}(m(Ta))},token:n,providedIn:"root"}),n})();const wK=pk(u4,"browser",[{provide:fs,useValue:dx},{provide:ik,useValue:function(){Xy.makeCurrent(),Zy.init()},multi:!0},{provide:N,useFactory:function(){return function(n){Xg=n}(document),document},deps:[]}]),IK=[[],{provide:Tc,useValue:"root"},{provide:gr,useFactory:function(){return new gr},deps:[]},{provide:su,useClass:oK,multi:!0,deps:[N,K,fs]},{provide:su,useClass:gK,multi:!0,deps:[N]},[],{provide:lf,useClass:lf,deps:[sf,ou,Qc]},{provide:Ys,useExisting:lf},{provide:mx,useExisting:ou},{provide:ou,useClass:ou,deps:[N]},{provide:yy,useClass:yy,deps:[K]},{provide:sf,useClass:sf,deps:[su,K]},{provide:class{},useClass:$q,deps:[]},[]];let ov=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:Qc,useValue:t.appId},{provide:gx,useExisting:Qc},Hq]}}}return n.\u0275fac=function(t){return new(t||n)(m(n,12))},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({providers:IK,imports:[tf,m4]}),n})();function Ax(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function au(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function lu(n,e){var t="function"==typeof Symbol&&n[Symbol.iterator];if(!t)return n;var i,o,r=t.call(n),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s}function Mx(n,e,t){if(t||2===arguments.length)for(var s,r=0,i=e.length;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}"undefined"!=typeof window&&window;const I=function(n,e){if(!n)throw ol(e)},ol=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},kx=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},uf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(kx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},uv=function(n){try{return uf.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function FK(n){return Ox(void 0,n)}function Ox(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!LK(t)||(n[t]=Ox(n[t],e[t]));return n}function LK(n){return"__proto__"!==n}class so{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function kn(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function dv(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}function hv(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function Nx(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function al(){return"object"==typeof indexedDB}function df(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function fv(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ms extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zr.prototype.create)}}class Zr{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function(n,e){return n.replace(jK,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new ms(i,`${this.serviceName}: ${o} (${i}).`,r)}}const jK=/\{\$([^}]+)}/g;function cu(n){return JSON.parse(n)}function St(n){return JSON.stringify(n)}const hf=function(n){let e={},t={},r={},i="";try{const s=n.split(".");e=cu(uv(s[0])||""),t=cu(uv(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch(s){}return{header:e,claims:t,data:r,signature:i}};function ei(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function ll(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Fx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ff(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function pv(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(Lx(s)&&Lx(o)){if(!pv(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function Lx(n){return null!==n&&"object"==typeof n}function gv(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class WK{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)r[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let c,u,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const r=t-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<t;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<t;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class GK{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function(n,e){if("object"!=typeof n||null===n)return!1;for(const t of["next","error","complete"])if(t in n&&"function"==typeof n[t])return!0;return!1}(e)?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=_v),void 0===i.error&&(i.error=_v),void 0===i.complete&&(i.complete=_v);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _v(){}function oo(n,e){return`${n} failed: ${e} argument `}const pf=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};function mv(n,e=1e3,t=2){const r=e*Math.pow(t,n),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function ti(n){return n&&n._delegate?n._delegate:n}var rn=function(){function n(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return n.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},n.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},n.prototype.setServiceProps=function(e){return this.serviceProps=e,this},n.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},n}(),ao="[DEFAULT]",e5=function(){function n(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return n.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var r=new so;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch(s){}}return this.instancesDeferred.get(t).promise},n.prototype.getImmediate=function(e){var t,r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}},n.prototype.getComponent=function(){return this.component},n.prototype.setComponent=function(e){var t,r;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ao})}catch(d){}try{for(var i=au(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var o=lu(s.value,2),l=o[1],c=this.normalizeInstanceIdentifier(o[0]);try{var u=this.getOrInitializeService({instanceIdentifier:c});l.resolve(u)}catch(d){}}}catch(d){t={error:d}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}}},n.prototype.clearInstance=function(e){void 0===e&&(e=ao),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},n.prototype.delete=function(){return function(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function(){var e;return function(n,e){var r,i,s,o,t={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return function(c){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=2&c[0]?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[2&c[0],s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(!(s=(s=t.trys).length>0&&s[s.length-1])&&(6===c[0]||2===c[0])){t=0;continue}if(3===c[0]&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(6===c[0]&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(u){c=[6,u],i=0}finally{r=s=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Mx(Mx([],lu(e.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),lu(e.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return t.sent(),[2]}})})},n.prototype.isComponentSet=function(){return null!=this.component},n.prototype.isInitialized=function(e){return void 0===e&&(e=ao),this.instances.has(e)},n.prototype.getOptions=function(e){return void 0===e&&(e=ao),this.instancesOptions.get(e)||{}},n.prototype.initialize=function(e){var t,r;void 0===e&&(e={});var i=e.options,s=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var l=au(this.instancesDeferred.entries()),c=l.next();!c.done;c=l.next()){var u=lu(c.value,2),h=u[1];o===this.normalizeInstanceIdentifier(u[0])&&h.resolve(a)}}catch(p){t={error:p}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}return a},n.prototype.onInit=function(e,t){var r,i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);var o=this.instances.get(i);return o&&e(o,i),function(){s.delete(e)}},n.prototype.invokeOnInitCallbacks=function(e,t){var r,i,s=this.onInitCallbacks.get(t);if(s)try{for(var o=au(s),a=o.next();!a.done;a=o.next()){var l=a.value;try{l(e,t)}catch(c){}}}catch(c){r={error:c}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},n.prototype.getOrInitializeService=function(e){var t=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:t5(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch(o){}return s||null},n.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=ao),this.component?this.component.multipleInstances?e:ao:e},n.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},n}();function t5(n){return n===ao?void 0:n}var r5=function(){function n(e){this.name=e,this.providers=new Map}return n.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},n.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},n.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new e5(e,this);return this.providers.set(e,t),t},n.prototype.getProviders=function(){return Array.from(this.providers.values())},n}();const yv=[];var Oe=(()=>(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"}(Oe||(Oe={})),Oe))();const Vx={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},i5=Oe.INFO,s5={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},o5=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=s5[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class cl{constructor(e){this.name=e,this._logLevel=i5,this._logHandler=o5,this._userLogHandler=null,yv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Vx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}class a5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function(n){const e=n.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const Bx="@firebase/app",vv=new cl("@firebase/app"),bv="[DEFAULT]",N5={[Bx]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},lo=new Map,gf=new Map;function F5(n,e){try{n.container.addComponent(e)}catch(t){vv.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function fn(n){const e=n.name;if(gf.has(e))return vv.debug(`There were multiple attempts to register component ${e}.`),!1;gf.set(e,n);for(const t of lo.values())F5(t,n);return!0}function _f(n,e){return n.container.getProvider(e)}const uu=new Zr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class V5{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw uu.create("app-deleted",{appName:this._name})}}function B5(n,e={}){"object"!=typeof e&&(e={name:e});const t=Object.assign({name:bv,automaticDataCollectionEnabled:!1},e),r=t.name;if("string"!=typeof r||!r)throw uu.create("bad-app-name",{appName:String(r)});const i=lo.get(r);if(i){if(pv(n,i.options)&&pv(t,i.config))return i;throw uu.create("duplicate-app",{appName:r})}const s=new r5(r);for(const a of gf.values())s.addComponent(a);const o=new V5(n,t,s);return lo.set(r,o),o}function Ux(n=bv){const e=lo.get(n);if(!e)throw uu.create("no-app",{appName:n});return e}function jx(){return Array.from(lo.values())}function xn(n,e,t){var r;let i=null!==(r=N5[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void vv.warn(a.join(" "))}fn(new rn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function Hx(n,e,t,r,i,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function E(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(l){Hx(s,r,i,o,a,"next",l)}function a(l){Hx(s,r,i,o,a,"throw",l)}o(void 0)})}}fn(new rn("platform-logger",e=>new a5(e),"PRIVATE")),xn(Bx,"0.7.3",void 0),xn("fire-js",""),xn("firebase","9.1.2","app");var ul=cr(676);const zx="w:0.5.1",Gx="FIS_v2",Ni=new Zr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function qx(n){return n instanceof ms&&n.code.includes("request-failed")}function Cv({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function Kx(n){return{token:n.token,requestStatus:2,expiresIn:Y5(n.expiresIn),creationTime:Date.now()}}function wv(n,e){return Iv.apply(this,arguments)}function Iv(){return(Iv=E(function*(n,e){const r=(yield e.json()).error;return Ni.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function Yx({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Qx(n,{refreshToken:e}){const t=Yx(n);return t.append("Authorization",function(n){return`${Gx} ${n}`}(e)),t}function Tv(n){return Dv.apply(this,arguments)}function Dv(){return(Dv=E(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function Y5(n){return Number(n.replace("s","000"))}function J5(n,e){return Sv.apply(this,arguments)}function Sv(){return(Sv=E(function*(n,{fid:e}){const t=Cv(n),s={method:"POST",headers:Yx(n),body:JSON.stringify({fid:e,authVersion:Gx,appId:n.appId,sdkVersion:zx})},o=yield Tv(()=>fetch(t,s));if(o.ok){const a=yield o.json();return{fid:a.fid||e,registrationStatus:2,refreshToken:a.refreshToken,authToken:Kx(a.authToken)}}throw yield wv("Create Installation",o)})).apply(this,arguments)}function Jx(n){return new Promise(e=>{setTimeout(e,n)})}const Z5=/^[cdef][\w-]{21}$/;function e7(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function(n){return function(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Z5.test(t)?t:""}catch(n){return""}}function dl(n){return`${n.appName}!${n.appId}`}const hl=new Map;function Xx(n,e){const t=dl(n);Zx(t,e),function(n,e){const t=(!co&&"BroadcastChannel"in self&&(co=new BroadcastChannel("[Firebase] FID Change"),co.onmessage=n=>{Zx(n.data.key,n.data.fid)}),co);t&&t.postMessage({key:n,fid:e}),0===hl.size&&co&&(co.close(),co=null)}(t,e)}function Zx(n,e){const t=hl.get(n);if(t)for(const r of t)r(e)}let co=null;const uo="firebase-installations-store";let Rv=null;function Mv(){return Rv||(Rv=(0,ul.openDb)("firebase-installations-database",1,n=>{switch(n.oldVersion){case 0:n.createObjectStore(uo)}})),Rv}function yf(n,e){return kv.apply(this,arguments)}function kv(){return(kv=E(function*(n,e){const t=dl(n),i=(yield Mv()).transaction(uo,"readwrite"),s=i.objectStore(uo),o=yield s.get(t);return yield s.put(e,t),yield i.complete,(!o||o.fid!==e.fid)&&Xx(n,e.fid),e})).apply(this,arguments)}function xv(n){return Pv.apply(this,arguments)}function Pv(){return(Pv=E(function*(n){const e=dl(n),r=(yield Mv()).transaction(uo,"readwrite");yield r.objectStore(uo).delete(e),yield r.complete})).apply(this,arguments)}function du(n,e){return Ov.apply(this,arguments)}function Ov(){return(Ov=E(function*(n,e){const t=dl(n),i=(yield Mv()).transaction(uo,"readwrite"),s=i.objectStore(uo),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.complete,a&&(!o||o.fid!==a.fid)&&Xx(n,a.fid),a})).apply(this,arguments)}function Nv(n){return Fv.apply(this,arguments)}function Fv(){return(Fv=E(function*(n){let e;const t=yield du(n,r=>{const i=a7(r),s=l7(n,i);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function a7(n){return rP(n||{fid:e7(),registrationStatus:0})}function l7(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ni.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:t,registrationPromise:function(n,e){return Lv.apply(this,arguments)}(n,t)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:u7(n)}:{installationEntry:e}}function Lv(){return(Lv=E(function*(n,e){try{return yf(n,yield J5(n,e))}catch(t){throw qx(t)&&409===t.customData.serverCode?yield xv(n):yield yf(n,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function u7(n){return Vv.apply(this,arguments)}function Vv(){return(Vv=E(function*(n){let e=yield nP(n);for(;1===e.registrationStatus;)yield Jx(100),e=yield nP(n);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield Nv(n);return r||t}return e})).apply(this,arguments)}function nP(n){return du(n,e=>{if(!e)throw Ni.create("installation-not-found");return rP(e)})}function rP(n){return function(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function h7(n,e){return Bv.apply(this,arguments)}function Bv(){return(Bv=E(function*({appConfig:n,platformLoggerProvider:e},t){const r=f7(n,t),i=Qx(n,t),s=e.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:zx}})},l=yield Tv(()=>fetch(r,a));if(l.ok)return Kx(yield l.json());throw yield wv("Generate Auth Token",l)})).apply(this,arguments)}function f7(n,{fid:e}){return`${Cv(n)}/${e}/authTokens:generate`}function Uv(n){return jv.apply(this,arguments)}function jv(){return(jv=E(function*(n,e=!1){let t;const r=yield du(n.appConfig,s=>{if(!sP(s))throw Ni.create("not-registered");const o=s.authToken;if(!e&&_7(o))return s;if(1===o.requestStatus)return t=p7(n,e),s;{if(!navigator.onLine)throw Ni.create("app-offline");const a=y7(s);return t=g7(n,a),a}});return t?yield t:r.authToken})).apply(this,arguments)}function p7(n,e){return Hv.apply(this,arguments)}function Hv(){return(Hv=E(function*(n,e){let t=yield iP(n.appConfig);for(;1===t.authToken.requestStatus;)yield Jx(100),t=yield iP(n.appConfig);const r=t.authToken;return 0===r.requestStatus?Uv(n,e):r})).apply(this,arguments)}function iP(n){return du(n,e=>{if(!sP(e))throw Ni.create("not-registered");return function(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function g7(n,e){return $v.apply(this,arguments)}function $v(){return($v=E(function*(n,e){try{const t=yield h7(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield yf(n.appConfig,r),t}catch(t){if(!qx(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield yf(n.appConfig,r)}else yield xv(n.appConfig);throw t}})).apply(this,arguments)}function sP(n){return void 0!==n&&2===n.registrationStatus}function _7(n){return 2===n.requestStatus&&!function(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function y7(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function Wv(){return(Wv=E(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield Nv(e.appConfig);return r?r.catch(console.error):Uv(e).catch(console.error),t.fid})).apply(this,arguments)}function zv(){return(zv=E(function*(n,e=!1){const t=n;return yield C7(t.appConfig),(yield Uv(t,e)).token})).apply(this,arguments)}function C7(n){return Gv.apply(this,arguments)}function Gv(){return(Gv=E(function*(n){const{registrationPromise:e}=yield Nv(n);e&&(yield e)})).apply(this,arguments)}function Yv(n){return Ni.create("missing-app-config-values",{valueName:n})}const oP="installations";fn(new rn(oP,n=>{const e=n.getProvider("app").getImmediate();return{app:e,appConfig:function(n){if(!n||!n.options)throw Yv("App Configuration");if(!n.name)throw Yv("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Yv(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e),platformLoggerProvider:_f(e,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),fn(new rn("installations-internal",n=>{const t=_f(n.getProvider("app").getImmediate(),oP).getImmediate();return{getId:()=>function(n){return Wv.apply(this,arguments)}(t),getToken:i=>function(n){return zv.apply(this,arguments)}(t,i)}},"PRIVATE")),xn("@firebase/installations","0.5.1");const aP="@firebase/remote-config",pn=new Zr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class j7{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return E(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function H7(n=navigator){return n.languages&&n.languages[0]||n.language}class $7{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return E(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:H7()},c={method:"POST",headers:a,body:JSON.stringify(l)},u=fetch(o,c),d=new Promise((v,y)=>{e.signal.addEventListener(()=>{const w=new Error("The operation was aborted.");w.name="AbortError",y(w)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(v){let y="fetch-client-network";throw"AbortError"===v.name&&(y="fetch-timeout"),pn.create(y,{originalErrorMessage:v.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let _,g;if(200===h.status){let v;try{v=yield h.json()}catch(y){throw pn.create("fetch-client-parse",{originalErrorMessage:y.message})}_=v.entries,g=v.state}if("INSTANCE_STATE_UNSPECIFIED"===g?f=500:"NO_CHANGE"===g?f=304:("NO_TEMPLATE"===g||"EMPTY_CONFIG"===g)&&(_={}),304!==f&&200!==f)throw pn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:_}})()}}class G7{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return E(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return E(function*(){yield function(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(pn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function(n){if(!(n instanceof ms&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+mv(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class Y7{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function bf(n,e){const t=n.target.error||void 0;return pn.create(e,{originalErrorMessage:t&&t.message})}const ho="app_namespace_store";class Z7{constructor(e,t,r,i=function(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(bf(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(ho,{keyPath:"compositeKey"})}}}catch(t){e(pn.create("storage-open",{originalErrorMessage:t}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return E(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ho],"readonly").objectStore(ho),l=t.createCompositeKey(e);try{const c=a.get(l);c.onerror=u=>{s(bf(u,"storage-get"))},c.onsuccess=u=>{const d=u.target.result;i(d?d.value:void 0)}}catch(c){s(pn.create("storage-get",{originalErrorMessage:c&&c.message}))}})})()}set(e,t){var r=this;return E(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const l=i.transaction([ho],"readwrite").objectStore(ho),c=r.createCompositeKey(e);try{const u=l.put({compositeKey:c,value:t});u.onerror=d=>{o(bf(d,"storage-set"))},u.onsuccess=()=>{s()}}catch(u){o(pn.create("storage-set",{originalErrorMessage:u&&u.message}))}})})()}delete(e){var t=this;return E(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ho],"readwrite").objectStore(ho),l=t.createCompositeKey(e);try{const c=a.delete(l);c.onerror=u=>{s(bf(u,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(pn.create("storage-delete",{originalErrorMessage:c&&c.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class eY{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return E(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function nY(){return eb.apply(this,arguments)}function eb(){return(eb=E(function*(){if(!al())return!1;try{return yield df()}catch(n){return!1}})).apply(this,arguments)}fn(new rn("remote-config",function(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw pn.create("registration-window");if(!al())throw pn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw pn.create("registration-project-id");if(!o)throw pn.create("registration-api-key");if(!a)throw pn.create("registration-app-id");const l=new Z7(a,r.name,t=t||"firebase"),c=new eY(l),u=new cl(aP);u.logLevel=Oe.ERROR;const d=new $7(i,"9.1.2",t,s,o,a),h=new G7(d,l),f=new j7(h,l,c,u),p=new Y7(r,f,c,l,u);return function(n){const e=ti(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),xn(aP,"0.3.0");const rY="/firebase-messaging-sw.js",iY="/firebase-cloud-messaging-push-scope",uP="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",dP="google.c.a.c_id",oY="google.c.a.c_l",aY="google.c.a.ts",lY="google.c.a.e";var fl=(()=>(function(n){n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked"}(fl||(fl={})),fl))();function Fi(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function cY(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const tb="fcm_token_details_db",hP="fcm_token_object_Store";function dY(n){return nb.apply(this,arguments)}function nb(){return(nb=E(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(tb))return null;let e=null;return(yield(0,ul.openDb)(tb,5,function(){var r=E(function*(i){var s;if(i.oldVersion<2||!i.objectStoreNames.contains(hP))return;const o=i.transaction.objectStore(hP),a=yield o.index("fcmSenderId").get(n);if(yield o.clear(),a)if(2===i.oldVersion){const l=a;if(!l.auth||!l.p256dh||!l.endpoint)return;e={token:l.fcmToken,createTime:null!==(s=l.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:l.auth,p256dh:l.p256dh,endpoint:l.endpoint,swScope:l.swScope,vapidKey:"string"==typeof l.vapidKey?l.vapidKey:Fi(l.vapidKey)}}}else if(3===i.oldVersion){const l=a;e={token:l.fcmToken,createTime:l.createTime,subscriptionOptions:{auth:Fi(l.auth),p256dh:Fi(l.p256dh),endpoint:l.endpoint,swScope:l.swScope,vapidKey:Fi(l.vapidKey)}}}else if(4===i.oldVersion){const l=a;e={token:l.fcmToken,createTime:l.createTime,subscriptionOptions:{auth:Fi(l.auth),p256dh:Fi(l.p256dh),endpoint:l.endpoint,swScope:l.swScope,vapidKey:Fi(l.vapidKey)}}}});return function(i){return r.apply(this,arguments)}}())).close(),yield(0,ul.deleteDb)(tb),yield(0,ul.deleteDb)("fcm_vapid_details_db"),yield(0,ul.deleteDb)("undefined"),hY(e)?e:null})).apply(this,arguments)}function hY(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const fo="firebase-messaging-store";let rb=null;function ib(){return rb||(rb=(0,ul.openDb)("firebase-messaging-database",1,n=>{switch(n.oldVersion){case 0:n.createObjectStore(fo)}})),rb}function fP(n){return sb.apply(this,arguments)}function sb(){return(sb=E(function*(n){const e=cb(n),r=yield(yield ib()).transaction(fo).objectStore(fo).get(e);if(r)return r;{const i=yield dY(n.appConfig.senderId);if(i)return yield ob(n,i),i}})).apply(this,arguments)}function ob(n,e){return ab.apply(this,arguments)}function ab(){return(ab=E(function*(n,e){const t=cb(n),i=(yield ib()).transaction(fo,"readwrite");return yield i.objectStore(fo).put(e,t),yield i.complete,e})).apply(this,arguments)}function gY(n){return lb.apply(this,arguments)}function lb(){return(lb=E(function*(n){const e=cb(n),r=(yield ib()).transaction(fo,"readwrite");yield r.objectStore(fo).delete(e),yield r.complete})).apply(this,arguments)}function cb({appConfig:n}){return n.appId}const Nt=new Zr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function mY(n,e){return ub.apply(this,arguments)}function ub(){return(ub=E(function*(n,e){const t=yield pb(n),r=gP(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(fb(n.appConfig),i)).json()}catch(o){throw Nt.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw Nt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Nt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function yY(n,e){return db.apply(this,arguments)}function db(){return(db=E(function*(n,e){const t=yield pb(n),r=gP(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${fb(n.appConfig)}/${e.token}`,i)).json()}catch(o){throw Nt.create("token-update-failed",{errorInfo:o})}if(s.error)throw Nt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Nt.create("token-update-no-token");return s.token})).apply(this,arguments)}function pP(n,e){return hb.apply(this,arguments)}function hb(){return(hb=E(function*(n,e){const r={method:"DELETE",headers:yield pb(n)};try{const s=yield(yield fetch(`${fb(n.appConfig)}/${e}`,r)).json();if(s.error)throw Nt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Nt.create("token-unsubscribe-failed",{errorInfo:i})}})).apply(this,arguments)}function fb({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function pb(n){return gb.apply(this,arguments)}function gb(){return(gb=E(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function gP({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==uP&&(i.web.applicationPubKey=r),i}const vY=6048e5;function bY(n){return _b.apply(this,arguments)}function _b(){return(_b=E(function*(n){const e=yield CY(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Fi(e.getKey("auth")),p256dh:Fi(e.getKey("p256dh"))},r=yield fP(n.firebaseDependencies);if(r){if(wY(r.subscriptionOptions,t))return Date.now()>=r.createTime+vY?EY(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield pP(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return mP(n.firebaseDependencies,t)}return mP(n.firebaseDependencies,t)})).apply(this,arguments)}function _P(n){return mb.apply(this,arguments)}function mb(){return(mb=E(function*(n){const e=yield fP(n.firebaseDependencies);e&&(yield pP(n.firebaseDependencies,e.token),yield gY(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function EY(n,e){return yb.apply(this,arguments)}function yb(){return(yb=E(function*(n,e){try{const t=yield yY(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield ob(n.firebaseDependencies,r),t}catch(t){throw yield _P(n),t}})).apply(this,arguments)}function mP(n,e){return vb.apply(this,arguments)}function vb(){return(vb=E(function*(n,e){const r={token:yield mY(n,e),createTime:Date.now(),subscriptionOptions:e};return yield ob(n,r),r.token})).apply(this,arguments)}function CY(n,e){return bb.apply(this,arguments)}function bb(){return(bb=E(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:cY(e)})})).apply(this,arguments)}function wY(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function yP(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcm_message_id};return function(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i)}(e,n),function(n,e){!e.data||(n.data=e.data)}(e,n),function(n,e){if(!e.fcmOptions)return;n.fcmOptions={};const t=e.fcmOptions.link;t&&(n.fcmOptions.link=t);const r=e.fcmOptions.analytics_label;r&&(n.fcmOptions.analyticsLabel=r)}(e,n),e}function SY(n){return"object"==typeof n&&!!n&&dP in n}function vP(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function Eb(n){return Nt.create("missing-app-config-values",{valueName:n})}vP("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),vP("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class RY{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function(n){if(!n||!n.options)throw Eb("App Configuration Object");if(!n.name)throw Eb("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw Eb(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function bP(n){return Cb.apply(this,arguments)}function Cb(){return(Cb=E(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(rY,{scope:iY}),n.swRegistration.update().catch(()=>{})}catch(e){throw Nt.create("failed-service-worker-registration",{browserErrorMessage:e.message})}})).apply(this,arguments)}function MY(n,e){return wb.apply(this,arguments)}function wb(){return(wb=E(function*(n,e){if(!e&&!n.swRegistration&&(yield bP(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Nt.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function kY(n,e){return Ib.apply(this,arguments)}function Ib(){return(Ib=E(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=uP)})).apply(this,arguments)}function Tb(){return(Tb=E(function*(n,e){if(!navigator)throw Nt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Nt.create("permission-blocked");return yield kY(n,null==e?void 0:e.vapidKey),yield MY(n,null==e?void 0:e.serviceWorkerRegistration),bY(n)})).apply(this,arguments)}function xY(n,e,t){return Db.apply(this,arguments)}function Db(){return(Db=E(function*(n,e,t){const r=PY(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[dP],message_name:t[oY],message_time:t[aY],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function PY(n){switch(n){case fl.NOTIFICATION_CLICKED:return"notification_open";case fl.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Sb(){return(Sb=E(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===fl.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(yP(t)):n.onMessageHandler.next(yP(t)));const r=t.data;SY(r)&&"1"===r[lY]&&(yield xY(n,t.messageType,r))})).apply(this,arguments)}function CP(){return Ab.apply(this,arguments)}function Ab(){return(Ab=E(function*(){return"undefined"!=typeof window&&al()&&(yield df())&&fv()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}fn(new rn("messaging",n=>{const e=new RY(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function(n,e){return Sb.apply(this,arguments)}(e,t)),e},"PUBLIC")),fn(new rn("messaging-internal",n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function(n,e){return Tb.apply(this,arguments)}(e,r)}},"PRIVATE"));const Ef="analytics",UY="firebase_id",$Y="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wP="https://www.googletagmanager.com/gtag/js",Ft=new cl("@firebase/analytics");function IP(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function WY(n,e){const t=document.createElement("script");t.src=`${wP}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function GY(n,e,t,r,i,s){return kb.apply(this,arguments)}function kb(){return(kb=E(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const l=(yield IP(t)).find(c=>c.measurementId===i);l&&(yield e[l.appId])}}catch(a){Ft.error(a)}n("config",i,s)})).apply(this,arguments)}function qY(n,e,t,r,i){return xb.apply(this,arguments)}function xb(){return(xb=E(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield IP(t);for(const l of o){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){Ft.error(s)}})).apply(this,arguments)}function QY(){const n=window.document.getElementsByTagName("script");for(const e of Object.values(n))if(e.src&&e.src.includes(wP))return e;return null}const Pn=new Zr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),TP=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function t9(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function n9(n){return Pb.apply(this,arguments)}function Pb(){return(Pb=E(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:t9(r)},s=$Y.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const l=yield o.json();(null===(e=l.error)||void 0===e?void 0:e.message)&&(a=l.error.message)}catch(l){}throw Pn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function r9(n){return Ob.apply(this,arguments)}function Ob(){return(Ob=E(function*(n,e=TP,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw Pn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Pn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new o9;return setTimeout(E(function*(){a.abort()}),void 0!==t?t:6e4),DP({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function DP(n,e,t){return Nb.apply(this,arguments)}function Nb(){return(Nb=E(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=TP){const{appId:s,measurementId:o}=n;try{yield i9(r,e)}catch(a){if(o)return Ft.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield n9(n);return i.deleteThrottleMetadata(s),a}catch(a){if(!s9(a)){if(i.deleteThrottleMetadata(s),o)return Ft.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const l=503===Number(a.customData.httpStatus)?mv(t,i.intervalMillis,30):mv(t,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+l,backoffCount:t+1};return i.setThrottleMetadata(s,c),Ft.debug(`Calling attemptFetch again in ${l} millis`),DP(n,c,r,i)}})).apply(this,arguments)}function i9(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Pn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function s9(n){if(!(n instanceof ms&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class o9{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function a9(){return Fb.apply(this,arguments)}function Fb(){return(Fb=E(function*(){if(!al())return Ft.warn(Pn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield df()}catch(n){return Ft.warn(Pn.create("indexeddb-unavailable",{errorInfo:n}).message),!1}return!0})).apply(this,arguments)}function Lb(){return(Lb=E(function*(n,e,t,r,i,s,o){var a;const l=r9(n);l.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&Ft.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Ft.error(f)),e.push(l);const c=a9().then(f=>{if(f)return r.getId()}),[u,d]=yield Promise.all([l,c]);QY()||WY(s,u.measurementId),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[UY]=d),i("config",u.measurementId,h),u.measurementId})).apply(this,arguments)}class c9{constructor(e){this.app=e}_delete(){return delete Li[this.app.options.appId],Promise.resolve()}}let Li={},SP=[];const AP={};let MP,hu,Cf="dataLayer",Vb=!1;function d9(n,e,t){!function(){const n=[];if(hv()&&n.push("This is a browser extension environment."),fv()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Pn.create("invalid-analytics-context",{errorInfo:e});Ft.warn(t.message)}}();const r=n.options.appId;if(!r)throw Pn.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Pn.create("no-api-key");Ft.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Li[r])throw Pn.create("already-exists",{id:r});if(!Vb){!function(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Cf);const{wrappedGtag:s,gtagCore:o}=function(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function(n,e,t,r){function s(){return(s=E(function*(o,a,l){try{"event"===o?yield qY(n,e,t,a,l):"config"===o?yield GY(n,e,t,r,a,l):n("set",a)}catch(c){Ft.error(c)}})).apply(this,arguments)}return function(o,a,l){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(Li,SP,AP,Cf,"gtag");hu=s,MP=o,Vb=!0}return Li[r]=function(n,e,t,r,i,s,o){return Lb.apply(this,arguments)}(n,SP,AP,e,MP,Cf,t),new c9(n)}function Bb(){return(Bb=E(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function y9(){return Wb.apply(this,arguments)}function Wb(){return(Wb=E(function*(){if(hv()||!fv()||!al())return!1;try{return yield df()}catch(n){return!1}})).apply(this,arguments)}fn(new rn(Ef,(e,{options:t})=>d9(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),fn(new rn("analytics-internal",function(e){try{const t=e.getProvider(Ef).getImmediate();return{logEvent:(r,i,s)=>function(n,e,t,r){n=ti(n),function(n,e,t,r,i){return Bb.apply(this,arguments)}(hu,Li[n.app.options.appId],e,t,r).catch(i=>Ft.error(i))}(t,r,i,s)}}catch(t){throw Pn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),xn("@firebase/analytics","0.7.1");class w9 extends ue{constructor(e,t){super()}schedule(e,t=0){return this}}class wf extends w9{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!==r&&this.delay===r&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=!!s&&s||new Error(s)}if(r)return this.unsubscribe(),i}_unsubscribe(){const e=this.id,t=this.scheduler,r=t.actions,i=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&r.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let kP=(()=>{class n{constructor(t,r=n.now){this.SchedulerAction=t,this.now=r}schedule(t,r=0,i){return new this.SchedulerAction(this,t).schedule(i,r)}}return n.now=()=>Date.now(),n})();class kr extends kP{constructor(e,t=kP.now){super(e,()=>kr.delegate&&kr.delegate!==this?kr.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,r){return kr.delegate&&kr.delegate!==this?kr.delegate.schedule(e,t,r):super.schedule(e,t,r)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const xP=new class extends kr{}(class extends wf{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!==r&&r>0||null===r&&this.delay>0?super.requestAsyncId(e,t,r):e.flush(this)}}),PP=new kr(wf),If=PP;function ys(){}function At(n,e,t){return function(i){return i.lift(new S9(n,e,t))}}class S9{constructor(e,t,r){this.nextOrObserver=e,this.error=t,this.complete=r}call(e,t){return t.subscribe(new A9(e,this.nextOrObserver,this.error,this.complete))}}class A9 extends _e{constructor(e,t,r,i){super(e),this._tapNext=ys,this._tapError=ys,this._tapComplete=ys,this._tapError=r||ys,this._tapComplete=i||ys,ln(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||ys,this._tapError=t.error||ys,this._tapComplete=t.complete||ys)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}let R9=1;const M9=Promise.resolve(),Tf={};function OP(n){return n in Tf&&(delete Tf[n],!0)}const NP={setImmediate(n){const e=R9++;return Tf[e]=!0,M9.then(()=>OP(e)&&n()),e},clearImmediate(n){OP(n)}},zb=new class extends kr{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let r,i=-1,s=t.length;e=e||t.shift();do{if(r=e.execute(e.state,e.delay))break}while(++i<s&&(e=t.shift()));if(this.active=!1,r){for(;++i<s&&(e=t.shift());)e.unsubscribe();throw r}}}(class extends wf{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=NP.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(NP.clearImmediate(t),e.scheduled=void 0)}});function Gb(n){return!Br(n)&&n-parseFloat(n)+1>=0}class Df extends H{constructor(e,t=0,r=zb){super(),this.source=e,this.delayTime=t,this.scheduler=r,(!Gb(t)||t<0)&&(this.delayTime=0),(!r||"function"!=typeof r.schedule)&&(this.scheduler=zb)}static create(e,t=0,r=zb){return new Df(e,t,r)}static dispatch(e){const{source:t,subscriber:r}=e;return this.add(t.subscribe(r))}_subscribe(e){return this.scheduler.schedule(Df.dispatch,this.delayTime,{source:this.source,subscriber:e})}}function LP(n,e=0){return function(r){return r.lift(new P9(n,e))}}class P9{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return new Df(t,this.delay,this.scheduler).subscribe(e)}}const pl=new H(n=>n.complete());function Sf(n){return n?function(n){return new H(e=>n.schedule(()=>e.complete()))}(n):pl}function L(...n){let e=n[n.length-1];return Xo(e)?(n.pop(),Lg(n,e)):Vg(n)}function VP(n,e){return new H(e?t=>e.schedule(N9,0,{error:n,subscriber:t}):t=>t.error(n))}function N9({error:n,subscriber:e}){e.error(n)}class gn{constructor(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}}accept(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,r)}toObservable(){switch(this.kind){case"N":return L(this.value);case"E":return VP(this.error);case"C":return Sf()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new gn("N",e):gn.undefinedValueNotification}static createError(e){return new gn("E",void 0,e)}static createComplete(){return gn.completeNotification}}function BP(n,e=0){return function(r){return r.lift(new F9(n,e))}}gn.completeNotification=new gn("C"),gn.undefinedValueNotification=new gn("N",void 0);class F9{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new Af(e,this.scheduler,this.delay))}}class Af extends _e{constructor(e,t,r=0){super(e),this.scheduler=t,this.delay=r}static dispatch(e){const{notification:t,destination:r}=e;t.observe(r),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(Af.dispatch,this.delay,new L9(e,this.destination)))}_next(e){this.scheduleMessage(gn.createNext(e))}_error(e){this.scheduleMessage(gn.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(gn.createComplete()),this.unsubscribe()}}class L9{constructor(e,t){this.notification=e,this.destination=t}}const qb=new us("7.1.0"),Kb="__angularfire_symbol__analyticsIsSupported",Yb="__angularfire_symbol__remoteConfigIsSupported",Qb="__angularfire_symbol__messagingIsSupported";globalThis[Kb]||(globalThis[Kb]=y9().then(n=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=n)),globalThis[Qb]||(globalThis[Qb]=CP().then(n=>globalThis.__angularfire_symbol__messagingIsSupportedValue=n)),globalThis[Yb]||(globalThis[Yb]=nY().then(n=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=n));const Zb=(n,e)=>{const t=e?[e]:jx(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function gl(){}class $P{constructor(e,t=xP){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class V9{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",gl,{},gl,gl)),t.pipe(At({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let WP=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new $P(Zone.current)),this.insideAngular=t.run(()=>new $P(Zone.current,PP)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(m(K))},n.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function po(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function B9(n){return po().ngZone.runOutsideAngular(()=>n())}function go(n){return po().ngZone.run(()=>n())}function U9(n){return po(),function(n){return function(t){return(t=t.lift(new V9(n.ngZone))).pipe(LP(n.outsideAngular),BP(n.insideAngular))}}(po())(n)}const H9=(n,e)=>{const t=void 0;return function(){return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),go(()=>n.apply(t,arguments))}},_l=(n,e)=>function(){let t;for(let i=0;i<arguments.length;i++)"function"==typeof arguments[i]&&(e&&(t||(t=go(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",gl,{},gl,gl)))),arguments[i]=H9(arguments[i],t));const r=B9(()=>n.apply(this,arguments));if(!e){if(r instanceof H){const i=po();return r.pipe(LP(i.outsideAngular),BP(i.insideAngular))}return go(()=>r)}return r instanceof H?r.pipe(U9):r instanceof Promise?go(()=>new Promise((i,s)=>r.then(o=>go(()=>i(o)),o=>go(()=>s(o))))):"function"==typeof r&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),r.apply(this,arguments)}:go(()=>r)};class ml{constructor(e){return e}}class zP{constructor(){return jx()}}const eE=new O("angularfire2._apps"),W9={provide:ml,useFactory:function(n){return n&&1===n.length?n[0]:new ml(Ux())},deps:[[new Be,eE]]},z9={provide:zP,deps:[[new Be,eE]]};function G9(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new ml(r)}}let q9=(()=>{class n{constructor(t){xn("angularfire",qb.full,"core"),xn("angularfire",qb.full,"app"),xn("angular",Um.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(m(fs))},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({providers:[W9,z9]}),n})();function K9(n,...e){return{ngModule:q9,providers:[{provide:eE,useFactory:G9(n),multi:!0,deps:[K,me,WP,...e]}]}}const Y9=_l(B5,!0);const Q9=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},qP=new Zr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),KP=new cl("@firebase/auth");function Rf(n,...e){KP.logLevel<=Oe.ERROR&&KP.error(`Auth (9.1.2): ${n}`,...e)}function _n(n,...e){throw tE(n,...e)}function ni(n,...e){return tE(n,...e)}function YP(n,e,t){const r=Object.assign(Object.assign({},Q9()),{[e]:t});return new Zr("auth","Firebase",r).create(e,{appName:n.name})}function tE(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return qP.create(n,...e)}function R(n,e,...t){if(!n)throw tE(e,...t)}function ri(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Rf(e),new Error(e)}function vs(n,e){n||ri(e)}const QP=new Map;function Vi(n){vs(n instanceof Function,"Expected a class definition");let e=QP.get(n);return e?(vs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,QP.set(n,e),e)}function JP(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class pu{constructor(e,t){this.shortDelay=e,this.longDelay=t,vs(t>e,"Short delay should be less than long delay!"),this.isMobile=dv()||Nx()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===JP()||"https:"===JP()||hv()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}class iE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tQ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},nQ=new pu(3e4,6e4);function Rt(n,e,t,r){return sE.apply(this,arguments)}function sE(){return(sE=E(function*(n,e,t,r,i={}){return XP(n,i,()=>{let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=gv(Object.assign({key:n.config.apiKey},o)).slice(1),l=new(iE.headers());return l.set("Content-Type","application/json"),l.set("X-Client-Version",n._getSdkClientVersion()),n.languageCode&&l.set("X-Firebase-Locale",n.languageCode),iE.fetch()(ZP(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})})).apply(this,arguments)}function XP(n,e,t){return oE.apply(this,arguments)}function oE(){return(oE=E(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},tQ),e);try{const i=new rQ(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Mf(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Mf(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw Mf(n,"email-already-in-use",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw YP(n,u,c);_n(n,u)}}catch(i){if(i instanceof ms)throw i;_n(n,"network-request-failed")}})).apply(this,arguments)}function ZP(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?function(n,e){vs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,i):`${n.config.apiScheme}://${i}`}class rQ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ni(this.auth,"timeout")),nQ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ni(n,e,r);return i.customData._tokenResponse=t,i}function lE(){return(lE=E(function*(n,e){return Rt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function oQ(n,e){return uE.apply(this,arguments)}function uE(){return(uE=E(function*(n,e){return Rt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function gu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function dE(){return(dE=E(function*(n,e=!1){const t=ti(n),r=yield t.getIdToken(e),i=kf(r);R(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:gu(hE(i.auth_time)),issuedAtTime:gu(hE(i.iat)),expirationTime:gu(hE(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function hE(n){return 1e3*Number(n)}function kf(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Rf("JWT malformed, contained fewer than 3 sections"),null;try{const i=uv(t);return i?JSON.parse(i):(Rf("Failed to decode base64 JWT payload"),null)}catch(i){return Rf("Caught error parsing JWT payload as JSON",i),null}}function Ui(n,e){return fE.apply(this,arguments)}function fE(){return(fE=E(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof ms&&cQ(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function cQ({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class uQ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(E(function*(){yield t.iteration()}),r)}iteration(){var e=this;return E(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&e.schedule(!0))}e.schedule()})()}}class eO{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gu(this.lastLoginAt),this.creationTime=gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function _u(n){return pE.apply(this,arguments)}function pE(){return(pE=E(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Ui(n,oQ(t,{idToken:r}));R(null==i?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?fQ(s.providerUserInfo):[],a=hQ(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new eO(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)})).apply(this,arguments)}function gE(){return(gE=E(function*(n){const e=ti(n);yield _u(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function hQ(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function fQ(n){return n.map(e=>{var{providerId:t}=e,r=Ax(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function _E(){return(_E=E(function*(n,e){const t=yield XP(n,{},()=>{const r=gv({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=ZP(n,i,"/v1/token",`key=${s}`);return iE.fetch()(o,{method:"POST",headers:{"X-Client-Version":n._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class mu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){R(e.idToken,"internal-error"),R(void 0!==e.idToken,"internal-error"),R(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(n){const e=kf(n);return R(e,"internal-error"),R(void 0!==e.exp,"internal-error"),R(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return E(function*(){return R(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return E(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function(n,e){return _E.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new mu;return r&&(R("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(R("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(R("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mu,this.toJSON())}_performRefresh(){return ri("not implemented")}}function bs(n,e){R("string"==typeof n||void 0===n,"internal-error",{appName:e})}class _o{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Ax(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new uQ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.metadata=new eO(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return E(function*(){const r=yield Ui(t,t.stsTokenManager.getToken(t.auth,e));return R(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function(n){return dE.apply(this,arguments)}(this,e)}reload(){return function(n){return gE.apply(this,arguments)}(this)}_assign(e){this!==e&&(R(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new _o(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){R(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return E(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield _u(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return E(function*(){const t=yield e.getIdToken();return yield Ui(e,function(n,e){return lE.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,_=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,v=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:w,emailVerified:S,isAnonymous:W,providerData:Ie,stsTokenManager:ke}=t;R(w&&ke,e,"internal-error");const Bt=mu.fromJSON(this.name,ke);R("string"==typeof w,e,"internal-error"),bs(d,e.name),bs(h,e.name),R("boolean"==typeof S,e,"internal-error"),R("boolean"==typeof W,e,"internal-error"),bs(f,e.name),bs(p,e.name),bs(_,e.name),bs(g,e.name),bs(v,e.name),bs(y,e.name);const gt=new _o({uid:w,auth:e,email:h,emailVerified:S,displayName:d,isAnonymous:W,photoURL:p,phoneNumber:f,tenantId:_,stsTokenManager:Bt,createdAt:v,lastLoginAt:y});return Ie&&Array.isArray(Ie)&&(gt.providerData=Ie.map(xt=>Object.assign({},xt))),g&&(gt._redirectEventId=g),gt}static _fromIdTokenResponse(e,t,r=!1){return E(function*(){const i=new mu;i.updateFromServerResponse(t);const s=new _o({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield _u(s),s})()}}const tO=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(function*(){return!0})()}_set(t,r){var i=this;return E(function*(){i.storage[t]=r})()}_get(t){var r=this;return E(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return E(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function xf(n,e,t){return`firebase:${n}:${e}:${t}`}class vl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=xf(this.userKey,i.apiKey,s),this.fullPersistenceKey=xf("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return E(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?_o._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return E(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return E(function*(){if(!t.length)return new vl(Vi(tO),e,r);const i=(yield Promise.all(t.map(function(){var c=E(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Vi(tO);const o=xf(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=yield c._get(o);if(u){const d=_o._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch(u){}const l=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=E(function*(u){if(u!==s)try{yield u._remove(o)}catch(d){}});return function(u){return c.apply(this,arguments)}}())),new vl(s,e,r)):new vl(s,e,r)})()}}function nO(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function(n=kn()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function(n=kn()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function(n=kn()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function(n=kn()){return/webos/i.test(n)}(e))return"Webos";if(function(n=kn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function(n=kn()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function(n=kn()){return/android/i.test(n)}(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function cO(n,e=[]){let t;switch(n){case"Browser":t=nO(kn());break;case"Worker":t=`${nO(kn())}-${n}`;break;default:t=n}return`${t}/JsCore/9.1.2/${e.length?e.join(","):"FirebaseCore-web"}`}class mQ{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uO(this),this.idTokenSubscription=new uO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qP,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Vi(t)),this._initializationPromise=this.queue(E(function*(){var i;r._deleted||(r.persistenceManager=yield vl.create(r,e),!r._deleted&&((null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)&&(yield r._popupRedirectResolver._initialize(r)),yield r.initializeCurrentUser(t),!r._deleted&&(r._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var e=this;return E(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t)}})()}initializeCurrentUser(e){var t=this;return E(function*(){var r;let i=yield t.assertedPersistence.getCurrentUser();if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const s=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,o=null==i?void 0:i._redirectEventId,a=yield t.tryRedirectSignIn(e);(!s||s===o)&&(null==a?void 0:a.user)&&(i=a.user)}return i?i._redirectEventId?(R(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===i._redirectEventId?t.directlySetCurrentUser(i):t.reloadAndSetCurrentUserOrClear(i)):t.reloadAndSetCurrentUserOrClear(i):t.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var t=this;return E(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(i){yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return E(function*(){try{yield _u(e)}catch(r){if("auth/network-request-failed"!==r.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return E(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return E(function*(){const r=e?ti(e):null;return r&&R(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e){var t=this;return E(function*(){if(!t._deleted)return e&&R(t.tenantId===e.tenantId,t,"tenant-id-mismatch"),t.queue(E(function*(){yield t.directlySetCurrentUser(e),t.notifyAuthListeners()}))})()}signOut(){var e=this;return E(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var t=this;return this.queue(E(function*(){yield t.assertedPersistence.setPersistence(Vi(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return E(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return E(function*(){if(!t.redirectPersistenceManager){const r=e&&Vi(e)||t._popupRedirectResolver;R(r,t,"argument-error"),t.redirectPersistenceManager=yield vl.create(t,[Vi(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return E(function*(){var r,i;return t._isInitialized&&(yield t.queue(E(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return E(function*(){if(e===t.currentUser)return t.queue(E(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return R(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return E(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return R(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}class uO{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(n,e){const t=new GK(n,void 0);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return R(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}new WeakMap,Math.floor(1e6*Math.random()),new pu(3e4,6e4),new pu(2e3,1e4),new Map,new pu(3e4,6e4),new pu(5e3,15e3),new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);class aX{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return E(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){R(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function(n){fn(new rn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),{apiKey:i,authDomain:s}=r.options;return(o=>{R(i&&!i.includes(":"),"invalid-api-key",{appName:o.name}),R(!(null==s?void 0:s.includes(":")),"argument-error",{appName:o.name});const a={apiKey:i,authDomain:s,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cO(n)},l=new mQ(o,a);return function(n,e){const t=(null==e?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Vi);(null==e?void 0:e.errorMap)&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(l,t),l})(r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),fn(new rn("auth-internal",e=>{const t=function(n){return ti(n)}(e.getProvider("auth").getImmediate());return new aX(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),xn("@firebase/auth","0.18.2",void 0)}("Browser");class jO{constructor(){return Zb("auth")}}const HO=new Map,fX={activated:!1,tokenObservers:[]},pX={initialized:!1,enabled:!1};function sn(n){return HO.get(n)||fX}function ii(n,e){HO.set(n,e)}function Wf(){return pX}class mX{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return E(function*(){t.stop();try{t.pending=new so,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new so,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const On=new Zr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function GO(n){if(!sn(n).activated)throw On.create("use-before-activation",{appName:n.name})}function qO(n,e){return tw.apply(this,arguments)}function tw(){return(tw=E(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(n,s)}catch(d){throw On.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==o.status)throw On.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw On.create("fetch-parse-error",{originalErrorMessage:d.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw On.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(l[1]),u=Date.now();return{token:a.attestationToken,expireTimeMillis:u+c,issuedAtTimeMillis:u}})).apply(this,arguments)}function CX(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Eu="firebase-app-check-store";let zf=null;function YO(){return zf||(zf=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(On.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Eu,{keyPath:"compositeKey"})}}}catch(t){e(On.create("storage-open",{originalErrorMessage:t.message}))}}),zf)}function nw(){return(nw=E(function*(n,e){const r=(yield YO()).transaction(Eu,"readwrite"),s=r.objectStore(Eu).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var c;a(On.create("storage-set",{originalErrorMessage:null===(c=l.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const Gf=new cl("@firebase/app-check");function ZO(n,e){return al()?function(n,e){return function(n,e){return nw.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Gf.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function eN(){return Wf().enabled}function tN(){return ow.apply(this,arguments)}function ow(){return(ow=E(function*(){const n=Wf();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const xX={error:"UNKNOWN_ERROR"};function PX(n){return uf.encodeString(JSON.stringify(n),!1)}function qf(n){return aw.apply(this,arguments)}function aw(){return(aw=E(function*(n,e=!1){const t=n.app;GO(t);const r=sn(t);let s,o,i=r.token;if(!i){const a=yield r.cachedTokenPromise;a&&Cu(a)&&(i=a,ii(t,Object.assign(Object.assign({},r),{token:i})),rN(t,{token:i.token}))}if(!e&&i&&Cu(i))return{token:i.token};if(eN()){const a=yield qO(CX(t,yield tN()),n.platformLoggerProvider);return yield ZO(t,a),ii(t,Object.assign(Object.assign({},r),{token:a})),{token:a.token}}try{i=yield r.provider.getToken()}catch(a){Gf.error(a),s=a}return i?(o={token:i.token},ii(t,Object.assign(Object.assign({},r),{token:i})),yield ZO(t,i)):o=NX(s),rN(t,o),o})).apply(this,arguments)}function lw(n,e){const t=sn(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ii(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function rN(n,e){const t=sn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function Cu(n){return n.expireTimeMillis-Date.now()>0}function NX(n){return{token:PX(xX),error:n}}class FX{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=sn(this.app);for(const t of e)lw(this.app,t.next);return Promise.resolve()}}const aN="app-check-internal";fn(new rn("app-check",n=>function(n,e){return new FX(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(aN).initialize()})),fn(new rn(aN,n=>function(n){return{getToken:e=>qf(n,e),addTokenListener:e=>function(n,e,t,r){const{app:i}=n,s=sn(i),o={next:t,error:r,type:e},a=Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]});if(!a.tokenRefresher){const l=function(n){const{app:e}=n;return new mX(E(function*(){let r;if(r=sn(e).token?yield qf(n,!0):yield qf(n),r.error)throw r.error}),()=>!0,()=>{const t=sn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n);a.tokenRefresher=l}if(!a.tokenRefresher.isRunning()&&s.isTokenAutoRefreshEnabled&&a.tokenRefresher.start(),s.token&&Cu(s.token)){const l=s.token;Promise.resolve().then(()=>t({token:l.token})).catch(()=>{})}else null==s.token&&s.cachedTokenPromise.then(l=>{l&&Cu(l)&&t({token:l.token})}).catch(()=>{});ii(i,a)}(n,"INTERNAL",e),removeTokenListener:e=>lw(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),xn("@firebase/app-check","0.4.2");class cN{constructor(){return Zb("app-check")}}"undefined"!=typeof window&&window;class eZ{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new fw(e,this.delay,this.scheduler))}}class fw extends _e{constructor(e,t,r){super(e),this.delay=t,this.scheduler=r,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,r=t.queue,i=e.scheduler,s=e.destination;for(;r.length>0&&r[0].time-i.now()<=0;)r.shift().notification.observe(s);if(r.length>0){const o=Math.max(0,r[0].time-i.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(fw.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,r=new tZ(t.now()+this.delay,e);this.queue.push(r),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(gn.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(gn.createComplete()),this.unsubscribe()}}class tZ{constructor(e,t){this.time=e,this.notification=t}}let pw="";class sZ{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),St(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:cu(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class oZ{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return ei(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const uN=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new sZ(e)}}catch(e){}return new oZ},bo=uN("localStorage"),gw=uN("sessionStorage"),bl=new cl("@firebase/database"),dN=function(){let n=1;return function(){return n++}}(),hN=function(n){const e=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,I(r<n.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(n.charCodeAt(r)-56320)}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e}(n),t=new WK;t.update(e);const r=t.digest();return uf.encodeByteArray(r)},wu=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=wu.apply(null,r):e+="object"==typeof r?St(r):r,e+=" "}return e};let Eo=null,fN=!0;const Mt=function(...n){if(!0===fN&&(fN=!1,null===Eo&&!0===gw.get("logging_enabled")&&function(n,e){I(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(bl.logLevel=Oe.VERBOSE,Eo=bl.log.bind(bl),e&&gw.set("logging_enabled",!0)):"function"==typeof n?Eo=n:(Eo=null,gw.remove("logging_enabled"))}(!0)),Eo){const e=wu.apply(null,n);Eo(e)}},Iu=function(n){return function(...e){Mt(n,...e)}},_w=function(...n){const e="FIREBASE INTERNAL ERROR: "+wu(...n);bl.error(e)},si=function(...n){const e=`FIREBASE FATAL ERROR: ${wu(...n)}`;throw bl.error(e),new Error(e)},on=function(...n){const e="FIREBASE WARNING: "+wu(...n);bl.warn(e)},Kf=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Hi="[MIN_NAME]",oi="[MAX_NAME]",Co=function(n,e){if(n===e)return 0;if(n===Hi||e===oi)return-1;if(e===Hi||n===oi)return 1;{const t=Yf(n),r=Yf(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},cZ=function(n,e){return n===e?0:n<e?-1:1},Tu=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+St(e))},mw=function(n){if("object"!=typeof n||null===n)return St(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=St(e[r]),t+=":",t+=mw(n[e[r]]);return t+="}",t},gN=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function kt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const _N=function(n){I(!Kf(n),"Invalid JSON number");const r=1023;let i,s,o,a,l;0===n?(s=0,o=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=a+r,o=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const c=[];for(l=52;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=11;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},fZ=new RegExp("^-?(0*)\\d{1,10}$"),Yf=function(n){if(fZ.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},El=function(n){try{n()}catch(e){setTimeout(()=>{throw on("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Du=function(n,e){const t=setTimeout(n,e);return"object"==typeof t&&t.unref&&t.unref(),t};class gZ{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){on(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class _Z{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Mt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',on(e)}}let Su=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const CN=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,IN="websocket",TN="long_polling";class bw{constructor(e,t,r,i,s=!1,o="",a=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=bo.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&bo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function DN(n,e,t){let r;if(I("string"==typeof e,"typeof type must == string"),I("object"==typeof t,"typeof params must == object"),e===IN)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==TN)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return kt(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class vZ{constructor(){this.counters_={}}incrementCounter(e,t=1){ei(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return FK(this.counters_)}}const Ew={},Cw={};function ww(n){const e=n.toString();return Ew[e]||(Ew[e]=new vZ),Ew[e]}class EZ{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&El(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Cl{constructor(e,t,r,i,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Iu(e),this.stats_=ww(t),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),DN(t,TN,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new EZ(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Iw((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=l;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&CN.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Cl.forceAllow_=!0}static forceDisallow(){Cl.forceDisallow_=!0}static isAvailable(){return!(!Cl.forceAllow_&&(Cl.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=St(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=function(n){const e=kx(n);return uf.encodeByteArray(e,!0)}(t),i=gN(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=St(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Iw{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=dN(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Iw.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Mt("frame writing exception"),a.stack&&Mt(a.stack),Mt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Mt("No IE domain setting required")}catch(t){const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Mt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let Au=null;"undefined"!=typeof MozWebSocket?Au=MozWebSocket:"undefined"!=typeof WebSocket&&(Au=WebSocket);let Ru=(()=>{class n{constructor(t,r,i,s,o,a,l){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Iu(this.connId),this.stats_=ww(r),this.connURL=n.connectionURL_(r,a,l,s),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s){const o={v:"5"};return"undefined"!=typeof location&&location.hostname&&CN.test(location.hostname)&&(o.r="f"),r&&(o.s=r),i&&(o.ls=i),s&&(o.ac=s),DN(t,IN,o)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,bo.set("previous_websocket_failure",!0);try{this.mySock=new Au(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==Au&&!n.forceDisallow_}static previouslyFailed(){return bo.isInMemoryStorage||!0===bo.get("previous_websocket_failure")}markConnectionHealthy(){bo.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=cu(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(I(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=St(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=gN(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class Tw{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Cl,Ru]}initTransports_(e){const t=Ru&&Ru.isAvailable();let r=t&&!Ru.previouslyFailed();if(e.webSocketOnly&&(t||on("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ru];else{const i=this.transports_=[];for(const s of Tw.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class BN{constructor(e,t,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Iu("c:"+this.id+":"),this.transportManager_=new Tw(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Du(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Tu("t",e),r=Tu("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Tu("t",e),r=Tu("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Tu("t",e);if("d"in e){const r=e.d;if("h"===t)this.onHandshake_(r);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?_w("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):_w("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&on("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Du(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Du(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(bo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class UN{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class jN{constructor(e){this.allowedEvents_=e,this.listeners_={},I(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){I(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Jf extends jN{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!dv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Jf}getInitialEvent(e){return I("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Ne{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Re(){return new Ne("")}function le(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Es(n){return n.pieces_.length-n.pieceNum_}function Ue(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Ne(n.pieces_,e)}function Sw(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Mu(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function WN(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Ne(e,0)}function Ke(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof Ne)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new Ne(t,0)}function ce(n){return n.pieceNum_>=n.pieces_.length}function an(n,e){const t=le(n),r=le(e);if(null===t)return e;if(t===r)return an(Ue(n),Ue(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function $Z(n,e){const t=Mu(n,0),r=Mu(e,0);for(let i=0;i<t.length&&i<r.length;i++){const s=Co(t[i],r[i]);if(0!==s)return s}return t.length===r.length?0:t.length<r.length?-1:1}function Aw(n,e){if(Es(n)!==Es(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function tr(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Es(n)>Es(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class WZ{constructor(e,t){this.errorPrefix_=t,this.parts_=Mu(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=pf(this.parts_[r]);zN(this)}}function zN(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+wo(n))}function wo(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Rw extends jN{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Rw}getInitialEvent(e){return I("visible"===e,"Unknown event type: "+e),[this.visible_]}}const ku=1e3;let Zf,Io=(()=>{class n extends UN{constructor(t,r,i,s,o,a,l,c){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=n.nextPersistentConnectionId_++,this.log_=Iu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ku,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Rw.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&Jf.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,o={r:s,a:t,b:r};this.log_(St(o)),I(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new so,i={p:t._path.toString(),q:t._queryObject},s={action:"g",request:i,onComplete:a=>{const l=a.d;"ok"===a.s?(this.onDataUpdate_(i.p,l,!1,null),r.resolve(l)):r.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const a=this.outstandingGets_[o];void 0===a||s!==a||(delete this.outstandingGets_[o],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+o+" timed out on connection"),r.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(o),r.promise}listen(t,r,i,s){this.initConnection_();const o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),I(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),I(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};t.tag&&(o.q=r._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,l=>{const c=l.d,u=l.s;n.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",l),"ok"!==u&&this.removeListen_(i,s),t.onComplete&&t.onComplete(u,c))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&ei(t,"w")){const i=ll(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();on(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=hf(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=function(n){const t=hf(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===t&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),I(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const o={p:t};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+St(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):_w("Unrecognized action received from server: "+St(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){I(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ku,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=ku,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ku),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return E(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),o=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let l=!1,c=null;const u=function(){c?c.close():(l=!0,s())};t.realtime_={close:u,sendRequest:function(f){I(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)}};const h=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([t.authTokenProvider_.getToken(h),t.appCheckTokenProvider_.getToken(h)]);l?Mt("getToken() completed but was canceled"):(Mt("getToken() completed. Creating connection."),t.authToken_=f&&f.accessToken,t.appCheckToken_=p&&p.token,c=new BN(o,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,_=>{on(_+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(f){t.log_("Failed to get token: "+f),l||(t.repoInfo_.nodeAdmin&&on(f),u())}}})()}interrupt(t){Mt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Mt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Fx(this.interruptReasons_)&&(this.reconnectDelay_=ku,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(o=>mw(o)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new Ne(t).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){Mt("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Mt("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+pw.replace(/\./g,"-")]=1,dv()?t["framework.cordova"]=1:Nx()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Jf.getInstance().currentlyOnline();return Fx(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class fe{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new fe(e,t)}}class Xf{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new fe(Hi,e),i=new fe(Hi,t);return 0!==this.compare(r,i)}minPost(){return fe.MIN}}class KN extends Xf{static get __EMPTY_NODE(){return Zf}static set __EMPTY_NODE(e){Zf=e}compare(e,t){return Co(e.name,t.name)}isDefinedOn(e){throw ol("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return fe.MIN}maxPost(){return new fe(oi,Zf)}makePost(e,t){return I("string"==typeof e,"KeyIndex indexValue must always be a string."),new fe(e,Zf)}toString(){return".key"}}const ai=new KN;class ep{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?r(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let kw,xr=(()=>{class n{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=null!=i?i:n.RED,this.left=null!=s?s:yn.EMPTY_NODE,this.right=null!=o?o:yn.EMPTY_NODE}copy(t,r,i,s,o){return new n(null!=t?t:this.key,null!=r?r:this.value,null!=i?i:this.color,null!=s?s:this.left,null!=o?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return yn.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return yn.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class yn{constructor(e,t=yn.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new yn(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,xr.BLACK,null,null))}remove(e){return new yn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,xr.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ep(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new ep(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new ep(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new ep(this.root_,null,this.comparator_,!0,e)}}function ZZ(n,e){return Co(n.name,e.name)}function Mw(n,e){return Co(n,e)}yn.EMPTY_NODE=new class{copy(e,t,r,i,s){return this}insert(e,t,r){return new xr(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const YN=function(n){return"number"==typeof n?"number:"+_N(n):"string:"+n},QN=function(n){if(n.isLeafNode()){const e=n.val();I("string"==typeof e||"number"==typeof e||"object"==typeof e&&ei(e,".sv"),"Priority must be a string or number.")}else I(n===kw||n.isEmpty(),"priority of unexpected type.");I(n===kw||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let JN,XN,ZN,wl=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,I(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),QN(this.priorityNode_)}static set __childrenNodeConstructor(t){JN=t}static get __childrenNodeConstructor(){return JN}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ce(t)?this:".priority"===le(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=le(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:(I(".priority"!==i||1===Es(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ue(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+YN(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?_N(this.value_):this.value_,this.lazyHash_=hN(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(I(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),o=n.VALUE_TYPE_ORDER.indexOf(i);return I(s>=0,"Unknown leaf type: "+r),I(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const $e=new class extends Xf{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?Co(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return fe.MIN}maxPost(){return new fe(oi,new wl("[PRIORITY-POST]",ZN))}makePost(e,t){const r=XN(e);return new fe(t,new wl("[PRIORITY-POST]",r))}toString(){return".priority"}},iee=Math.log(2);class see{constructor(e){this.count=parseInt(Math.log(e+1)/iee,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const tp=function(n,e,t,r){n.sort(e);const i=function(l,c){const u=c-l;let d,h;if(0===u)return null;if(1===u)return d=n[l],h=t?t(d):d,new xr(h,d.node,xr.BLACK,null,null);{const f=parseInt(u/2,10)+l,p=i(l,f),_=i(f+1,c);return d=n[f],h=t?t(d):d,new xr(h,d.node,xr.BLACK,p,_)}},a=function(l){let c=null,u=null,d=n.length;const h=function(p,_){const g=d-p,v=d;d-=p;const y=i(g+1,v),w=n[g],S=t?t(w):w;f(new xr(S,w.node,_,null,y))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const _=l.nextBitIsOne(),g=Math.pow(2,l.count-(p+1));_?h(g,xr.BLACK):(h(g,xr.BLACK),h(g,xr.RED))}return u}(new see(n.length));return new yn(r||e,a)};let xw;const Il={};class $i{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return I(Il&&$e,"ChildrenNode.ts has not been loaded"),xw=xw||new $i({".priority":Il},{".priority":$e}),xw}get(e){const t=ll(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof yn?t:null}hasIndex(e){return ei(this.indexSet_,e.toString())}addIndex(e,t){I(e!==ai,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(fe.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?tp(r,e.getCompare()):Il;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new $i(u,c)}addToIndexes(e,t){const r=ff(this.indexes_,(i,s)=>{const o=ll(this.indexSet_,s);if(I(o,"Missing index implementation for "+s),i===Il){if(o.isDefinedOn(e.node)){const a=[],l=t.getIterator(fe.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),tp(a,o.getCompare())}return Il}{const a=t.get(e.name);let l=i;return a&&(l=l.remove(new fe(e.name,a))),l.insert(e,e.node)}});return new $i(r,this.indexSet_)}removeFromIndexes(e,t){const r=ff(this.indexes_,i=>{if(i===Il)return i;{const s=t.get(e.name);return s?i.remove(new fe(e.name,s)):i}});return new $i(r,this.indexSet_)}}let xu,ee=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&QN(this.priorityNode_),this.children_.isEmpty()&&I(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return xu||(xu=new n(new yn(Mw),null,$i.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||xu}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?xu:r}}getChild(t){const r=le(t);return null===r?this:this.getImmediateChild(r).getChild(Ue(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if(I(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new fe(t,r);let s,o;r.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?xu:this.priorityNode_;return new n(s,a,o)}}updateChild(t,r){const i=le(t);if(null===i)return r;{I(".priority"!==le(t)||1===Es(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Ue(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild($e,(a,l)=>{r[a]=l.val(t),i++,o&&n.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!t&&o&&s<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+YN(this.getPriority().val())+":"),this.forEachChild($e,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":hN(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new fe(t,r));return o?o.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new fe(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new fe(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,fe.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,fe.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Pu?-1:0}withIndex(t){if(t===ai||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===ai||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator($e),s=r.getIterator($e);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(t){return t===ai?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Pu=new class extends ee{constructor(){super(new yn(Mw),ee.EMPTY_NODE,$i.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ee.EMPTY_NODE}isEmpty(){return!1}};function Xe(n,e=null){if(null===n)return ee.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),I(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new wl(n,Xe(e));if(n instanceof Array){let t=ee.EMPTY_NODE;return kt(n,(r,i)=>{if(ei(n,r)&&"."!==r.substring(0,1)){const s=Xe(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(Xe(e))}{const t=[];let r=!1;if(kt(n,(o,a)=>{if("."!==o.substring(0,1)){const l=Xe(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),t.push(new fe(o,l)))}}),0===t.length)return ee.EMPTY_NODE;const s=tp(t,ZZ,o=>o.name,Mw);if(r){const o=tp(t,$e.getCompare());return new ee(s,Xe(e),new $i({".priority":o},{".priority":$e}))}return new ee(s,Xe(e),$i.Default)}}Object.defineProperties(fe,{MIN:{value:new fe(Hi,ee.EMPTY_NODE)},MAX:{value:new fe(oi,Pu)}}),KN.__EMPTY_NODE=ee.EMPTY_NODE,wl.__childrenNodeConstructor=ee,function(n){kw=n}(Pu),function(n){ZN=n}(Pu),function(n){XN=n}(Xe);class Pw extends Xf{constructor(e){super(),this.indexPath_=e,I(!ce(e)&&".priority"!==le(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return 0===s?Co(e.name,t.name):s}makePost(e,t){const r=Xe(e),i=ee.EMPTY_NODE.updateChild(this.indexPath_,r);return new fe(t,i)}maxPost(){const e=ee.EMPTY_NODE.updateChild(this.indexPath_,Pu);return new fe(oi,e)}toString(){return Mu(this.indexPath_,0).join("/")}}const Ow=new class extends Xf{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?Co(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return fe.MIN}maxPost(){return fe.MAX}makePost(e,t){const r=Xe(e);return new fe(t,r)}toString(){return".value"}};function i1(n){return{type:"value",snapshotNode:n}}function Dl(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Ou(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Nu(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class Fw{constructor(e){this.index_=e}updateChild(e,t,r,i,s,o){I(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=o&&(r.isEmpty()?e.hasChild(t)?o.trackChildChange(Ou(t,a)):I(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Dl(t,r)):o.trackChildChange(Nu(t,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return null!=r&&(e.isLeafNode()||e.forEachChild($e,(i,s)=>{t.hasChild(i)||r.trackChildChange(Ou(i,s))}),t.isLeafNode()||t.forEachChild($e,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Nu(i,s,o))}else r.trackChildChange(Dl(i,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?ee.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Fu{constructor(e){this.indexedFilter_=new Fw(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Fu.getStartPost_(e),this.endPost_=Fu.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,r,i,s,o){return this.matches(new fe(t,r))||(r=ee.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,s,o)}updateFullNode(e,t,r){t.isLeafNode()&&(t=ee.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(ee.EMPTY_NODE);const s=this;return t.forEachChild($e,(o,a)=>{s.matches(new fe(o,a))||(i=i.updateImmediateChild(o,ee.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class dee{constructor(e){this.rangedFilter_=new Fu(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,r,i,s,o){return this.rangedFilter_.matches(new fe(t,r))||(r=ee.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,s,o):this.fullLimitUpdateChild_(e,t,r,s,o)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=ee.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;i=ee.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();let l;if(l=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0,!l)break;i=i.updateImmediateChild(a.name,a.node),o++}}else{let s,o,a,l;if(i=t.withIndex(this.index_),i=i.updatePriority(ee.EMPTY_NODE),this.reverse_){l=i.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),o=this.rangedFilter_.getStartPost();const d=this.index_.getCompare();a=(h,f)=>d(f,h)}else l=i.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),o=this.rangedFilter_.getEndPost(),a=this.index_.getCompare();let c=0,u=!1;for(;l.hasNext();){const d=l.getNext();!u&&a(s,d)<=0&&(u=!0),u&&c<this.limit_&&a(d,o)<=0?c++:i=i.updateImmediateChild(d.name,ee.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();const a=e;I(a.numChildren()===this.limit_,"");const l=new fe(t,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(t)){const d=a.getImmediateChild(t);let h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=h&&(h.name===t||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const f=null==h?1:o(h,l);if(u&&!r.isEmpty()&&f>=0)return null!=s&&s.trackChildChange(Nu(t,r,d)),a.updateImmediateChild(t,r);{null!=s&&s.trackChildChange(Ou(t,d));const _=a.updateImmediateChild(t,ee.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=s&&s.trackChildChange(Dl(h.name,h.node)),_.updateImmediateChild(h.name,h.node)):_}}return r.isEmpty()?e:u&&o(c,l)>=0?(null!=s&&(s.trackChildChange(Ou(c.name,c.node)),s.trackChildChange(Dl(t,r))),a.updateImmediateChild(t,r).updateImmediateChild(c.name,ee.EMPTY_NODE)):e}}class Lw{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=$e}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return I(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return I(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Hi}hasEnd(){return this.endSet_}getIndexEndValue(){return I(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return I(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:oi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return I(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===$e}copy(){const e=new Lw;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function s1(n){const e={};if(n.isDefault())return e;let t;return n.index_===$e?t="$priority":n.index_===Ow?t="$value":n.index_===ai?t="$key":(I(n.index_ instanceof Pw,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=St(t),n.startSet_&&(e.startAt=St(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+St(n.indexStartName_))),n.endSet_&&(e.endAt=St(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+St(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function o1(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==$e&&(e.i=n.index_.toString()),e}class rp extends UN{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Iu("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(I(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=rp.getListenId_(e,r),a={};this.listens_[o]=a;const l=s1(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(404===c&&(d=null,c=null),null===c&&this.onDataUpdate_(s,d,!1,r),ll(this.listens_,o)===a){let h;h=c?401===c?"permission_denied":"rest_error:"+c:"ok",i(h,null)}})}unlisten(e,t){const r=rp.getListenId_(e,t);delete this.listens_[r]}get(e){const t=s1(e._queryParams),r=e._path.toString(),i=new so;return this.restRequest_(r+".json",t,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+gv(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=cu(a.responseText)}catch(c){on("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else 401!==a.status&&404!==a.status&&on("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class mee{constructor(){this.rootNode_=ee.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function ip(){return{value:null,children:new Map}}function Sl(n,e,t){if(ce(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=le(e);n.children.has(r)||n.children.set(r,ip()),Sl(n.children.get(r),e=Ue(e),t)}}function jw(n,e,t){null!==n.value?t(e,n.value):function(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{jw(i,new Ne(e.toString()+"/"+r),t)})}class vee{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&kt(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class Cee{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new vee(e);const r=1e4+2e4*Math.random();Du(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;kt(e,(i,s)=>{s>0&&ei(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),Du(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var nr=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(nr||(nr={})),nr))();function Ww(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class sp{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=nr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(ce(this.path)){if(null!=this.affectedTree.value)return I(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Ne(e));return new sp(Re(),t,this.revert)}}return I(le(this.path)===e,"operationForChild called for unrelated child."),new sp(Ue(this.path),this.affectedTree,this.revert)}}class Lu{constructor(e,t){this.source=e,this.path=t,this.type=nr.LISTEN_COMPLETE}operationForChild(e){return ce(this.path)?new Lu(this.source,Re()):new Lu(this.source,Ue(this.path))}}class To{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=nr.OVERWRITE}operationForChild(e){return ce(this.path)?new To(this.source,Re(),this.snap.getImmediateChild(e)):new To(this.source,Ue(this.path),this.snap)}}class Al{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=nr.MERGE}operationForChild(e){if(ce(this.path)){const t=this.children.subtree(new Ne(e));return t.isEmpty()?null:t.value?new To(this.source,Re(),t.value):new Al(this.source,Re(),t)}return I(le(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Al(this.source,Ue(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Cs{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ce(e))return this.isFullyInitialized()&&!this.filtered_;const t=le(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class wee{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Vu(n,e,t,r,i,s){const o=r.filter(a=>a.type===t);o.sort((a,l)=>function(n,e,t){if(null==e.childName||null==t.childName)throw ol("Should only compare child_ events.");const r=new fe(e.childName,e.snapshotNode),i=new fe(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,a,l)),o.forEach(a=>{const l=function(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,n.query_))})})}function op(n,e){return{eventCache:n,serverCache:e}}function Bu(n,e,t,r){return op(new Cs(e,t,r),n.serverCache)}function l1(n,e,t,r){return op(n.eventCache,new Cs(e,t,r))}function ap(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Do(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let zw;class We{constructor(e,t=(()=>(zw||(zw=new yn(cZ)),zw))()){this.value=e,this.children=t}static fromObject(e){let t=new We(null);return kt(e,(r,i)=>{t=t.set(new Ne(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Re(),value:this.value};if(ce(e))return null;{const r=le(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(Ue(e),t);return null!=s?{path:Ke(new Ne(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ce(e))return this;{const t=le(e),r=this.children.get(t);return null!==r?r.subtree(Ue(e)):new We(null)}}set(e,t){if(ce(e))return new We(t,this.children);{const r=le(e),s=(this.children.get(r)||new We(null)).set(Ue(e),t),o=this.children.insert(r,s);return new We(this.value,o)}}remove(e){if(ce(e))return this.children.isEmpty()?new We(null):new We(null,this.children);{const t=le(e),r=this.children.get(t);if(r){const i=r.remove(Ue(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new We(null):new We(this.value,s)}return this}}get(e){if(ce(e))return this.value;{const t=le(e),r=this.children.get(t);return r?r.get(Ue(e)):null}}setTree(e,t){if(ce(e))return t;{const r=le(e),s=(this.children.get(r)||new We(null)).setTree(Ue(e),t);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new We(this.value,o)}}fold(e){return this.fold_(Re(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Ke(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Re(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(ce(e))return null;{const s=le(e),o=this.children.get(s);return o?o.findOnPath_(Ue(e),Ke(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Re(),t)}foreachOnPath_(e,t,r){if(ce(e))return this;{this.value&&r(t,this.value);const i=le(e),s=this.children.get(i);return s?s.foreachOnPath_(Ue(e),Ke(t,i),r):new We(null)}}foreach(e){this.foreach_(Re(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(Ke(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class Pr{constructor(e){this.writeTree_=e}static empty(){return new Pr(new We(null))}}function Uu(n,e,t){if(ce(e))return new Pr(new We(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=an(i,e);return s=s.updateChild(o,t),new Pr(n.writeTree_.set(i,s))}{const i=new We(t),s=n.writeTree_.setTree(e,i);return new Pr(s)}}}function Gw(n,e,t){let r=n;return kt(t,(i,s)=>{r=Uu(r,Ke(e,i),s)}),r}function c1(n,e){if(ce(e))return Pr.empty();{const t=n.writeTree_.setTree(e,new We(null));return new Pr(t)}}function qw(n,e){return null!=So(n,e)}function So(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(an(t.path,e)):null}function u1(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild($e,(r,i)=>{e.push(new fe(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new fe(r,i.value))}),e}function ws(n,e){if(ce(e))return n;{const t=So(n,e);return new Pr(null!=t?new We(t):n.writeTree_.subtree(e))}}function Kw(n){return n.writeTree_.isEmpty()}function Rl(n,e){return d1(Re(),n.writeTree_,e)}function d1(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(I(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):t=d1(Ke(n,i),s,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(Ke(n,".priority"),r)),t}}function lp(n,e){return _1(e,n)}function xee(n,e){if(n.snap)return tr(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&tr(Ke(n.path,t),e))return!0;return!1}function Oee(n){return n.visible}function h1(n,e,t){let r=Pr.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const o=s.path;let a;if(s.snap)tr(t,o)?(a=an(t,o),r=Uu(r,a,s.snap)):tr(o,t)&&(a=an(o,t),r=Uu(r,Re(),s.snap.getChild(a)));else{if(!s.children)throw ol("WriteRecord should have .snap or .children");if(tr(t,o))a=an(t,o),r=Gw(r,a,s.children);else if(tr(o,t))if(a=an(o,t),ce(a))r=Gw(r,Re(),s.children);else{const l=ll(s.children,le(a));if(l){const c=l.getChild(Ue(a));r=Uu(r,Re(),c)}}}}}return r}function f1(n,e,t,r,i){if(r||i){const s=ws(n.visibleWrites,e);return!i&&Kw(s)?t:i||null!=t||qw(s,Re())?Rl(h1(n.allWrites,function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(tr(c.path,e)||tr(e,c.path))},e),t||ee.EMPTY_NODE):null}{const s=So(n.visibleWrites,e);if(null!=s)return s;{const o=ws(n.visibleWrites,e);return Kw(o)?t:null!=t||qw(o,Re())?Rl(o,t||ee.EMPTY_NODE):null}}}function cp(n,e,t,r){return f1(n.writeTree,n.treePath,e,t,r)}function Yw(n,e){return function(n,e,t){let r=ee.EMPTY_NODE;const i=So(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild($e,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){const s=ws(n.visibleWrites,e);return t.forEachChild($e,(o,a)=>{const l=Rl(ws(s,new Ne(o)),a);r=r.updateImmediateChild(o,l)}),u1(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return u1(ws(n.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(n.writeTree,n.treePath,e)}function p1(n,e,t,r){return function(n,e,t,r,i){I(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Ke(e,t);if(qw(n.visibleWrites,s))return null;{const o=ws(n.visibleWrites,s);return Kw(o)?i.getChild(t):Rl(o,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function up(n,e){return function(n,e){return So(n.visibleWrites,e)}(n.writeTree,Ke(n.treePath,e))}function Qw(n,e,t){return function(n,e,t,r){const i=Ke(e,t),s=So(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(t)?Rl(ws(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function g1(n,e){return _1(Ke(n.treePath,e),n.writeTree)}function _1(n,e){return{treePath:n,writeTree:e}}class Hee{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;I("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),I(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(r,Nu(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(r,Ou(r,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(r,Dl(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw ol("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,Nu(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const m1=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class Jw{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Cs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Qw(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Do(this.viewCache_),s=function(n,e,t,r,i,s){return function(n,e,t,r,i,s,o){let a;const l=ws(n.visibleWrites,e),c=So(l,Re());if(null!=c)a=c;else{if(null==t)return[];a=Rl(l,t)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&u.length<i;)0!==d(f,r)&&u.push(f),f=h.getNext();return u}}(n.writeTree,n.treePath,e,t,r,i,s)}(this.writes_,i,t,1,r,e);return 0===s.length?null:s[0]}}function y1(n,e,t,r,i,s){const o=e.eventCache;if(null!=up(r,t))return e;{let a,l;if(ce(t))if(I(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Do(e),d=Yw(r,c instanceof ee?c:ee.EMPTY_NODE);a=n.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=cp(r,Do(e));a=n.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=le(t);if(".priority"===c){I(1===Es(t),"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=p1(r,t,u,l);a=null!=d?n.filter.updatePriority(u,d):o.getNode()}else{const u=Ue(t);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=p1(r,t,o.getNode(),l);d=null!=h?o.getNode().getImmediateChild(c).updateChild(u,h):o.getNode().getImmediateChild(c)}else d=Qw(r,c,e.serverCache);a=null!=d?n.filter.updateChild(o.getNode(),c,d,u,i,s):o.getNode()}}return Bu(e,a,o.isFullyInitialized()||ce(t),n.filter.filtersNodes())}}function dp(n,e,t,r,i,s,o,a){const l=e.serverCache;let c;const u=o?n.filter:n.filter.getIndexedFilter();if(ce(t))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(t,r);c=u.updateFullNode(l.getNode(),f,null)}else{const f=le(t);if(!l.isCompleteForPath(t)&&Es(t)>1)return e;const p=Ue(t),g=l.getNode().getImmediateChild(f).updateChild(p,r);c=".priority"===f?u.updatePriority(l.getNode(),g):u.updateChild(l.getNode(),f,g,p,m1,null)}const d=l1(e,c,l.isFullyInitialized()||ce(t),u.filtersNodes());return y1(n,d,t,i,new Jw(i,d,s),a)}function Xw(n,e,t,r,i,s,o){const a=e.eventCache;let l,c;const u=new Jw(i,e,s);if(ce(t))c=n.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Bu(e,c,!0,n.filter.filtersNodes());else{const d=le(t);if(".priority"===d)c=n.filter.updatePriority(e.eventCache.getNode(),r),l=Bu(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=Ue(t),f=a.getNode().getImmediateChild(d);let p;if(ce(h))p=r;else{const _=u.getCompleteChild(d);p=null!=_?".priority"===Sw(h)&&_.getChild(WN(h)).isEmpty()?_:_.updateChild(h,r):ee.EMPTY_NODE}l=f.equals(p)?e:Bu(e,n.filter.updateChild(a.getNode(),d,p,h,u,o),a.isFullyInitialized(),n.filter.filtersNodes())}}return l}function v1(n,e){return n.eventCache.isCompleteForChild(e)}function b1(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Zw(n,e,t,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c,l=e;c=ce(t)?r:new We(null).setTree(t,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const p=b1(0,e.serverCache.getNode().getImmediateChild(d),h);l=dp(n,l,new Ne(d),p,i,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&void 0===h.value;if(!u.hasChild(d)&&!f){const _=b1(0,e.serverCache.getNode().getImmediateChild(d),h);l=dp(n,l,new Ne(d),_,i,s,o,a)}}),l}class Xee{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Fw(r.getIndex()),s=function(n){return n.loadsAllData()?new Fw(n.getIndex()):n.hasLimit()?new dee(n):new Fu(n)}(r);this.processor_=function(n){return{filter:n}}(s);const o=t.serverCache,a=t.eventCache,l=i.updateFullNode(ee.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(ee.EMPTY_NODE,a.getNode(),null),u=new Cs(l,o.isFullyInitialized(),i.filtersNodes()),d=new Cs(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=op(d,u),this.eventGenerator_=new wee(this.query_)}get query(){return this.query_}}function tte(n,e){const t=Do(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!ce(e)&&!t.getImmediateChild(le(e)).isEmpty())?t.getChild(e):null}function E1(n){return 0===n.eventRegistrations_.length}function C1(n,e,t){const r=[];if(t){I(null==e,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(t,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<n.eventRegistrations_.length;++s){const o=n.eventRegistrations_[s];if(o.matches(e)){if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(s+1));break}}else i.push(o)}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function w1(n,e,t,r){e.type===nr.MERGE&&null!==e.source.queryId&&(I(Do(n.viewCache_),"We should always have a full cache before handling merges"),I(ap(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function(n,e,t,r,i){const s=new Hee;let o,a;if(t.type===nr.OVERWRITE){const c=t;c.source.fromUser?o=Xw(n,e,c.path,c.snap,r,i,s):(I(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ce(c.path),o=dp(n,e,c.path,c.snap,r,i,a,s))}else if(t.type===nr.MERGE){const c=t;c.source.fromUser?o=function(n,e,t,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=Ke(t,l);v1(e,le(u))&&(a=Xw(n,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=Ke(t,l);v1(e,le(u))||(a=Xw(n,a,u,c,i,s,o))}),a}(n,e,c.path,c.children,r,i,s):(I(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Zw(n,e,c.path,c.children,r,i,a,s))}else if(t.type===nr.ACK_USER_WRITE){const c=t;o=c.revert?function(n,e,t,r,i,s){let o;if(null!=up(r,t))return e;{const a=new Jw(r,e,i),l=e.eventCache.getNode();let c;if(ce(t)||".priority"===le(t)){let u;if(e.serverCache.isFullyInitialized())u=cp(r,Do(e));else{const d=e.serverCache.getNode();I(d instanceof ee,"serverChildren would be complete if leaf node"),u=Yw(r,d)}u=u,c=n.filter.updateFullNode(l,u,s)}else{const u=le(t);let d=Qw(r,u,e.serverCache);null==d&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),c=null!=d?n.filter.updateChild(l,u,d,Ue(t),a,s):e.eventCache.getNode().hasChild(u)?n.filter.updateChild(l,u,ee.EMPTY_NODE,Ue(t),a,s):l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=cp(r,Do(e)),o.isLeafNode()&&(c=n.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=up(r,Re()),Bu(e,c,o,n.filter.filtersNodes())}}(n,e,c.path,r,i,s):function(n,e,t,r,i,s,o){if(null!=up(i,t))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=r.value){if(ce(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return dp(n,e,t,l.getNode().getChild(t),i,s,a,o);if(ce(t)){let c=new We(null);return l.getNode().forEachChild(ai,(u,d)=>{c=c.set(new Ne(u),d)}),Zw(n,e,t,c,i,s,a,o)}return e}{let c=new We(null);return r.foreach((u,d)=>{const h=Ke(t,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),Zw(n,e,t,c,i,s,a,o)}}(n,e,c.path,c.affectedTree,r,i,s)}else{if(t.type!==nr.LISTEN_COMPLETE)throw ol("Unknown operation type: "+t.type);o=function(n,e,t,r,i){const s=e.serverCache;return y1(n,l1(e,s.getNode(),s.isFullyInitialized()||ce(t),s.isFiltered()),t,r,m1,i)}(n,e,t.path,r,s)}const l=s.getChanges();return function(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=ap(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(i1(ap(e)))}}(e,o,l),{viewCache:o,changes:l}}(n.processor_,i,e,t,r);return function(n,e){I(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),I(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),I(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,I1(n,s.changes,s.viewCache.eventCache.getNode(),null)}function I1(n,e,t,r){return function(n,e,t,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(o.childName,o.snapshotNode))}),Vu(n,i,"child_removed",e,r,t),Vu(n,i,"child_added",e,r,t),Vu(n,i,"child_moved",s,r,t),Vu(n,i,"child_changed",e,r,t),Vu(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}let hp,pp;class T1{constructor(){this.views=new Map}}function eI(n,e,t,r){const i=e.source.queryId;if(null!==i){const s=n.views.get(i);return I(null!=s,"SyncTree gave us an op for an invalid query."),w1(s,e,t,r)}{let s=[];for(const o of n.views.values())s=s.concat(w1(o,e,t,r));return s}}function ate(n,e,t,r,i,s){const o=function(n,e,t,r,i){const o=n.views.get(e._queryIdentifier);if(!o){let a=cp(t,i?r:null),l=!1;a?l=!0:r instanceof ee?(a=Yw(t,r),l=!1):(a=ee.EMPTY_NODE,l=!1);const c=op(new Cs(a,l,!1),new Cs(r,i,!1));return new Xee(e,c)}return o}(n,e,r,i,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,o),function(n,e){n.eventRegistrations_.push(e)}(o,t),function(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild($e,(s,o)=>{r.push(Dl(s,o))}),t.isFullyInitialized()&&r.push(i1(t.getNode())),I1(n,r,t.getNode(),e)}(o,t)}function S1(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Is(n,e){let t=null;for(const r of n.views.values())t=t||tte(r,e);return t}function A1(n,e){return e._queryParams.loadsAllData()?fp(n):n.views.get(e._queryIdentifier)}function R1(n,e){return null!=A1(n,e)}function Ts(n){return null!=fp(n)}function fp(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let dte=1;class M1{constructor(e){this.listenProvider_=e,this.syncPointTree_=new We(null),this.pendingWriteTree_={visibleWrites:Pr.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function tI(n,e,t,r,i){return function(n,e,t,r,i){I(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Uu(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?Ml(n,new To({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Ds(n,e,t=!1){const r=function(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);I(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=t&&xee(a,r.path)?i=!1:tr(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function(n){n.visibleWrites=h1(n.allWrites,Oee,Re()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=c1(n.visibleWrites,r.path):kt(r.children,l=>{n.visibleWrites=c1(n.visibleWrites,Ke(r.path,l))}),!0))}(n.pendingWriteTree_,e)){let s=new We(null);return null!=r.snap?s=s.set(Re(),!0):kt(r.children,o=>{s=s.set(new Ne(o),!0)}),Ml(n,new sp(r.path,s,t))}return[]}function ju(n,e,t){return Ml(n,new To({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function nI(n,e,t,r){const i=e._path,s=n.syncPointTree_.get(i);let o=[];if(s&&("default"===e._queryIdentifier||R1(s,e))){const a=function(n,e,t,r){const i=e._queryIdentifier,s=[];let o=[];const a=Ts(n);if("default"===i)for(const[l,c]of n.views.entries())o=o.concat(C1(c,t,r)),E1(c)&&(n.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=n.views.get(i);l&&(o=o.concat(C1(l,t,r)),E1(l)&&(n.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Ts(n)&&s.push(new(I(hp,"Reference.ts has not been loaded"),hp)(e._repo,e._path)),{removed:s,events:o}}(s,e,t,r);(function(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(i));const l=a.removed;o=a.events;const c=-1!==l.findIndex(d=>d._queryParams.loadsAllData()),u=n.syncPointTree_.findOnPath(i,(d,h)=>Ts(h));if(c&&!u){const d=n.syncPointTree_.subtree(i);if(!d.isEmpty()){const h=function(n){return n.fold((e,t,r)=>{if(t&&Ts(t))return[fp(t)];{let i=[];return t&&(i=S1(t)),kt(r,(s,o)=>{i=i.concat(o)}),i}})}(d);for(let f=0;f<h.length;++f){const p=h[f],_=p.query,g=O1(n,p);n.listenProvider_.startListening(Hu(_),_p(n,_),g.hashFn,g.onComplete)}}}if(!u&&l.length>0&&!r)if(c){const d=null;n.listenProvider_.stopListening(Hu(e),d)}else l.forEach(d=>{const h=n.queryToTagMap.get(mp(d));n.listenProvider_.stopListening(Hu(d),h)});!function(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const i=mp(r),s=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(s)}}}(n,l)}return o}function k1(n,e,t){const r=e._path;let i=null,s=!1;n.syncPointTree_.foreachOnPath(r,(d,h)=>{const f=an(d,r);i=i||Is(h,f),s=s||Ts(h)});let a,o=n.syncPointTree_.get(r);o?(s=s||Ts(o),i=i||Is(o,Re())):(o=new T1,n.syncPointTree_=n.syncPointTree_.set(r,o)),null!=i?a=!0:(a=!1,i=ee.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((h,f)=>{const p=Is(f,Re());p&&(i=i.updateImmediateChild(h,p))}));const l=R1(o,e);if(!l&&!e._queryParams.loadsAllData()){const d=mp(e);I(!n.queryToTagMap.has(d),"View does not exist, but we have a tag");const h=dte++;n.queryToTagMap.set(d,h),n.tagToQueryMap.set(h,d)}let u=ate(o,e,t,lp(n.pendingWriteTree_,r),i,a);if(!l&&!s){const d=A1(o,e);u=u.concat(function(n,e,t){const r=e._path,i=_p(n,e),s=O1(n,t),o=n.listenProvider_.startListening(Hu(e),i,s.hashFn,s.onComplete),a=n.syncPointTree_.subtree(r);if(i)I(!Ts(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!ce(c)&&u&&Ts(u))return[fp(u).query];{let h=[];return u&&(h=h.concat(S1(u).map(f=>f.query))),kt(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){const u=l[c];n.listenProvider_.stopListening(Hu(u),_p(n,u))}}return o}(n,e,d))}return u}function gp(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,a)=>{const c=Is(a,an(o,e));if(c)return c});return f1(i,e,s,t,!0)}function Ml(n,e){return x1(e,n.syncPointTree_,null,lp(n.pendingWriteTree_,Re()))}function x1(n,e,t,r){if(ce(n.path))return P1(n,e,t,r);{const i=e.get(Re());null==t&&null!=i&&(t=Is(i,Re()));let s=[];const o=le(n.path),a=n.operationForChild(o),l=e.children.get(o);if(l&&a){const c=t?t.getImmediateChild(o):null,u=g1(r,o);s=s.concat(x1(a,l,c,u))}return i&&(s=s.concat(eI(i,n,r,t))),s}}function P1(n,e,t,r){const i=e.get(Re());null==t&&null!=i&&(t=Is(i,Re()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=t?t.getImmediateChild(o):null,c=g1(r,o),u=n.operationForChild(o);u&&(s=s.concat(P1(u,a,l,c)))}),i&&(s=s.concat(eI(i,n,r,t))),s}function O1(n,e){const t=e.query,r=_p(n,t);return{hashFn:()=>(function(n){return n.viewCache_.serverCache.getNode()}(e)||ee.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function(n,e,t){const r=rI(n,t);if(r){const i=iI(r),s=i.path,o=i.queryId,a=an(s,e);return sI(n,s,new Lu(Ww(o),a))}return[]}(n,t._path,r):function(n,e){return Ml(n,new Lu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}(i,t);return nI(n,t,null,s)}}}}function _p(n,e){const t=mp(e);return n.queryToTagMap.get(t)}function mp(n){return n._path.toString()+"$"+n._queryIdentifier}function rI(n,e){return n.tagToQueryMap.get(e)}function iI(n){const e=n.indexOf("$");return I(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Ne(n.substr(0,e))}}function sI(n,e,t){const r=n.syncPointTree_.get(e);return I(r,"Missing sync point for query tag that we're tracking"),eI(r,t,lp(n.pendingWriteTree_,e),null)}function Hu(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(I(pp,"Reference.ts has not been loaded"),pp)(n._repo,n._path):n}class oI{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new oI(t)}node(){return this.node_}}class aI{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Ke(this.path_,e);return new aI(this.syncTree_,t)}node(){return gp(this.syncTree_,this.path_)}}const N1=function(n,e,t){return n&&"object"==typeof n?(I(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Ite(n[".sv"],e,t):"object"==typeof n[".sv"]?Tte(n[".sv"],e):void I(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Ite=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:I(!1,"Unexpected server value: "+n)}},Tte=function(n,e,t){n.hasOwnProperty("increment")||I(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&I(!1,"Unexpected increment value: "+r);const i=e.node();if(I(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},F1=function(n,e,t,r){return cI(e,new aI(t,n),r)},lI=function(n,e,t){return cI(n,new oI(e),t)};function cI(n,e,t){const r=n.getPriority().val(),i=N1(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,a=N1(o.getValue(),e,t);return a!==o.getValue()||i!==o.getPriority().val()?new wl(a,Xe(i)):n}{const o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new wl(i))),o.forEachChild($e,(a,l)=>{const c=cI(l,e.getImmediateChild(a),t);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}class uI{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function yp(n,e){let t=e instanceof Ne?e:new Ne(e),r=n,i=le(t);for(;null!==i;){const s=ll(r.node.children,i)||{children:{},childCount:0};r=new uI(i,r,s),t=Ue(t),i=le(t)}return r}function Ao(n){return n.node.value}function dI(n,e){n.node.value=e,hI(n)}function L1(n){return n.node.childCount>0}function vp(n,e){kt(n.node.children,(t,r)=>{e(new uI(t,n,r))})}function V1(n,e,t,r){t&&!r&&e(n),vp(n,i=>{V1(i,e,!0,r)}),t&&r&&e(n)}function $u(n){return new Ne(null===n.parent?n.name:$u(n.parent)+"/"+n.name)}function hI(n){null!==n.parent&&function(n,e,t){const r=function(n){return void 0===Ao(n)&&!L1(n)}(t),i=ei(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,hI(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,hI(n))}(n.parent,n.name,n)}const Rte=/[\[\].#$\/\u0000-\u001F\u007F]/,Mte=/[\[\].#$\u0000-\u001F\u007F]/,fI=10485760,bp=function(n){return"string"==typeof n&&0!==n.length&&!Rte.test(n)},B1=function(n){return"string"==typeof n&&0!==n.length&&!Mte.test(n)},zu=function(n,e,t){const r=t instanceof Ne?new WZ(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+wo(r));if("function"==typeof e)throw new Error(n+"contains a function "+wo(r)+" with contents = "+e.toString());if(Kf(e))throw new Error(n+"contains "+e.toString()+" "+wo(r));if("string"==typeof e&&e.length>fI/3&&pf(e)>fI)throw new Error(n+"contains a string greater than "+fI+" utf8 bytes "+wo(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(kt(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!bp(o)))throw new Error(n+" contains an invalid key ("+o+") "+wo(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=pf(e),zN(n)})(r,o),zu(n,a,r),function(n){const e=n.parts_.pop();n.byteLength_-=pf(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+wo(r)+" in addition to actual children.")}},U1=function(n,e,t,r){if(r&&void 0===e)return;const i=oo(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];kt(e,(o,a)=>{const l=new Ne(o);if(zu(i,a,Ke(t,l)),".priority"===Sw(l)&&!function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Kf(n)||n&&"object"==typeof n&&ei(n,".sv")}(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),function(n,e){let t,r;for(t=0;t<e.length;t++){r=e[t];const s=Mu(r);for(let o=0;o<s.length;o++)if((".priority"!==s[o]||o!==s.length-1)&&!bp(s[o]))throw new Error(n+"contains an invalid key ("+s[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort($Z);let i=null;for(t=0;t<e.length;t++){if(r=e[t],null!==i&&tr(i,r))throw new Error(n+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)},gI=function(n,e,t,r){if(!(r&&void 0===t||B1(t)))throw new Error(oo(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')};class Ote{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ep(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==t&&!Aw(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)}function _I(n,e,t){Ep(n,t),H1(n,r=>Aw(r,e))}function rr(n,e,t){Ep(n,t),H1(n,r=>tr(r,e)||tr(e,r))}function H1(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(Nte(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function Nte(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();Eo&&Mt("event: "+t.toString()),El(r)}}}class Lte{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ote,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ip(),this.transactionQueueTree_=new uI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function W1(n){const t=n.infoData_.getNode(new Ne(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function qu(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:W1(n)})}function z1(n,e,t,r,i){n.dataUpdateCount++;const s=new Ne(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){const l=ff(t,c=>Xe(c));o=function(n,e,t,r){const i=rI(n,r);if(i){const s=iI(i),o=s.path,a=s.queryId,l=an(o,e),c=We.fromObject(t);return sI(n,o,new Al(Ww(a),l,c))}return[]}(n.serverSyncTree_,s,l,i)}else{const l=Xe(t);o=function(n,e,t,r){const i=rI(n,r);if(null!=i){const s=iI(i),o=s.path,a=s.queryId,l=an(o,e);return sI(n,o,new To(Ww(a),l,t))}return[]}(n.serverSyncTree_,s,l,i)}else if(r){const l=ff(t,c=>Xe(c));o=function(n,e,t){const r=We.fromObject(t);return Ml(n,new Al({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,s,l)}else{const l=Xe(t);o=ju(n.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=xl(n,s)),rr(n.eventQueue_,a,o)}function G1(n,e){mI(n,"connected",e),!1===e&&function(n){kl(n,"onDisconnectEvents");const e=qu(n),t=ip();jw(n.onDisconnect_,Re(),(i,s)=>{const o=F1(i,s,n.serverSyncTree_,e);Sl(t,i,o)});let r=[];jw(t,Re(),(i,s)=>{r=r.concat(ju(n.serverSyncTree_,i,s));const o=EI(n,i);xl(n,o)}),n.onDisconnect_=ip(),rr(n.eventQueue_,Re(),r)}(n)}function mI(n,e,t){const r=new Ne("/.info/"+e),i=Xe(t);n.infoData_.updateSnapshot(r,i);const s=ju(n.infoSyncTree_,r,i);rr(n.eventQueue_,r,s)}function Cp(n){return n.nextWriteId_++}function vI(n,e,t){let r;r=".info"===le(e._path)?nI(n.infoSyncTree_,e,t):nI(n.serverSyncTree_,e,t),_I(n.eventQueue_,e._path,r)}function kl(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Mt(t,...e)}function Ss(n,e,t,r){e&&El(()=>{if("ok"===t)e(null);else{const i=(t||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function bI(n,e,t){return gp(n.serverSyncTree_,e,t)||ee.EMPTY_NODE}function wp(n,e=n.transactionQueueTree_){if(e||Ip(n,e),Ao(e)){const t=Q1(n,e);I(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function(n,e,t){const r=t.map(c=>c.currentWriteId),i=bI(n,e,r);let s=i;const o=i.hash();for(let c=0;c<t.length;c++){const u=t[c];I(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=an(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;n.server_.put(l.toString(),a,c=>{kl(n,"transaction put response",{path:l.toString(),status:c});let u=[];if("ok"===c){const d=[];for(let h=0;h<t.length;h++)t[h].status=2,u=u.concat(Ds(n.serverSyncTree_,t[h].currentWriteId)),t[h].onComplete&&d.push(()=>t[h].onComplete(null,!0,t[h].currentOutputSnapshotResolved)),t[h].unwatcher();Ip(n,yp(n.transactionQueueTree_,e)),wp(n,n.transactionQueueTree_),rr(n.eventQueue_,e,u);for(let h=0;h<d.length;h++)El(d[h])}else{if("datastale"===c)for(let d=0;d<t.length;d++)t[d].status=3===t[d].status?4:0;else{on("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=c}xl(n,e)}},o)}(n,$u(e),t)}else L1(e)&&vp(e,t=>{wp(n,t)})}function xl(n,e){const t=Y1(n,e),r=$u(t);return function(n,e,t){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=an(t,l.path);let d,u=!1;if(I(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)u=!0,d=l.abortReason,i=i.concat(Ds(n.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)u=!0,d="maxretry",i=i.concat(Ds(n.serverSyncTree_,l.currentWriteId,!0));else{const h=bI(n,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){zu("transaction failed: Data returned ",f,l.path);let p=Xe(f);"object"==typeof f&&null!=f&&ei(f,".priority")||(p=p.updatePriority(h.getPriority()));const g=l.currentWriteId,v=qu(n),y=lI(p,h,v);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=y,l.currentWriteId=Cp(n),o.splice(o.indexOf(g),1),i=i.concat(tI(n.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),i=i.concat(Ds(n.serverSyncTree_,g,!0))}else u=!0,d="nodata",i=i.concat(Ds(n.serverSyncTree_,l.currentWriteId,!0))}rr(n.eventQueue_,t,i),i=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}Ip(n,n.transactionQueueTree_);for(let a=0;a<r.length;a++)El(r[a]);wp(n,n.transactionQueueTree_)}(n,Q1(n,t),r),r}function Y1(n,e){let t,r=n.transactionQueueTree_;for(t=le(e);null!==t&&void 0===Ao(r);)r=yp(r,t),t=le(e=Ue(e));return r}function Q1(n,e){const t=[];return J1(n,e,t),t.sort((r,i)=>r.order-i.order),t}function J1(n,e,t){const r=Ao(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);vp(e,i=>{J1(n,i,t)})}function Ip(n,e){const t=Ao(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,dI(e,t.length>0?t:void 0)}vp(e,r=>{Ip(n,r)})}function EI(n,e){const t=$u(Y1(n,e)),r=yp(n.transactionQueueTree_,e);return function(n,e,t){let r=n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{CI(n,i)}),CI(n,r),V1(r,i=>{CI(n,i)}),t}function CI(n,e){const t=Ao(e);if(t){const r=[];let i=[],s=-1;for(let o=0;o<t.length;o++)3===t[o].status||(1===t[o].status?(I(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):(I(0===t[o].status,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(Ds(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?dI(e,void 0):t.length=s+1,rr(n.eventQueue_,$u(e),i);for(let o=0;o<r.length;o++)El(r[o])}}const wI=function(n,e){const t=Zte(n),r=t.namespace;return"firebase.com"===t.domain&&si(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&si("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&on("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new bw(t.host,t.secure,r,e,"ws"===t.scheme||"wss"===t.scheme,"",r!==t.subdomain),path:new Ne(t.pathString)}},Zte=function(n){let e="",t="",r="",i="",s="",o=!0,a="https",l=443;if("string"==typeof n){let c=n.indexOf("//");c>=0&&(a=n.substring(0,c-1),n=n.substring(c+2));let u=n.indexOf("/");-1===u&&(u=n.length);let d=n.indexOf("?");-1===d&&(d=n.length),e=n.substring(0,Math.min(u,d)),u<d&&(i=function(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(s){}e+="/"+i}return e}(n.substring(u,d)));const h=function(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):on(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,d)));c=e.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if("localhost"===f.toLowerCase())t="localhost";else if(f.split(".").length<=2)t=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),t=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:t,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class X1{constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+St(this.snapshot.exportVal())}}class Z1{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class eF{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return I(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Nn{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return ce(this._path)?null:Sw(this._path)}get ref(){return new Or(this._repo,this._path)}get _queryIdentifier(){const e=o1(this._queryParams),t=mw(e);return"{}"===t?"default":t}get _queryObject(){return o1(this._queryParams)}isEqual(e){if(!((e=ti(e))instanceof Nn))return!1;const t=this._repo===e._repo,r=Aw(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class Or extends Nn{constructor(e,t){super(e,t,new Lw,!1)}get parent(){const e=WN(this._path);return null===e?null:new Or(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Ro{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Ne(e),r=Pl(this.ref,e);return new Ro(this._node.getChild(t),r,$e)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new Ro(i,Pl(this.ref,r),$e)))}hasChild(e){const t=new Ne(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function tF(n,e){return(n=ti(n))._checkNotDeleted("ref"),void 0!==e?Pl(n._root,e):n._root}function Pl(n,e){return null===le((n=ti(n))._path)?((t=e)&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),gI("child","path",t,!1)):gI("child","path",e,!1),new Or(n._repo,Ke(n._path,e));var t}function II(n,e){(function(n,e){if(".info"===le(e))throw new Error(n+" failed = Can't modify data under /.info/")})("set",(n=ti(n))._path),function(n,e,t,r){r&&void 0===e||zu(oo(n,"value"),e,t)}("set",e,n._path,!1);const t=new so;return function(n,e,t,r,i){kl(n,"set",{path:e.toString(),value:t,priority:r});const s=qu(n),o=Xe(t,r),a=gp(n.serverSyncTree_,e),l=lI(o,a,s),c=Cp(n),u=tI(n.serverSyncTree_,e,l,c,!0);Ep(n.eventQueue_,u),n.server_.put(e.toString(),o.val(!0),(h,f)=>{const p="ok"===h;p||on("set at "+e+" failed: "+h);const _=Ds(n.serverSyncTree_,c,!p);rr(n.eventQueue_,e,_),Ss(0,i,h,f)});const d=EI(n,e);xl(n,d),rr(n.eventQueue_,d,[])}(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function tne(n,e){U1("update",e,n._path,!1);const t=new so;return function(n,e,t,r){kl(n,"update",{path:e.toString(),value:t});let i=!0;const s=qu(n),o={};if(kt(t,(a,l)=>{i=!1,o[a]=F1(Ke(e,a),Xe(l),n.serverSyncTree_,s)}),i)Mt("update() called with empty data.  Don't do anything."),Ss(0,r,"ok",void 0);else{const a=Cp(n),l=function(n,e,t,r){!function(n,e,t,r){I(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:r,visible:!0}),n.visibleWrites=Gw(n.visibleWrites,e,t),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r);const i=We.fromObject(t);return Ml(n,new Al({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,e,o,a);Ep(n.eventQueue_,l),n.server_.merge(e.toString(),t,(c,u)=>{const d="ok"===c;d||on("update at "+e+" failed: "+c);const h=Ds(n.serverSyncTree_,a,!d),f=h.length>0?xl(n,e):e;rr(n.eventQueue_,f,h),Ss(0,r,c,u)}),kt(t,c=>{const u=EI(n,Ke(e,c));xl(n,u)}),rr(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}class Sp{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const r=t._queryParams.getIndex();return new X1("value",this,new Ro(e.snapshotNode,new Or(t._repo,t._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Z1(this,e,t):null}matches(e){return e instanceof Sp&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Ap{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Z1(this,e,t):null}createEvent(e,t){I(null!=e.childName,"Child events should have a childName.");const r=Pl(new Or(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new X1(e.type,this,new Ro(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Ap&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Ku(n,e,t,r,i){let s;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){const l=t,c=(u,d)=>{vI(n._repo,n,a),l(u,d)};c.userCallback=t.userCallback,c.context=t.context,t=c}const o=new eF(t,s||void 0),a="value"===e?new Sp(o):new Ap(e,o);return function(n,e,t){let r;r=".info"===le(e._path)?k1(n.infoSyncTree_,e,t):k1(n.serverSyncTree_,e,t),_I(n.eventQueue_,e._path,r)}(n._repo,n,a),()=>vI(n._repo,n,a)}(function(n){I(!hp,"__referenceConstructor has already been defined"),hp=n})(Or),function(n){I(!pp,"__referenceConstructor has already been defined"),pp=n}(Or);const TI={};function yne(n,e,t,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||si("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Mt("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l,c,o=wI(s,i),a=o.repoInfo;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=wI(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new Su(Su.OWNER):new _Z(n.name,n.options,e);(function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!bp(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),B1(n)}(t))throw new Error(oo(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",o),ce(o.path)||si("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(n,e,t,r){let i=TI[e.name];i||(i={},TI[e.name]=i);let s=i[n.toURLString()];return s&&si("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Lte(n,false,t,r),i[n.toURLString()]=s,s}(a,n,u,new gZ(n.name,t));return new Cne(d,n)}class Cne{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(n,e,t){if(n.stats_=ww(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new rp(n.repoInfo_,(r,i,s,o)=>{z1(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>G1(n,!0),0);else{if(null!=t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{St(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Io(n.repoInfo_,e,(r,i,s,o)=>{z1(n,r,i,s,o)},r=>{G1(n,r)},r=>{!function(n,e){kt(e,(t,r)=>{mI(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function(n,e){const t=n.toString();return Cw[t]||(Cw[t]=e()),Cw[t]}(n.repoInfo_,()=>new Cee(n.stats_,n.server_)),n.infoData_=new mee,n.infoSyncTree_=new M1({startListening:(r,i,s,o)=>{let a=[];const l=n.infoData_.getNode(r._path);return l.isEmpty()||(a=ju(n.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),mI(n,"connected",!1),n.serverSyncTree_=new M1({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);rr(n.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Or(this._repo,Re())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(n,e){const t=TI[e];(!t||t[n.key]!==n)&&si(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&si("Cannot call "+e+" on a deleted database.")}}function wne(n=Ux(),e){return _f(n,"database").getImmediate({identifier:e})}Io.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Io.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},pw="9.1.2",fn(new rn("database",(e,{instanceIdentifier:t})=>yne(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),xn("@firebase/database","0.12.1",void 0);var Mo,Rp=function(){return(Rp=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},nt=(()=>(function(n){n.added="child_added",n.removed="child_removed",n.changed="child_changed",n.moved="child_moved",n.value="value"}(nt||(nt={})),nt))(),Rne=Object.freeze(((Mo={})[nt.added]=function(n,e,t,r){return Ku(n,"child_added",e,t,r)},Mo[nt.removed]=function(n,e,t,r){return Ku(n,"child_removed",e,t,r)},Mo[nt.changed]=function(n,e,t,r){return Ku(n,"child_changed",e,t,r)},Mo[nt.moved]=function(n,e,t,r){return Ku(n,"child_moved",e,t,r)},Mo[nt.value]=function(n,e,t,r){return Ku(n,"value",e,t,r)},Mo));function Yu(n,e){return new H(function(t){var r=Rne[e](n,function(i,s){t.next({snapshot:i,prevKey:s,event:e})},t.error.bind(t));return{unsubscribe:function(){!function(n,e,t){let r=null;const i=t?new eF(t):null;"value"===e?r=new Sp(i):e&&(r=new Ap(e,i)),vI(n._repo,n,r)}(n,e,r)}}}).pipe(function(n,e=If){const r=function(n){return n instanceof Date&&!isNaN(+n)}(n)?+n-e.now():Math.abs(n);return i=>i.lift(new eZ(r,e))}(0))}function Mne(n,e){return void 0===e&&(e={}),Yu(n,nt.value).pipe(se(function(t){return function(n,e){var t;void 0===e&&(e={});var r=n.snapshot.val();return n.snapshot.exists()&&"object"==typeof r?Rp(Rp({},r),e.keyField?((t={})[e.keyField]=n.snapshot.key,t):null):r}(t,e)}))}class kp{constructor(e){return e}}const dF="database",SI=new O("angularfire2.database-instances");function Une(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new kp(r)}}const jne={provide:class{constructor(){return Zb(dF)}},deps:[[new Be,SI]]},Hne={provide:kp,useFactory:function(n,e){const t=function(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(dF,n,e);return t&&new kp(t)},deps:[[new Be,SI],ml]};let $ne=(()=>{class n{constructor(){xn("angularfire",qb.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({providers:[Hne,jne]}),n})();function Wne(n,...e){return{ngModule:$ne,providers:[{provide:SI,useFactory:Une(n),multi:!0,deps:[K,me,WP,zP,[new Be,jO],[new Be,cN],...e]}]}}const AI=_l(Mne,!0),zne=_l(wne,!0),ko=_l(tF,!0),hF=_l(II,!0),fF=_l(tne,!0);class pF{}const Wi="*";function xp(n,e){return{type:7,name:n,definitions:e,options:{}}}function Ol(n,e=null){return{type:4,styles:e,timings:n}}function gF(n,e=null){return{type:2,steps:n,options:e}}function vn(n){return{type:6,styles:n,offset:null}}function xo(n,e,t){return{type:0,name:n,styles:e,options:t}}function Nl(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function _F(n){Promise.resolve(null).then(n)}class Fl{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){_F(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class mF{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?_F(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function yF(){return"undefined"!=typeof window&&void 0!==window.document}function MI(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Rs(n){switch(n.length){case 0:return new Fl;case 1:return n[0];default:return new mF(n)}}function vF(n,e,t,r,i={},s={}){const o=[],a=[];let l=-1,c=null;if(r.forEach(u=>{const d=u.offset,h=d==l,f=h&&c||{};Object.keys(u).forEach(p=>{let _=p,g=u[p];if("offset"!==p)switch(_=e.normalizePropertyName(_,o),g){case"!":g=i[p];break;case Wi:g=s[p];break;default:g=e.normalizeStyleValue(p,_,g,o)}f[_]=g}),h||a.push(f),c=f,l=d}),o.length){const u="\n - ";throw new Error(`Unable to animate due to the following errors:${u}${o.join(u)}`)}return a}function kI(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&xI(t,"start",n)));break;case"done":n.onDone(()=>r(t&&xI(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&xI(t,"destroy",n)))}}function xI(n,e,t){const r=t.totalTime,s=PI(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function PI(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Fn(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function bF(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let OI=(n,e)=>!1,NI=(n,e)=>!1,EF=(n,e,t)=>[];const CF=MI();(CF||"undefined"!=typeof Element)&&(OI=yF()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),NI=(()=>{if(CF||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,r)=>e.apply(t,[r]):NI}})(),EF=(n,e,t)=>{let r=[];if(t){const i=n.querySelectorAll(e);for(let s=0;s<i.length;s++)r.push(i[s])}else{const i=n.querySelector(e);i&&r.push(i)}return r});let Po=null,wF=!1;function FI(n){Po||(Po=("undefined"!=typeof document?document.body:null)||{},wF=!!Po.style&&"WebkitAppearance"in Po.style);let e=!0;return Po.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Po.style,!e&&wF&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Po.style)),e}const LI=NI,VI=OI,BI=EF;function IF(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let TF=(()=>{class n{validateStyleProperty(t){return FI(t)}matchesElement(t,r){return LI(t,r)}containsElement(t,r){return VI(t,r)}query(t,r,i){return BI(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new Fl(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})(),UI=(()=>{class n{}return n.NOOP=new TF,n})();const jI="ng-enter",Pp="ng-leave",Op="ng-trigger",Np=".ng-trigger",SF="ng-animating",HI=".ng-animating";function Oo(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:$I(parseFloat(e[1]),e[2])}function $I(n,e){switch(e){case"s":return 1e3*n;default:return n}}function Fp(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};i=$I(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=$I(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),a=!0),s<0&&(e.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&e.splice(l,0,`The provided timing value "${n}" is invalid.`)}return{duration:i,delay:s,easing:o}}(n,e,t)}function Ll(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Ms(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Ll(n,t);return t}function RF(n,e,t){return t?e+":"+t+";":""}function MF(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=RF(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=RF(0,ere(t),n.style[t]));n.setAttribute("style",e)}function ui(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=zI(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),MI()&&MF(n))}function No(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=zI(t);n.style[r]=""}),MI()&&MF(n))}function Qu(n){return Array.isArray(n)?1==n.length?n[0]:gF(n):n}const WI=new RegExp("{{\\s*(.+?)\\s*}}","g");function kF(n){let e=[];if("string"==typeof n){let t;for(;t=WI.exec(n);)e.push(t[1]);WI.lastIndex=0}return e}function Lp(n,e,t){const r=n.toString(),i=r.replace(WI,(s,o)=>{let a=e[o];return e.hasOwnProperty(o)||(t.push(`Please provide a value for the animation param ${o}`),a=""),a.toString()});return i==r?n:i}function Vp(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Zne=/-+([a-z0-9])/g;function zI(n){return n.replace(Zne,(...e)=>e[1].toUpperCase())}function ere(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function xF(n,e){return 0===n||0===e}function PF(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(a=>{s.hasOwnProperty(a)||o.push(a),s[a]=t[a]}),o.length)for(var i=1;i<e.length;i++){let a=e[i];o.forEach(function(l){a[l]=GI(n,l)})}}return e}function Ln(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function GI(n,e){return window.getComputedStyle(n)[e]}function tre(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,e,t){if(":"==n[0]){const l=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(OF(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&e.push(OF(o,i))}(r,t,e)):t.push(n),t}const Up=new Set(["true","1"]),jp=new Set(["false","0"]);function OF(n,e){const t=Up.has(n)||jp.has(n),r=Up.has(e)||jp.has(e);return(i,s)=>{let o="*"==n||n==i,a="*"==e||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?Up.has(n):jp.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?Up.has(e):jp.has(e)),o&&a}}const ire=new RegExp("s*:selfs*,?","g");function qI(n,e,t){return new sre(n).build(e,t)}class sre{constructor(e){this._driver=e}build(e,t){const r=new lre(t);return this._resetContextStyleTimingState(r),Ln(this,Qu(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};if(r.styles.forEach(a=>{if(Hp(a)){const l=a;Object.keys(l).forEach(c=>{kF(l[c]).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}}),s.size){const a=Vp(s.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Ln(this,Qu(e.animation),t);return{type:1,matchers:tre(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Fo(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Ln(this,r,t)),options:Fo(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=Ln(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:Fo(e.options)}}visitAnimate(e,t){const r=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return KI(Fp(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=KI(0,0,"");return s.dynamic=!0,s.strValue=r,s}return t=t||Fp(r,e),KI(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:vn({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=vn(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(o=>{"string"==typeof o?o==Wi?r.push(o):t.errors.push(`The provided style string value ${o} is not allowed.`):r.push(o)}):r.push(e.styles);let i=!1,s=null;return r.forEach(o=>{if(Hp(o)){const a=o,l=a.easing;if(l&&(s=l,delete a.easing),!i)for(let c in a)if(a[c].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void t.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const l=t.collectedStyles[t.currentQuerySelector],c=l[a];let u=!0;c&&(s!=i&&s>=c.startTime&&i<=c.endTime&&(t.errors.push(`The CSS property "${a}" that exists between the times of "${c.startTime}ms" and "${c.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${i}ms"`),u=!1),s=c.startTime),u&&(l[a]={startTime:s,endTime:i}),t.options&&function(n,e,t){const r=e.params||{},i=kF(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(`Unable to resolve the local animation param ${s} in the given list of values`)})}(o[a],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(v=>{const y=this._makeStyleAst(v,t);let w=null!=y.offset?y.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Hp(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(Hp(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(y.styles),S=0;return null!=w&&(s++,S=y.offset=w),l=l||S<0||S>1,a=a||S<c,c=S,o.push(S),y});l&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,_=t.currentAnimateTimings,g=_.duration;return u.forEach((v,y)=>{const w=h>0?y==f?1:h*y:o[y],S=w*g;t.currentTime=p+_.delay+S,_.duration=S,this._validateStyleAst(v,t),v.offset=w,r.styles.push(v)}),r}visitReference(e,t){return{type:8,animation:Ln(this,Qu(e.animation),t),options:Fo(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Fo(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Fo(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(ire,"")),[n=n.replace(/@\*/g,Np).replace(/@\w+/g,t=>Np+"-"+t.substr(1)).replace(/:animating/g,HI),e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Fn(t.collectedStyles,t.currentQuerySelector,{});const a=Ln(this,Qu(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Fo(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Fp(e.timings,t.errors,!0);return{type:12,animation:Ln(this,Qu(e.animation),t),timings:r,options:null}}}class lre{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Hp(n){return!Array.isArray(n)&&"object"==typeof n}function Fo(n){return n?(n=Ll(n)).params&&(n.params=function(n){return n?Ll(n):null}(n.params)):n={},n}function KI(n,e,t){return{duration:n,delay:e,easing:t}}function YI(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class $p{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const fre=new RegExp(":enter","g"),gre=new RegExp(":leave","g");function QI(n,e,t,r,i,s={},o={},a,l,c=[]){return(new _re).buildKeyframes(n,e,t,r,i,s,o,a,l,c)}class _re{buildKeyframes(e,t,r,i,s,o,a,l,c,u=[]){c=c||new $p;const d=new JI(e,t,c,i,s,u,[]);d.options=l,d.currentTimeline.setStyles([o],null,d.errors,l),Ln(this,r,d);const h=d.timelines.filter(f=>f.containsAnimation());if(h.length&&Object.keys(a).length){const f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,d.errors,l)}return h.length?h.map(f=>f.buildKeyframes()):[YI(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.consume(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?Oo(r.duration):null,a=null!=r.delay?Oo(r.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Ln(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Wp);const o=Oo(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Ln(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Oo(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),Ln(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Fp(t.params?Lp(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Oo(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Wp);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),Ln(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;Ln(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const Wp={};class JI{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Wp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new zp(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Oo(r.duration)),null!=r.delay&&(i.delay=Oo(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Lp(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new JI(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Wp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},s=new mre(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(fre,"."+this._enterClassName)).replace(gre,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),a}}class zp{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new zp(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Wi,this._currentKeyframe[t]=Wi}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const s=i&&i.params||{},o=function(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(s=>{t[s]=Wi})):Ms(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const l=Lp(o[a],s,r);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:Wi),this._updateStyle(a,l)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=Ms(a,!0);Object.keys(c).forEach(u=>{const d=c[u];"!"==d?e.add(u):d==Wi&&t.add(u)}),r||(c.offset=l/this.duration),i.push(c)});const s=e.size?Vp(e.values()):[],o=t.size?Vp(t.values()):[];if(r){const a=i[0],l=Ll(a);a.offset=0,l.offset=1,i=[a,l]}return YI(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class mre extends zp{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=Ms(e[0],!1);l.offset=0,s.push(l);const c=Ms(e[0],!1);c.offset=LF(a),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=Ms(e[d],!1);h.offset=LF((t+h.offset*r)/o),s.push(h)}r=o,t=0,i="",e=s}return YI(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function LF(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class XI{}class vre extends XI{normalizePropertyName(e,t){return zI(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(bre[t]&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(`Please provide a CSS unit value for ${e}:${r}`)}return o+s}}const bre=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function VF(n,e,t,r,i,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const ZI={};class BF{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],s=this._stateStyles[e],o=i?i.buildStyles(t,r):{};return s?s.buildStyles(t,r):o}build(e,t,r,i,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||ZI,p=this.buildStyles(r,a&&a.params||ZI,d),_=l&&l.params||ZI,g=this.buildStyles(i,_,d),v=new Set,y=new Map,w=new Map,S="void"===i,W={params:Object.assign(Object.assign({},h),_)},Ie=u?[]:QI(e,t,this.ast.animation,s,o,p,g,W,c,d);let ke=0;if(Ie.forEach(gt=>{ke=Math.max(gt.duration+gt.delay,ke)}),d.length)return VF(t,this._triggerName,r,i,S,p,g,[],[],y,w,ke,d);Ie.forEach(gt=>{const xt=gt.element,Yi=Fn(y,xt,{});gt.preStyleProps.forEach(Lr=>Yi[Lr]=!0);const Qi=Fn(w,xt,{});gt.postStyleProps.forEach(Lr=>Qi[Lr]=!0),xt!==t&&v.add(xt)});const Bt=Vp(v.values());return VF(t,this._triggerName,r,i,S,p,g,Ie,Bt,y,w,ke)}}class wre{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=Ll(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!=o&&(i[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(a=>{let l=o[a];l.length>1&&(l=Lp(l,i,t));const c=this.normalizer.normalizePropertyName(a,t);l=this.normalizer.normalizeStyleValue(a,c,l,t),r[c]=l})}}),r}}class Tre{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new wre(i.style,i.options&&i.options.params||{},r)}),UF(this.states,"true","1"),UF(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new BF(e,i,this.states))}),this.fallbackTransition=function(n,e,t){return new BF(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function UF(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const Sre=new $p;class Are{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],i=qI(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=i}_buildPlayer(e,t,r){const i=e.element,s=vF(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations[e];let o;const a=new Map;if(s?(o=QI(this._driver,t,s,jI,Pp,{},{},r,Sre,i),o.forEach(u=>{const d=Fn(a,u.element,{});u.postStyleProps.forEach(h=>d[h]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),o=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);a.forEach((u,d)=>{Object.keys(u).forEach(h=>{u[h]=this._driver.computeStyle(d,h,Wi)})});const c=Rs(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,{},d)}));return this._playersById[e]=c,c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,i){const s=PI(t,"","","");return kI(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const jF="ng-animate-queued",HF="ng-animate-disabled",$F=".ng-animate-disabled",xre=[],WF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Pre={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ir="__ng_removed";class eT{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(r?e.value:e),r){const s=Ll(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Ju="void",tT=new eT(Ju);class Ore{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,sr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);const s=Fn(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=Fn(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(sr(e,Op),sr(e,Op+"-"+t),a[t]=tT),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new nT(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(sr(e,Op),sr(e,Op+"-"+t),this._engine.statesByElement.set(e,a={}));let l=a[t];const c=new eT(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[t]=c,l||(l=tT),c.value!==Ju&&l.value===c.value){if(!function(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const _=[],g=s.matchStyles(l.value,l.params,_),v=s.matchStyles(c.value,c.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{No(e,g),ui(e,v)})}return}const h=Fn(this._engine.playersByElement,e,[]);h.forEach(_=>{_.namespaceId==this.id&&_.triggerName==t&&_.queued&&_.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(sr(e,jF),o.onStart(()=>{Vl(e,jF)})),o.onDone(()=>{let _=this.players.indexOf(o);_>=0&&this.players.splice(_,1);const g=this._engine.playersByElement.get(e);if(g){let v=g.indexOf(o);v>=0&&g.splice(v,1)}}),this.players.push(o),h.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Np,!0);r.forEach(i=>{if(i[ir])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e);if(s){const o=[];if(Object.keys(s).forEach(a=>{if(this._triggers[a]){const l=this.trigger(e,a,Ju,i);l&&o.push(l)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&Rs(o).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers[o].fallbackTransition,c=r[o]||tT,u=new eT(Ju),d=new nT(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[ir];(!s||s===WF)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){sr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=PI(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,kI(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Nre{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Ore(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let i=!1;for(let s=r;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,t)){this._namespaceList.splice(s+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let s=0;s<i.length;s++){const o=r[i[s]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&t.add(a)}}}return t}trigger(e,t,r,i){if(Gp(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Gp(t))return;const s=t[ir];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),sr(e,HF)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Vl(e,HF))}removeNode(e,t,r,i){if(Gp(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i){this.collectedLeaveElements.push(t),t[ir]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,i,s){return Gp(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Np,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,HI,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Rs(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ir];if(t&&t.setForRemoval){if(e[ir]=WF,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,$F)&&this.markElementAsDisabled(e,!1),this.driver.query(e,$F,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)sr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Rs(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new $p,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(P=>{u.add(P);const U=this.driver.query(P,".ng-animate-queued",!0);for(let J=0;J<U.length;J++)u.add(U[J])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=qF(h,this.collectedEnterElements),p=new Map;let _=0;f.forEach((P,U)=>{const J=jI+_++;p.set(U,J),P.forEach(Te=>sr(Te,J))});const g=[],v=new Set,y=new Set;for(let P=0;P<this.collectedLeaveElements.length;P++){const U=this.collectedLeaveElements[P],J=U[ir];J&&J.setForRemoval&&(g.push(U),v.add(U),J.hasAnimation?this.driver.query(U,".ng-star-inserted",!0).forEach(Te=>v.add(Te)):y.add(U))}const w=new Map,S=qF(h,Array.from(v));S.forEach((P,U)=>{const J=Pp+_++;w.set(U,J),P.forEach(Te=>sr(Te,J))}),e.push(()=>{f.forEach((P,U)=>{const J=p.get(U);P.forEach(Te=>Vl(Te,J))}),S.forEach((P,U)=>{const J=w.get(U);P.forEach(Te=>Vl(Te,J))}),g.forEach(P=>{this.processLeaveNode(P)})});const W=[],Ie=[];for(let P=this._namespaceList.length-1;P>=0;P--)this._namespaceList[P].drainQueuedTransitions(t).forEach(J=>{const Te=J.player,Pt=J.element;if(W.push(Te),this.collectedEnterElements.length){const _i=Pt[ir];if(_i&&_i.setForMove)return void Te.destroy()}const gi=!d||!this.driver.containsElement(d,Pt),Bn=w.get(Pt),Os=p.get(Pt),rt=this._buildInstruction(J,r,Os,Bn,gi);if(rt.errors&&rt.errors.length)Ie.push(rt);else{if(gi)return Te.onStart(()=>No(Pt,rt.fromStyles)),Te.onDestroy(()=>ui(Pt,rt.toStyles)),void i.push(Te);if(J.isFallbackTransition)return Te.onStart(()=>No(Pt,rt.fromStyles)),Te.onDestroy(()=>ui(Pt,rt.toStyles)),void i.push(Te);rt.timelines.forEach(_i=>_i.stretchStartingKeyframe=!0),r.append(Pt,rt.timelines),o.push({instruction:rt,player:Te,element:Pt}),rt.queriedElements.forEach(_i=>Fn(a,_i,[]).push(Te)),rt.preStyleProps.forEach((_i,vd)=>{const Pg=Object.keys(_i);if(Pg.length){let Yo=l.get(vd);Yo||l.set(vd,Yo=new Set),Pg.forEach(nD=>Yo.add(nD))}}),rt.postStyleProps.forEach((_i,vd)=>{const Pg=Object.keys(_i);let Yo=c.get(vd);Yo||c.set(vd,Yo=new Set),Pg.forEach(nD=>Yo.add(nD))})}});if(Ie.length){const P=[];Ie.forEach(U=>{P.push(`@${U.triggerName} has failed due to:\n`),U.errors.forEach(J=>P.push(`- ${J}\n`))}),W.forEach(U=>U.destroy()),this.reportError(P)}const ke=new Map,Bt=new Map;o.forEach(P=>{const U=P.element;r.has(U)&&(Bt.set(U,U),this._beforeAnimationBuild(P.player.namespaceId,P.instruction,ke))}),i.forEach(P=>{const U=P.element;this._getPreviousPlayers(U,!1,P.namespaceId,P.triggerName,null).forEach(Te=>{Fn(ke,U,[]).push(Te),Te.destroy()})});const gt=g.filter(P=>YF(P,l,c)),xt=new Map;GF(xt,this.driver,y,c,Wi).forEach(P=>{YF(P,l,c)&&gt.push(P)});const Qi=new Map;f.forEach((P,U)=>{GF(Qi,this.driver,new Set(P),l,"!")}),gt.forEach(P=>{const U=xt.get(P),J=Qi.get(P);xt.set(P,Object.assign(Object.assign({},U),J))});const Lr=[],ql=[],Kl={};o.forEach(P=>{const{element:U,player:J,instruction:Te}=P;if(r.has(U)){if(u.has(U))return J.onDestroy(()=>ui(U,Te.toStyles)),J.disabled=!0,J.overrideTotalTime(Te.totalTime),void i.push(J);let Pt=Kl;if(Bt.size>1){let Bn=U;const Os=[];for(;Bn=Bn.parentNode;){const rt=Bt.get(Bn);if(rt){Pt=rt;break}Os.push(Bn)}Os.forEach(rt=>Bt.set(rt,Pt))}const gi=this._buildAnimation(J.namespaceId,Te,ke,s,Qi,xt);if(J.setRealPlayer(gi),Pt===Kl)Lr.push(J);else{const Bn=this.playersByElement.get(Pt);Bn&&Bn.length&&(J.parentPlayer=Rs(Bn)),i.push(J)}}else No(U,Te.fromStyles),J.onDestroy(()=>ui(U,Te.toStyles)),ql.push(J),u.has(U)&&i.push(J)}),ql.forEach(P=>{const U=s.get(P.element);if(U&&U.length){const J=Rs(U);P.setRealPlayer(J)}}),i.forEach(P=>{P.parentPlayer?P.syncPlayerEvents(P.parentPlayer):P.destroy()});for(let P=0;P<g.length;P++){const U=g[P],J=U[ir];if(Vl(U,Pp),J&&J.hasAnimation)continue;let Te=[];if(a.size){let gi=a.get(U);gi&&gi.length&&Te.push(...gi);let Bn=this.driver.query(U,HI,!0);for(let Os=0;Os<Bn.length;Os++){let rt=a.get(Bn[Os]);rt&&rt.length&&Te.push(...rt)}}const Pt=Te.filter(gi=>!gi.destroyed);Pt.length?Bre(this,U,Pt):this.processLeaveNode(U)}return g.length=0,Lr.forEach(P=>{this.players.push(P),P.onDone(()=>{P.destroy();const U=this.players.indexOf(P);this.players.splice(U,1)}),P.play()}),Lr}elementContainsData(e,t){let r=!1;const i=t[ir];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==Ju;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=Fn(r,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}No(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const _=p.element;u.add(_);const g=_[ir];if(g&&g.removedBeforeQueried)return new Fl(p.duration,p.delay);const v=_!==l,y=function(n){const e=[];return KF(n,e),e}((r.get(_)||xre).map(ke=>ke.getRealPlayer())).filter(ke=>!!ke.element&&ke.element===_),w=s.get(_),S=o.get(_),W=vF(0,this._normalizer,0,p.keyframes,w,S),Ie=this._buildPlayer(p,W,y);if(p.subTimeline&&i&&d.add(_),v){const ke=new nT(e,a,_);ke.setRealPlayer(Ie),c.push(ke)}return Ie});c.forEach(p=>{Fn(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>sr(p,SF));const f=Rs(h);return f.onDestroy(()=>{u.forEach(p=>Vl(p,SF)),ui(l,t.toStyles)}),d.forEach(p=>{Fn(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Fl(e.duration,e.delay)}}class nT{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Fl,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>kI(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Fn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Gp(n){return n&&1===n.nodeType}function zF(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function GF(n,e,t,r,i){const s=[];t.forEach(l=>s.push(zF(l)));const o=[];r.forEach((l,c)=>{const u={};l.forEach(d=>{const h=u[d]=e.computeStyle(c,d,i);(!h||0==h.length)&&(c[ir]=Pre,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>zF(l,s[a++])),o}function qF(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}const qp="$$classes";function sr(n,e){if(n.classList)n.classList.add(e);else{let t=n[qp];t||(t=n[qp]={}),t[e]=!0}}function Vl(n,e){if(n.classList)n.classList.remove(e);else{let t=n[qp];t&&delete t[e]}}function Bre(n,e,t){Rs(t).onDone(()=>n.processLeaveNode(e))}function KF(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof mF?KF(r.players,e):e.push(r)}}function YF(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class Kp{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Nre(e,t,r),this._timelineEngine=new Are(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],c=qI(this._driver,s,l);if(l.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${l.join("\n - ")}`);a=function(n,e,t){return new Tre(n,e,t)}(i,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=bF(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=bF(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function QF(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=rT(e[0]),e.length>1&&(r=rT(e[e.length-1]))):e&&(t=rT(e)),t||r?new Hre(n,t,r):null}let Hre=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&ui(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ui(this._element,this._initialStyles),this._endStyles&&(ui(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(No(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(No(this._element,this._endStyles),this._endStyles=null),ui(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function rT(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];$re(i)&&(e=e||{},e[i]=n[i])}return e}function $re(n){return"display"===n||"position"===n}const JF="animation",XF="animationend";class Gre{constructor(e,t,r,i,s,o,a){this._element=e,this._name=t,this._duration=r,this._delay=i,this._easing=s,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=l=>this._handleCallback(l)}apply(){(function(n,e){const t=sT(n,"").trim();let r=0;t.length&&(function(n,e){let t=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&t++;return t}(t)+1,e=`${t}, ${e}`),Yp(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),tL(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){ZF(this._element,this._name,"paused")}resume(){ZF(this._element,this._name,"running")}setPosition(e){const t=eL(this._element,this._name);this._position=e*this._duration,Yp(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),tL(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const r=sT(n,"").split(","),i=iT(r,e);i>=0&&(r.splice(i,1),Yp(n,"",r.join(",")))}(this._element,this._name))}}function ZF(n,e,t){Yp(n,"PlayState",t,eL(n,e))}function eL(n,e){const t=sT(n,"");return t.indexOf(",")>0?iT(t.split(","),e):iT([t],e)}function iT(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function tL(n,e,t){t?n.removeEventListener(XF,e):n.addEventListener(XF,e)}function Yp(n,e,t,r){const i=JF+e;if(null!=r){const s=n.style[i];if(s.length){const o=s.split(",");o[r]=t,t=o.join(",")}}n.style[i]=t}function sT(n,e){return n.style[JF+e]||""}class nL{constructor(e,t,r,i,s,o,a,l){this.element=e,this.keyframes=t,this.animationName=r,this._duration=i,this._delay=s,this._finalStyles=a,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=i+s,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Gre(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:GI(this.element,r))})}this.currentSnapshot=e}}class Xre extends Fl{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=IF(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class iL{constructor(){this._count=0}validateStyleProperty(e){return FI(e)}matchesElement(e,t){return LI(e,t)}containsElement(e,t){return VI(e,t)}query(e,t,r){return BI(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(a=>IF(a));let i=`@keyframes ${t} {\n`,s="";r.forEach(a=>{s=" ";const l=parseFloat(a.offset);i+=`${s}${100*l}% {\n`,s+=" ",Object.keys(a).forEach(c=>{const u=a[c];switch(c){case"offset":return;case"easing":return void(u&&(i+=`${s}animation-timing-function: ${u};\n`));default:return void(i+=`${s}${c}: ${u};\n`)}}),i+=`${s}}\n`}),i+="}\n";const o=document.createElement("style");return o.textContent=i,o}animate(e,t,r,i,s,o=[],a){const l=o.filter(g=>g instanceof nL),c={};xF(r,i)&&l.forEach(g=>{let v=g.currentSnapshot;Object.keys(v).forEach(y=>c[y]=v[y])});const u=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(i=>{"offset"==i||"easing"==i||(e[i]=r[i])})}),e}(t=PF(e,t,c));if(0==r)return new Xre(e,u);const d="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,d,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(h);const p=QF(e,t),_=new nL(e,t,d,r,i,s,u,p);return _.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(h)),_}}class oL{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:GI(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class rie{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(aL().toString()),this._cssKeyframesDriver=new iL}validateStyleProperty(e){return FI(e)}matchesElement(e,t){return LI(e,t)}containsElement(e,t){return VI(e,t)}query(e,t,r){return BI(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,i,s,o=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,i,s,o);const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const d={},h=o.filter(p=>p instanceof oL);xF(r,i)&&h.forEach(p=>{let _=p.currentSnapshot;Object.keys(_).forEach(g=>d[g]=_[g])});const f=QF(e,t=PF(e,t=t.map(p=>Ms(p,!1)),d));return new oL(e,t,u,f)}}function aL(){return yF()&&Element.prototype.animate||{}}let sie=(()=>{class n extends pF{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:at.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?gF(t):t;return lL(this._renderer,null,r,"register",[i]),new oie(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(m(Ys),m(N))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();class oie extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new aie(this._id,e,t||{},this._renderer)}}class aie{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return lL(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function lL(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const cL="@.disabled";let lie=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{o&&o.parentNode(s)&&o.removeChild(s.parentNode,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(s);return u||(u=new uL("",s,this.engine),this._rendererCache.set(s,u)),u}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return r.data.animation.forEach(l),new cie(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(m(Ys),m(Kp),m(K))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();class uL{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==cL?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class cie extends uL{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==cL?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let hie=(()=>{class n extends Kp{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(m(N),m(UI),m(XI))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();const Jp=new O("AnimationModuleType"),dL=[{provide:pF,useClass:sie},{provide:XI,useFactory:function(){return new vre}},{provide:Kp,useClass:hie},{provide:Ys,useFactory:function(n,e,t){return new lie(n,e,t)},deps:[lf,Kp,K]}],hL=[{provide:UI,useFactory:function(){return"function"==typeof aL()?new rie:new iL}},{provide:Jp,useValue:"BrowserAnimations"},...dL],fL=[{provide:UI,useClass:TF},{provide:Jp,useValue:"NoopAnimations"},...dL];let pL=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?fL:hL}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({providers:hL,imports:[ov]}),n})();const gL_firebase={apiKey:"AIzaSyBv8-wcIXcLXDSEIUHJRPbipS8c-f9noWg",authDomain:"holys-bet-manager.firebaseapp.com",databaseURL:"https://holys-bet-manager-default-rtdb.europe-west1.firebasedatabase.app",projectId:"holys-bet-manager",storageBucket:"holys-bet-manager.appspot.com",messagingSenderId:"730419012957",appId:"1:730419012957:web:6d18e3d27aecd44dcf74b4",measurementId:"G-ZJYKXF4JJG"};class or extends Ee{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ns;return this._value}next(e){super.next(this._value=e)}}class _ie extends _e{notifyNext(e,t,r,i,s){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class mie extends _e{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function yie(n,e,t,r,i=new mie(n,t,r)){if(!i.closed)return e instanceof H?e.subscribe(i):Fg(e)(i)}const _L={};class bie{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Eie(e,this.resultSelector))}}class Eie extends _ie{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(_L),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(yie(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const i=this.values,o=this.toRespond?i[r]===_L?--this.toRespond:this.toRespond:0;i[r]=t,0===o&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const Xp=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();function oT(...n){return Zl(1)(L(...n))}function aT(n){return new H(e=>{let t;try{t=n()}catch(i){return void e.error(i)}return(t?Ct(t):Sf()).subscribe(e)})}function di(n,e){return"function"==typeof e?t=>t.pipe(di((r,i)=>Ct(n(r,i)).pipe(se((s,o)=>e(r,s,i,o))))):t=>t.lift(new wie(n))}class wie{constructor(e){this.project=e}call(e,t){return t.subscribe(new Iie(e,this.project))}}class Iie extends Jl{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(i){return void this.destination.error(i)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new Ql(this),i=this.destination;i.add(r),this.innerSubscription=Xl(e,r),this.innerSubscription!==r&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const mL=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function zi(n){return e=>0===n?Sf():e.lift(new Tie(n))}class Tie{constructor(e){if(this.total=e,this.total<0)throw new mL}call(e,t){return t.subscribe(new Die(e,this.total))}}class Die extends _e{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function Xu(...n){const e=n[n.length-1];return Xo(e)?(n.pop(),t=>oT(n,t,e)):t=>oT(n,t)}function yL(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(i){return i.lift(new Sie(n,e,t))}}class Sie{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new Aie(e,this.accumulator,this.seed,this.hasSeed))}}class Aie extends _e{constructor(e,t,r,i){super(e),this.accumulator=t,this._seed=r,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(i){this.destination.error(i)}this.seed=r,this.destination.next(r)}}function Vn(n,e){return function(r){return r.lift(new Rie(n,e))}}class Rie{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Mie(e,this.predicate,this.thisArg))}}class Mie extends _e{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}function ks(n){return function(t){const r=new kie(n),i=t.lift(r);return r.caught=i}}class kie{constructor(e){this.selector=e}call(e,t){return t.subscribe(new xie(e,this.selector,this.caught))}}class xie extends Jl{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(s){return void super.error(s)}this._unsubscribeAndRecycle();const r=new Ql(this);this.add(r);const i=Xl(t,r);i!==r&&this.add(i)}}}function Bl(n,e){return Ot(n,e,1)}function lT(n){return function(t){return 0===n?Sf():t.lift(new Pie(n))}}class Pie{constructor(e){if(this.total=e,this.total<0)throw new mL}call(e,t){return t.subscribe(new Oie(e,this.total))}}class Oie extends _e{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,i=this.count++;t.length<r?t.push(e):t[i%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,i=this.ring;for(let s=0;s<r;s++){const o=t++%r;e.next(i[o])}}e.complete()}}function vL(n=Lie){return e=>e.lift(new Nie(n))}class Nie{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Fie(e,this.errorFactory))}}class Fie extends _e{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Lie(){return new Xp}function bL(n=null){return e=>e.lift(new Vie(n))}class Vie{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Bie(e,this.defaultValue))}}class Bie extends _e{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Nr(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Vn((i,s)=>n(i,s,r)):ve,zi(1),t?bL(e):vL(()=>new Xp))}function EL(n){return e=>e.lift(new jie(n))}class jie{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Hie(e,this.callback))}}class Hie extends _e{constructor(e,t){super(e),this.add(new ue(t))}}class Gi{constructor(e,t){this.id=e,this.url=t}}class cT extends Gi{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Zu extends Gi{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class CL extends Gi{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $ie extends Gi{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Wie extends Gi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zie extends Gi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gie extends Gi{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qie extends Gi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kie extends Gi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wL{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class IL{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Yie{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qie{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jie{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xie{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class TL{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const pe="primary";class Zie{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ul(n){return new Zie(n)}const DL="ngNavigationCancelingError";function uT(n){const e=Error("NavigationCancelingError: "+n);return e[DL]=!0,e}function tse(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function hi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!SL(n[i],e[i]))return!1;return!0}function SL(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function AL(n){return Array.prototype.concat.apply([],n)}function RL(n){return n.length>0?n[n.length-1]:null}function Lt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function fi(n){return Im(n)?n:fh(n)?Ct(Promise.resolve(n)):L(n)}const ise={exact:function xL(n,e,t){if(!Vo(n.segments,e.segments)||!Zp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!xL(n.children[r],e.children[r],t))return!1;return!0},subset:PL},ML={exact:function(n,e){return hi(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>SL(n[t],e[t]))},ignored:()=>!0};function kL(n,e,t){return ise[t.paths](n.root,e.root,t.matrixParams)&&ML[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function PL(n,e,t){return OL(n,e,e.segments,t)}function OL(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Vo(i,t)||e.hasChildren()||!Zp(i,t,r))}if(n.segments.length===t.length){if(!Vo(n.segments,t)||!Zp(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!PL(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Vo(n.segments,i)&&Zp(n.segments,i,r)&&n.children[pe])&&OL(n.children[pe],e,s,r)}}function Zp(n,e,t){return e.every((r,i)=>ML[t](n[i].parameters,r.parameters))}class Lo{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ul(this.queryParams)),this._queryParamMap}toString(){return cse.serialize(this)}}class ye{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Lt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return eg(this)}}class ed{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ul(this.parameters)),this._parameterMap}toString(){return VL(this)}}function Vo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class dT{}class NL{parse(e){const t=new yse(e);return new Lo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${`/${td(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${tg(t)}=${tg(i)}`).join("&"):`${tg(t)}=${tg(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${function(n){return encodeURI(n)}(e.fragment)}`:""}`}}const cse=new NL;function eg(n){return n.segments.map(e=>VL(e)).join("/")}function td(n,e){if(!n.hasChildren())return eg(n);if(e){const t=n.children[pe]?td(n.children[pe],!1):"",r=[];return Lt(n.children,(i,s)=>{s!==pe&&r.push(`${s}:${td(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return Lt(n.children,(r,i)=>{i===pe&&(t=t.concat(e(r,i)))}),Lt(n.children,(r,i)=>{i!==pe&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===pe?[td(n.children[pe],!1)]:[`${i}:${td(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[pe]?`${eg(n)}/${t[0]}`:`${eg(n)}/(${t.join("//")})`}}function FL(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tg(n){return FL(n).replace(/%3B/gi,";")}function hT(n){return FL(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ng(n){return decodeURIComponent(n)}function LL(n){return ng(n.replace(/\+/g,"%20"))}function VL(n){return`${hT(n.path)}${function(n){return Object.keys(n).map(e=>`;${hT(e)}=${hT(n[e])}`).join("")}(n.parameters)}`}const fse=/^[^\/()?;=#]+/;function rg(n){const e=n.match(fse);return e?e[0]:""}const pse=/^[^=?&#]+/,_se=/^[^?&#]+/;class yse{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[pe]=new ye(e,t)),r}parseSegment(){const e=rg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new ed(ng(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=rg(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=rg(this.remaining);i&&(r=i,this.capture(r))}e[ng(t)]=ng(r)}parseQueryParam(e){const t=function(n){const e=n.match(pse);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function(n){const e=n.match(_se);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=LL(t),s=LL(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=rg(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=pe);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[pe]:new ye([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class BL{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=fT(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=fT(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=pT(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return pT(e,this._root).map(t=>t.value)}}function fT(n,e){if(n===e.value)return e;for(const t of e.children){const r=fT(n,t);if(r)return r}return null}function pT(n,e){if(n===e.value)return[e];for(const t of e.children){const r=pT(n,t);if(r.length)return r.unshift(e),r}return[]}class qi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function nd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class UL extends BL{constructor(e,t){super(e),this.snapshot=t,gT(this,e)}toString(){return this.snapshot.toString()}}function jL(n,e){const t=function(n,e){const o=new ig([],{},{},"",{},pe,e,null,n.root,-1,{});return new $L("",new qi(o,[]))}(n,e),r=new or([new ed("",{})]),i=new or({}),s=new or({}),o=new or({}),a=new or(""),l=new Bo(r,i,o,a,s,pe,e,t.root);return l.snapshot=t.root,new UL(new qi(l,[]),t)}class Bo{constructor(e,t,r,i,s,o,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(se(e=>Ul(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(se(e=>Ul(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function HL(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ig{constructor(e,t,r,i,s,o,a,l,c,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ul(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ul(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $L extends BL{constructor(e,t){super(t),this.url=e,gT(this,t)}toString(){return WL(this._root)}}function gT(n,e){e.value._routerState=n,e.children.forEach(t=>gT(n,t))}function WL(n){const e=n.children.length>0?` { ${n.children.map(WL).join(", ")} } `:"";return`${n.value}${e}`}function _T(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,hi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),hi(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!hi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),hi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function mT(n,e){return hi(n.params,e.params)&&function(n,e){return Vo(n,e)&&n.every((t,r)=>hi(t.parameters,e[r].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||mT(n.parent,e.parent))}function sg(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return sg(n,r,i);return sg(n,r)})}(n,e,t);return new qi(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return zL(e,o),o}}const r=function(n){return new Bo(new or(n.url),new or(n.params),new or(n.queryParams),new or(n.fragment),new or(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>sg(n,s));return new qi(r,i)}}function zL(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)zL(n.children[t],e.children[t])}function og(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function rd(n){return"object"==typeof n&&null!=n&&n.outlets}function yT(n,e,t,r,i){let s={};return r&&Lt(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(l=>`${l}`):`${o}`}),new Lo(t.root===n?e:GL(t.root,n,e),s,i)}function GL(n,e,t){const r={};return Lt(n.children,(i,s)=>{r[s]=i===e?t:GL(i,e,t)}),new ye(n.segments,r)}class qL{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&og(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(rd);if(i&&i!==RL(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class vT{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function KL(n,e,t){if(n||(n=new ye([],{})),0===n.segments.length&&n.hasChildren())return ag(n,e,t);const r=function(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(rd(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!QL(l,c,o))return s;r+=2}else{if(!QL(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new ye(n.segments.slice(0,r.pathIndex),{});return s.children[pe]=new ye(n.segments.slice(r.pathIndex),n.children),ag(s,0,i)}return r.match&&0===i.length?new ye(n.segments,{}):r.match&&!n.hasChildren()?bT(n,e,t):r.match?ag(n,0,i):bT(n,e,t)}function ag(n,e,t){if(0===t.length)return new ye(n.segments,{});{const r=function(n){return rd(n[0])?n[0].outlets:{[pe]:n}}(t),i={};return Lt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=KL(n.children[o],e,s))}),Lt(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ye(n.segments,i)}}function bT(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(rd(s)){const l=Mse(s.outlets);return new ye(r,l)}if(0===i&&og(t[0])){r.push(new ed(n.segments[e].path,YL(t[0]))),i++;continue}const o=rd(s)?s.outlets[pe]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&og(a)?(r.push(new ed(o,YL(a))),i+=2):(r.push(new ed(o,{})),i++)}return new ye(r,{})}function Mse(n){const e={};return Lt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=bT(new ye([],{}),0,t))}),e}function YL(n){const e={};return Lt(n,(t,r)=>e[r]=`${t}`),e}function QL(n,e,t){return n==t.path&&hi(e,t.parameters)}class xse{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),_T(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=nd(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Lt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet);if(r&&r.outlet){const i=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:i,route:e,contexts:s})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=nd(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=nd(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Xie(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Qie(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(_T(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),JL(a.route)}else{const a=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=l,o.outlet&&o.outlet.activateWith(i,l),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}function JL(n){_T(n.value),n.children.forEach(JL)}class ET{constructor(e,t){this.routes=e,this.module=t}}function xs(n){return"function"==typeof n}function Uo(n){return n instanceof Lo}const id=Symbol("INITIAL_VALUE");function sd(){return di(n=>function(...n){let e,t;return Xo(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&Br(n[0])&&(n=n[0]),Vg(n,t).lift(new bie(e))}(n.map(e=>e.pipe(zi(1),Xu(id)))).pipe(yL((e,t)=>{let r=!1;return t.reduce((i,s,o)=>i!==id?i:(s===id&&(r=!0),r||!1!==s&&o!==t.length-1&&!Uo(s)?i:s),e)},id),Vn(e=>e!==id),se(e=>Uo(e)?e:!0===e),zi(1)))}let XL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=lt({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&Yn(0,"router-outlet")},directives:function(){return[ST]},encapsulation:2}),n})();function ZL(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Bse(r,Use(e,r))}}function Bse(n,e){n.children&&ZL(n.children,e)}function Use(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function CT(n){const e=n.children&&n.children.map(CT),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==pe&&(t.component=XL),t}function ar(n){return n.outlet||pe}function eV(n,e){const t=n.filter(r=>ar(r)===e);return t.push(...n.filter(r=>ar(r)!==e)),t}const tV={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function lg(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},tV):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||tse)(t,n,e);if(!s)return Object.assign({},tV);const o={};Lt(s.posParams,(l,c)=>{o[c]=l.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function cg(n,e,t,r,i="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>ug(n,e,r)&&ar(r)!==pe)}(n,t,r)){const o=new ye(e,function(n,e,t,r){const i={};i[pe]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&ar(s)!==pe){const o=new ye([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[ar(s)]=o}return i}(n,e,r,new ye(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>ug(n,e,r))}(n,t,r)){const o=new ye(n.segments,function(n,e,t,r,i,s){const o={};for(const a of r)if(ug(n,t,a)&&!i[ar(a)]){const l=new ye([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[ar(a)]=l}return Object.assign(Object.assign({},i),o)}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new ye(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function ug(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function nV(n,e,t,r){return!!(ar(n)===r||r!==pe&&ug(e,t,n))&&("**"===n.path||lg(e,n,t).matched)}function rV(n,e,t){return 0===e.length&&!n.children[t]}class od{constructor(e){this.segmentGroup=e||null}}class iV{constructor(e){this.urlTree=e}}function dg(n){return new H(e=>e.error(new od(n)))}function sV(n){return new H(e=>e.error(new iV(n)))}function zse(n){return new H(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Kse{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Xr)}apply(){const e=cg(this.urlTree.root,[],[],this.config).segmentGroup,t=new ye(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,pe).pipe(se(s=>this.createUrlTree(wT(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ks(s=>{if(s instanceof iV)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof od?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,pe).pipe(se(i=>this.createUrlTree(wT(i),e.queryParams,e.fragment))).pipe(ks(i=>{throw i instanceof od?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new ye([],{[pe]:e}):e;return new Lo(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(se(s=>new ye([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Ct(i).pipe(Bl(s=>{const o=r.children[s],a=eV(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(se(l=>({segment:l,outlet:s})))}),yL((s,o)=>(s[o.outlet]=o.segment,s),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Vn((i,s)=>n(i,s,r)):ve,lT(1),t?bL(e):vL(()=>new Xp))}())}expandSegment(e,t,r,i,s,o){return Ct(r).pipe(Bl(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(ks(c=>{if(c instanceof od)return L(null);throw c}))),Nr(a=>!!a),ks((a,l)=>{if(a instanceof Xp||"EmptyError"===a.name){if(rV(t,i,s))return L(new ye([],{}));throw new od(t)}throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return nV(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):dg(t):dg(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?sV(s):this.lineralizeSegments(r,s).pipe(Ot(o=>{const a=new ye(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,lastChild:c,positionalParamSegments:u}=lg(t,i,s);if(!a)return dg(t);const d=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?sV(d):this.lineralizeSegments(i,d).pipe(Ot(h=>this.expandSegment(e,t,r,h.concat(s.slice(c)),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?L(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(se(h=>(r._loadedConfig=h,new ye(i,{})))):L(new ye(i,{}));const{matched:o,consumedSegments:a,lastChild:l}=lg(t,r,i);if(!o)return dg(t);const c=i.slice(l);return this.getChildConfig(e,r,i).pipe(Ot(d=>{const h=d.module,f=d.routes,{segmentGroup:p,slicedSegments:_}=cg(t,a,c,f),g=new ye(p.segments,p.children);if(0===_.length&&g.hasChildren())return this.expandChildren(h,f,g).pipe(se(S=>new ye(a,S)));if(0===f.length&&0===_.length)return L(new ye(a,{}));const v=ar(r)===s;return this.expandSegment(h,g,f,_,v?pe:s,!0).pipe(se(w=>new ye(a.concat(w.segments),w.children)))}))}getChildConfig(e,t,r){return t.children?L(new ET(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?L(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(Ot(i=>i?this.configLoader.load(e.injector,t).pipe(se(s=>(t._loadedConfig=s,s))):function(n){return new H(e=>e.error(uT(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):L(new ET([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?L(i.map(o=>{const a=e.get(o);let l;if(function(n){return n&&xs(n.canLoad)}(a))l=a.canLoad(t,r);else{if(!xs(a))throw new Error("Invalid CanLoad guard");l=a(t,r)}return fi(l)})).pipe(sd(),At(o=>{if(!Uo(o))return;const a=uT(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),se(o=>!0===o)):L(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return L(r);if(i.numberOfChildren>1||!i.children[pe])return zse(e.redirectTo);i=i.children[pe]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Lo(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Lt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Lt(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new ye(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function wT(n){const e={};for(const r of Object.keys(n.children)){const s=wT(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function(n){if(1===n.numberOfChildren&&n.children[pe]){const e=n.children[pe];return new ye(n.segments.concat(e.segments),e.children)}return n}(new ye(n.segments,e))}class oV{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class hg{constructor(e,t){this.component=e,this.route=t}}function Jse(n,e,t){const r=n._root;return ad(r,e?e._root:null,t,[r.value])}function fg(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function ad(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=nd(e);return n.children.forEach(o=>{(function(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Vo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Vo(n.url,e.url)||!hi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mT(n,e)||!hi(n.queryParams,e.queryParams);case"paramsChange":default:return!mT(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new oV(r)):(s.data=o.data,s._resolvedData=o._resolvedData),ad(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new hg(a.outlet.component,o))}else o&&ld(e,a,i),i.canActivateChecks.push(new oV(r)),ad(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Lt(s,(o,a)=>ld(o,t.getContext(a),i)),i}function ld(n,e,t){const r=nd(n),i=n.value;Lt(r,(s,o)=>{ld(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new hg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class uoe{}function aV(n){return new H(e=>e.error(n))}class hoe{constructor(e,t,r,i,s,o){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=cg(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,pe);if(null===t)return null;const r=new ig([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},pe,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new qi(r,t),s=new $L(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=HL(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=eV(e,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;r.push(...l)}const i=lV(r);return function(n){n.sort((e,t)=>e.value.outlet===pe?-1:t.value.outlet===pe?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,r,i);if(null!==o)return o}return rV(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!nV(e,t,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?RL(r).parameters:{};s=new ig(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,dV(e),ar(e),e.component,e,cV(t),uV(t)+r.length,hV(e))}else{const f=lg(t,e,r);if(!f.matched)return null;o=f.consumedSegments,a=r.slice(f.lastChild),s=new ig(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,dV(e),ar(e),e.component,e,cV(t),uV(t)+o.length,hV(e))}const l=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:u}=cg(t,o,a,l.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const f=this.processChildren(l,c);return null===f?null:[new qi(s,f)]}if(0===l.length&&0===u.length)return[new qi(s,[])];const d=ar(e)===i,h=this.processSegment(l,c,u,d?pe:i);return null===h?null:[new qi(s,h)]}}function goe(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function lV(n){const e=[],t=new Set;for(const r of n){if(!goe(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=lV(r.children);e.push(new qi(r.value,i))}return e.filter(r=>!t.has(r))}function cV(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function uV(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function dV(n){return n.data||{}}function hV(n){return n.resolve||{}}function IT(n){return di(e=>{const t=n(e);return t?Ct(t).pipe(se(()=>e)):L(e)})}class woe extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const TT=new O("ROUTES");class fV{constructor(e,t,r,i){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(se(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new ET(AL(o.injector.get(TT,void 0,B.Self|B.Optional)).map(CT),o)}),ks(s=>{throw t._loader$=void 0,s}));return t._loader$=new uD(i,()=>new Ee).pipe(Bg()),t._loader$}loadModuleFactory(e){return"string"==typeof e?Ct(this.loader.load(e)):fi(e()).pipe(Ot(t=>t instanceof eM?L(t):Ct(this.compiler.compileModuleAsync(t))))}}class Ioe{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new jl,this.attachRef=null}}class jl{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Ioe,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class Doe{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Soe(n){throw n}function Aoe(n,e,t){return e.parse("/")}function pV(n,e){return L(null)}const Roe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Moe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Gt=(()=>{class n{constructor(t,r,i,s,o,a,l,c){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ee,this.errorHandler=Soe,this.malformedUriErrorHandler=Aoe,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:pV,afterPreactivation:pV},this.urlHandlingStrategy=new Doe,this.routeReuseStrategy=new woe,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Xr),this.console=o.get(xh);const h=o.get(K);this.isNgZoneEnabled=h instanceof K&&K.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new Lo(new ye([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new fV(a,l,f=>this.triggerEvent(new wL(f)),f=>this.triggerEvent(new IL(f))),this.routerState=jL(this.currentUrlTree,this.rootComponentType),this.transitions=new or({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Vn(i=>0!==i.id),se(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),di(i=>{let s=!1,o=!1;return L(i).pipe(At(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),di(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return pg(a.source)&&(this.browserUrlTree=a.extractedUrl),L(a).pipe(di(d=>{const h=this.transitions.getValue();return r.next(new cT(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?pl:Promise.resolve(d)}),function(n,e,t,r){return di(i=>function(n,e,t,r,i){return new Kse(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(se(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),At(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function(n,e,t,r,i){return Ot(s=>function(n,e,t,r,i="emptyOnly",s="legacy"){try{const o=new hoe(n,e,t,r,i,s).recognize();return null===o?aV(new uoe):L(o)}catch(o){return aV(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe(se(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),At(d=>{"eager"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(d.urlAfterRedirects,d),this.browserUrlTree=d.urlAfterRedirects);const h=new Wie(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:_,extras:g}=a,v=new cT(h,this.serializeUrl(f),p,_);r.next(v);const y=jL(f,this.rootComponentType).snapshot;return L(Object.assign(Object.assign({},a),{targetSnapshot:y,urlAfterRedirects:f,extras:Object.assign(Object.assign({},g),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,this.browserUrlTree=a.urlAfterRedirects,a.resolve(null),pl}),IT(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),At(a=>{const l=new zie(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),se(a=>Object.assign(Object.assign({},a),{guards:Jse(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(n,e){return Ot(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?L(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return Ct(n).pipe(Ot(i=>function(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?L(s.map(a=>{const l=fg(a,e,i);let c;if(function(n){return n&&xs(n.canDeactivate)}(l))c=fi(l.canDeactivate(n,e,t,r));else{if(!xs(l))throw new Error("Invalid CanDeactivate guard");c=fi(l(n,e,t,r))}return c.pipe(Nr())})).pipe(sd()):L(!0)}(i.component,i.route,t,e,r)),Nr(i=>!0!==i,!0))}(o,r,i,n).pipe(Ot(a=>a&&function(n){return"boolean"==typeof n}(a)?function(n,e,t,r){return Ct(e).pipe(Bl(i=>oT(function(n,e){return null!==n&&e&&e(new Yie(n)),L(!0)}(i.route.parent,r),function(n,e){return null!==n&&e&&e(new Jie(n)),L(!0)}(i.route,r),function(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>aT(()=>L(o.guards.map(l=>{const c=fg(l,o.node,t);let u;if(function(n){return n&&xs(n.canActivateChild)}(c))u=fi(c.canActivateChild(r,n));else{if(!xs(c))throw new Error("Invalid CanActivateChild guard");u=fi(c(r,n))}return u.pipe(Nr())})).pipe(sd())));return L(s).pipe(sd())}(n,i.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?L(r.map(s=>aT(()=>{const o=fg(s,e,t);let a;if(function(n){return n&&xs(n.canActivate)}(o))a=fi(o.canActivate(e,n));else{if(!xs(o))throw new Error("Invalid CanActivate guard");a=fi(o(e,n))}return a.pipe(Nr())}))).pipe(sd()):L(!0)}(n,i.route,t))),Nr(i=>!0!==i,!0))}(r,s,n,e):L(a)),se(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),At(a=>{if(Uo(a.guardsResult)){const c=uT(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new Gie(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Vn(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),IT(a=>{if(a.guards.canActivateChecks.length)return L(a).pipe(At(l=>{const c=new qie(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),di(l=>{let c=!1;return L(l).pipe(function(n,e){return Ot(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return L(t);let s=0;return Ct(i).pipe(Bl(o=>function(n,e,t,r){return function(n,e,t,r){const i=Object.keys(n);if(0===i.length)return L({});const s={};return Ct(i).pipe(Ot(o=>function(n,e,t,r){const i=fg(n,e,r);return fi(i.resolve?i.resolve(e,t):i(e,t))}(n[o],e,t,r).pipe(At(a=>{s[o]=a}))),lT(1),Ot(()=>Object.keys(s).length===i.length?L(s):pl))}(n._resolve,n,e,r).pipe(se(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),HL(n,t).resolve),null)))}(o.route,r,n,e)),At(()=>s++),lT(1),Ot(o=>s===i.length?L(t):pl))})}(this.paramsInheritanceStrategy,this.ngModule.injector),At({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),At(l=>{const c=new Kie(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),IT(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),se(a=>{const l=function(n,e,t){const r=sg(n,e._root,t?t._root:void 0);return new UL(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),At(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>se(r=>(new xse(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),At({next(){s=!0},complete(){s=!0}}),EL(()=>{if(!s&&!o){const a=`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(i),this.cancelNavigationTransition(i,a)):this.cancelNavigationTransition(i,a)}this.currentNavigation=null}),ks(a=>{if(o=!0,function(n){return n&&n[DL]}(a)){const l=Uo(a.url);l||(this.navigated=!0,this.restoreHistory(i,!0));const c=new CL(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),l?setTimeout(()=>{const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||pg(i.source)};this.scheduleNavigation(u,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new $ie(i.id,this.serializeUrl(i.extractedUrl),a);r.next(l);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return pl}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:i,state:s,urlTree:o}=r,a={replaceUrl:!0};if(s){const l=Object.assign({},s);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(a.state=l)}this.scheduleNavigation(o,i,s,a)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(t){var r;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,r){if(!t)return!0;const i=r.urlTree.toString()===t.urlTree.toString();return r.transitionId!==t.transitionId||!i||!("hashchange"===r.source&&"popstate"===t.source||"popstate"===r.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ZL(t),this.config=t.map(CT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=i||this.routerState.root,u=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function(n,e,t,r,i){if(0===t.length)return yT(e.root,e.root,e,r,i);const s=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new qL(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Lt(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new qL(t,e,r)}(t);if(s.toRoot())return yT(e.root,new ye([],{}),e,r,i);const o=function(n,e,t){if(n.isAbsolute)return new vT(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new vT(s,s===e.root,0)}const r=og(n.commands[0])?0:1;return function(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new vT(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),a=o.processChildren?ag(o.segmentGroup,o.index,s.commands):KL(o.segmentGroup,o.index,s.commands);return yT(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,d,null!=u?u:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Uo(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},Roe):!1===r?Object.assign({},Moe):r,Uo(t))return kL(this.currentUrlTree,t,i);const s=this.parseUrl(t);return kL(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Zu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){var a,l;if(this.disposed)return Promise.resolve(!1);const c=this.getTransition(),u=pg(r)&&c&&!pg(c.source),f=(this.lastSuccessfulId===c.id||this.currentNavigation?c.rawUrl:c.urlAfterRedirects).toString()===t.toString();if(u&&f)return Promise.resolve(!0);let p,_,g;o?(p=o.resolve,_=o.reject,g=o.promise):g=new Promise((w,S)=>{p=w,_=S});const v=++this.navigationId;let y;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),y=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):y=0,this.setTransition({id:v,targetPageId:y,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:p,reject:_,promise:g,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),g.catch(w=>Promise.reject(w))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new CL(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(m(fa),m(dT),m(jl),m(il),m(me),m(Oh),m(Zs),m(void 0))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();function pg(n){return"imperative"!==n}let gg=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.route=r,this.commands=[],this.onChanges=new Ee,null==i&&s.setAttribute(o.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:Hl(this.skipLocationChange),replaceUrl:Hl(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Hl(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(b(Gt),b(Bo),ca("tabindex"),b(Eh),b(Ae))},n.\u0275dir=ne({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&Ge("click",function(){return r.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[pr]}),n})();function Hl(n){return""===n||!!n}let ST=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Fe,this.deactivateEvents=new Fe,this.name=s||pe,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new Ooe(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(b(jl),b(en),b(Ai),ca("name"),b(Qs))},n.\u0275dir=ne({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class Ooe{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Bo?this.route:e===jl?this.childContexts:this.parent.get(e,t)}}class gV{}class _V{preload(e,t){return L(null)}}let mV=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=s,this.preloadingStrategy=o,this.loader=new fV(r,i,c=>t.triggerEvent(new wL(c)),c=>t.triggerEvent(new IL(c)))}setUpPreloading(){this.subscription=this.router.events.pipe(Vn(t=>t instanceof Zu),Bl(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Xr);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return Ct(i).pipe(Zl(),se(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?L(r._loadedConfig):this.loader.load(t.injector,r)).pipe(Ot(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(m(Gt),m(Oh),m(Zs),m(me),m(gV))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})(),AT=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof cT?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Zu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof TL&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new TL(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(m(Gt),m(hx),m(void 0))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();const jo=new O("ROUTER_CONFIGURATION"),yV=new O("ROUTER_FORROOT_GUARD"),Foe=[il,{provide:dT,useClass:NL},{provide:Gt,useFactory:function(n,e,t,r,i,s,o,a={},l,c){const u=new Gt(null,n,e,t,r,i,s,AL(o));return l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(a,u),a.enableTracing&&u.events.subscribe(d=>{var h,f;null===(h=console.group)||void 0===h||h.call(console,`Router Event: ${d.constructor.name}`),console.log(d.toString()),console.log(d),null===(f=console.groupEnd)||void 0===f||f.call(console)}),u},deps:[dT,jl,il,me,Oh,Zs,TT,jo,[class{},new Be],[class{},new Be]]},jl,{provide:Bo,useFactory:function(n){return n.routerState.root},deps:[Gt]},{provide:Oh,useClass:e4},mV,_V,class{preload(e,t){return t().pipe(ks(()=>L(null)))}},{provide:jo,useValue:{enableTracing:!1}}];function Loe(){return new Ey("Router",Gt)}let vV=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[Foe,bV(t),{provide:yV,useFactory:Uoe,deps:[[Gt,new Be,new Ei]]},{provide:jo,useValue:r||{}},{provide:rl,useFactory:Boe,deps:[ro,[new ma(Vy),new Be],jo]},{provide:AT,useFactory:Voe,deps:[Gt,hx,jo]},{provide:gV,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:_V},{provide:Ey,multi:!0,useFactory:Loe},[RT,{provide:Yc,multi:!0,useFactory:Woe,deps:[RT]},{provide:EV,useFactory:zoe,deps:[RT]},{provide:sk,multi:!0,useExisting:EV}]]}}static forChild(t){return{ngModule:n,providers:[bV(t)]}}}return n.\u0275fac=function(t){return new(t||n)(m(yV,8),m(Gt,8))},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({}),n})();function Voe(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new AT(n,e,t)}function Boe(n,e,t={}){return t.useHash?new b6(n,e):new Kk(n,e)}function Uoe(n){return"guarded"}function bV(n){return[{provide:AU,multi:!0,useValue:n},{provide:TT,multi:!0,useValue:n}]}let RT=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ee}appInitializer(){return this.injector.get(m6,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(Gt),o=this.injector.get(jo);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?L(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(jo),i=this.injector.get(mV),s=this.injector.get(AT),o=this.injector.get(Gt),a=this.injector.get(eo);t===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(m(me))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();function Woe(n){return n.appInitializer.bind(n)}function zoe(n){return n.bootstrapListener.bind(n)}const EV=new O("Router Initializer");let qoe=(()=>{class n{constructor(){this.title="holys-bet-manager"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=lt({type:n,selectors:[["app-root"]],decls:11,vars:1,consts:[[1,"page"],[1,"header"],[1,"container"],[1,"flex"],[1,"logo",3,"routerLink"],[1,"ml-2","text-large"],[1,"content"]],template:function(t,r){1&t&&(T(0,"div",0),T(1,"div",1),T(2,"div",2),T(3,"div",3),T(4,"span",4),te(5,"\u{1f4b8}"),D(),T(6,"p",5),te(7,"Holy's Bet Manager"),D(),D(),D(),D(),T(8,"div",6),T(9,"div",2),Yn(10,"router-outlet"),D(),D(),D()),2&t&&($(4),he("routerLink","home"))},directives:[gg,ST],styles:[".page[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{width:100%;height:var(--header-height);background-color:var(--color-primary);display:flex;align-items:center}.page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:28px}.page[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex-grow:1;height:100%;background-color:var(--color-light)}"]}),n})();function CV(n){return Array.isArray(n)?n:[n]}function ht(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ho(n){return n instanceof Ae?n.nativeElement:n}function MT(n,e,t,r){return ln(t)&&(r=t,t=void 0),r?MT(n,e,t).pipe(se(i=>Br(i)?r(...i):r(i))):new H(i=>{wV(n,e,function(o){i.next(arguments.length>1?Array.prototype.slice.call(arguments):o)},i,t)})}function wV(n,e,t,r,i){let s;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const o=n;n.addEventListener(e,t,i),s=()=>o.removeEventListener(e,t,i)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const o=n;n.on(e,t),s=()=>o.off(e,t)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const o=n;n.addListener(e,t),s=()=>o.removeListener(e,t)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let o=0,a=n.length;o<a;o++)wV(n[o],e,t,r,i)}r.add(s)}new class extends kr{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let r,i=-1,s=t.length;e=e||t.shift();do{if(r=e.execute(e.state,e.delay))break}while(++i<s&&(e=t.shift()));if(this.active=!1,r){for(;++i<s&&(e=t.shift());)e.unsubscribe();throw r}}}(class extends wf{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}});class tae{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new nae(e,this.compare,this.keySelector))}}class nae extends _e{constructor(e,t,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:i}=this;t=i?i(e):e}catch(i){return this.destination.error(i)}let r=!1;if(this.hasKey)try{const{compare:i}=this;r=i(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}class iae{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new sae(e,this.durationSelector))}}class sae extends Jl{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let t;try{const{durationSelector:i}=this;t=i(e)}catch(i){return this.destination.error(i)}const r=Xl(t,new Ql(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:e,hasValue:t,throttled:r}=this;r&&(this.remove(r),this.throttled=void 0,r.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function aae(n){const{index:e,period:t,subscriber:r}=n;if(r.next(e),!r.closed){if(-1===t)return r.complete();n.index=e+1,this.schedule(n,t)}}function kT(n,e=If){return function(n){return function(t){return t.lift(new iae(n))}}(()=>function(n=0,e,t){let r=-1;return Gb(e)?r=Number(e)<1?1:Number(e):Xo(e)&&(t=e),Xo(t)||(t=If),new H(i=>{const s=Gb(n)?n:+n-t.now();return t.schedule(aae,s,{index:0,period:r,subscriber:i})})}(n,e))}function ud(n){return e=>e.lift(new lae(n))}class lae{constructor(e){this.notifier=e}call(e,t){const r=new cae(e),i=Xl(this.notifier,new Ql(r));return i&&!r.seenValue?(r.add(i),t.subscribe(r)):r}}class cae extends Jl{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let xT;try{xT="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){xT=!1}let dd,$o,OT,Fr,ft=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function(n){return n===dx}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!xT)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(m(fs))},n.\u0275prov=M({factory:function(){return new n(m(fs))},token:n,providedIn:"root"}),n})(),_g=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({}),n})();function PT(n){return function(){if(null==dd&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>dd=!0}))}finally{dd=dd||!1}return dd}()?n:!!n.capture}function SV(){if(null==$o){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return $o=!1,$o;if("scrollBehavior"in document.documentElement.style)$o=!0;else{const n=Element.prototype.scrollTo;$o=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return $o}function yg(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Wl(n){return n.composedPath?n.composedPath()[0]:n.target}function NT(){return void 0!==Fr.__karma__&&!!Fr.__karma__||void 0!==Fr.jasmine&&!!Fr.jasmine||void 0!==Fr.jest&&!!Fr.jest||void 0!==Fr.Mocha&&!!Fr.Mocha}Fr="undefined"!=typeof global?global:"undefined"!=typeof window?window:{};const AV=new O("cdk-dir-doc",{providedIn:"root",factory:function(){return E_(N)}});let Wo=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new Fe,t){const i=t.documentElement?t.documentElement.dir:null,s=(t.body?t.body.dir:null)||i;this.value="ltr"===s||"rtl"===s?s:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(m(AV,8))},n.\u0275prov=M({factory:function(){return new n(m(AV,8))},token:n,providedIn:"root"}),n})(),fd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({}),n})(),vg=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Ee,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new H(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(kT(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):L()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Vn(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=Ho(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>MT(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(m(K),m(ft),m(N,8))},n.\u0275prov=M({factory:function(){return new n(m(K),m(ft),m(N,8))},token:n,providedIn:"root"}),n})(),pd=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Ee,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(kT(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(m(ft),m(K),m(N,8))},n.\u0275prov=M({factory:function(){return new n(m(ft),m(K),m(N,8))},token:n,providedIn:"root"}),n})(),PV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({}),n})(),OV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({imports:[[fd,_g,PV],fd,PV]}),n})();class FT{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class bg extends FT{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class Eg extends FT{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Oae extends FT{constructor(e){super(),this.element=e instanceof Ae?e.nativeElement:e}}class LT{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof bg?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Eg?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Oae?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Nae extends LT{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Cg=(()=>{class n extends LT{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Fe,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=r.createComponent(s,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(b(Ai),b(en),b(N))},n.\u0275dir=ne({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Rn]}),n})(),FV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({}),n})();const VV=SV();class Gae{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ht(-this._previousScrollPosition.left),e.style.top=ht(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),VV&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),VV&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class qae{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class BV{enable(){}disable(){}attach(){}}function BT(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function UV(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Kae{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();BT(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Yae=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new BV,this.close=o=>new qae(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new Gae(this._viewportRuler,this._document),this.reposition=o=>new Kae(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(m(vg),m(pd),m(K),m(N))},n.\u0275prov=M({factory:function(){return new n(m(vg),m(pd),m(K),m(N))},token:n,providedIn:"root"}),n})();class UT{constructor(e){if(this.scrollStrategy=new BV,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class Qae{constructor(e,t,r,i,s){this.offsetX=r,this.offsetY=i,this.panelClass=s,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class Jae{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let jV=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(m(N))},n.\u0275prov=M({factory:function(){return new n(m(N))},token:n,providedIn:"root"}),n})(),Xae=(()=>{class n extends jV{constructor(t){super(t),this._keydownListener=r=>{const i=this._attachedOverlays;for(let s=i.length-1;s>-1;s--)if(i[s]._keydownEvents.observers.length>0){i[s]._keydownEvents.next(r);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(m(N))},n.\u0275prov=M({factory:function(){return new n(m(N))},token:n,providedIn:"root"}),n})(),Zae=(()=>{class n extends jV{constructor(t,r){super(t),this._platform=r,this._cursorStyleIsSet=!1,this._clickListener=i=>{const s=Wl(i),o=this._attachedOverlays.slice();for(let a=o.length-1;a>-1;a--){const l=o[a];if(!(l._outsidePointerEvents.observers.length<1)&&l.hasAttached()){if(l.overlayElement.contains(s))break;l._outsidePointerEvents.next(i)}}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(t){return new(t||n)(m(N),m(ft))},n.\u0275prov=M({factory:function(){return new n(m(N),m(ft))},token:n,providedIn:"root"}),n})(),gd=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||NT()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].parentNode.removeChild(i[s])}const r=this._document.createElement("div");r.classList.add(t),NT()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(m(N),m(ft))},n.\u0275prov=M({factory:function(){return new n(m(N),m(ft))},token:n,providedIn:"root"}),n})();class ele{constructor(e,t,r,i,s,o,a,l,c){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new Ee,this._attachments=new Ee,this._detachments=new Ee,this._locationChanges=ue.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._keydownEvents=new Ee,this._outsidePointerEvents=new Ee,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(zi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ht(this._config.width),e.height=ht(this._config.height),e.minWidth=ht(this._config.minWidth),e.minHeight=ht(this._config.minHeight),e.maxWidth=ht(this._config.maxWidth),e.maxHeight=ht(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const r=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",r),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",r)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(e,t,r){const i=e.classList;CV(t).forEach(s=>{s&&(r?i.add(s):i.remove(s))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(ud(cD(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.parentNode&&e.parentNode.removeChild(e),this._backdropElement===e&&(this._backdropElement=null))}}const HV="cdk-overlay-connected-position-bounding-box",tle=/([A-Za-z%]+)$/;class $V{constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ee,this._resizeSubscription=ue.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(HV),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=[];let s;for(let o of this._preferredPositions){let a=this._getOriginPoint(e,o),l=this._getOverlayPoint(a,t,o),c=this._getOverlayFit(l,t,r,o);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,a);this._canFitWithFlexibleDimensions(c,l,r)?i.push({position:o,origin:a,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(a,o)}):(!s||s.overlayFit.visibleArea<c.visibleArea)&&(s={overlayFit:c,overlayPoint:l,originPoint:a,position:o,overlayRect:t})}if(i.length){let o=null,a=-1;for(const l of i){const c=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);c>a&&(a=c,o=l)}return this._isPushed=!1,void this._applyPosition(o.position,o.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&zo(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(HV),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let r,i;if("center"==t.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,o=this._isRtl()?e.left:e.right;r="start"==t.originX?s:o}return i="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:r,y:i}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=zV(t);let{x:o,y:a}=e,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(o+=l),c&&(a+=c);let h=0-a,f=a+s.height-r.height,p=this._subtractOverflows(s.width,0-o,o+s.width-r.width),_=this._subtractOverflows(s.height,h,f),g=p*_;return{visibleArea:g,isCompletelyWithinViewport:s.width*s.height===g,fitsInViewportVertically:_===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,o=WV(this._overlayRef.getConfig().minHeight),a=WV(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportHorizontally||null!=a&&a<=s;return(e.fitsInViewportVertically||null!=o&&o<=i)&&c}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=zV(t),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),l=Math.max(s.top-r.top-e.y,0),c=Math.max(s.left-r.left-e.x,0);let u=0,d=0;return u=i.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-r.left-e.x:0,d=i.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new Jae(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,o,a,u,d,h;if("top"===t.overlayY)o=e.y,s=r.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,s=r.height-a+this._viewportMargin;else{const f=Math.min(r.bottom-e.y+r.top,e.y),p=this._lastBoundingBoxSize.height;s=2*f,o=e.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)h=r.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)d=e.x,u=r.right-e.x;else{const f=Math.min(r.right-e.x+r.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=ht(r.height),i.top=ht(r.top),i.bottom=ht(r.bottom),i.width=ht(r.width),i.left=ht(r.left),i.right=ht(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=ht(s)),o&&(i.maxWidth=ht(o))}this._lastBoundingBoxSize=r,zo(this._boundingBox.style,i)}_resetBoundingBoxStyles(){zo(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){zo(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();zo(r,this._getExactOverlayY(t,e,u)),zo(r,this._getExactOverlayX(t,e,u))}else r.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=ht(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=ht(o.maxWidth):s&&(r.maxWidth="")),zo(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return s.y-=o,"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=ht(s.y),i}_getExactOverlayX(e,t,r){let o,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=ht(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:UV(e,r),isOriginOutsideView:BT(e,r),isOverlayClipped:UV(t,r),isOverlayOutsideView:BT(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&CV(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Ae)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function zo(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function WV(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(tle);return t&&"px"!==t?null:parseFloat(e)}return n||null}function zV(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}class nle{constructor(e,t,r,i,s,o,a){this._preferredPositions=[],this._positionStrategy=new $V(r,i,s,o,a).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,t),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(e){this._positionStrategy.withScrollableContainers(e)}withFallbackPosition(e,t,r,i){const s=new Qae(e,t,r,i);return this._preferredPositions.push(s),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}withOffsetX(e){return this._positionStrategy.withDefaultOffsetX(e),this}withOffsetY(e){return this._positionStrategy.withDefaultOffsetY(e),this}withLockedPosition(e){return this._positionStrategy.withLockedPosition(e),this}withPositions(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(e){return this._positionStrategy.setOrigin(e),this}}const GV="cdk-global-overlay-wrapper";class rle{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(GV),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,l=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a);e.position=this._cssPosition,e.marginLeft=l?"0":this._leftOffset,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,l?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(GV),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let qV=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new rle}connectedTo(t,r,i){return new nle(r,i,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new $V(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(m(pd),m(N),m(ft),m(gd))},n.\u0275prov=M({factory:function(){return new n(m(pd),m(N),m(ft),m(gd))},token:n,providedIn:"root"}),n})(),ile=0,Go=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,d,h){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),o=new UT(t);return o.direction=o.direction||this._directionality.value,new ele(s,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+ile++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(eo)),new Nae(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(m(Yae),m(gd),m(Ai),m(qV),m(Xae),m(me),m(K),m(N),m(Wo),m(il),m(Zae))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();const ale={provide:new O("cdk-connected-overlay-scroll-strategy"),deps:[Go],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let lle=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({providers:[Go,ale],imports:[[fd,FV,OV],OV]}),n})();class ule{constructor(e){this.total=e}call(e,t){return t.subscribe(new dle(e,this.total))}}class dle extends _e{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}let XV=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function(n){try{return n.frameElement}catch(e){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===eB(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),s=eB(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==s:"video"===i?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||ZV(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(m(ft))},n.\u0275prov=M({factory:function(){return new n(m(ft))},token:n,providedIn:"root"}),n})();function ZV(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function eB(n){if(!ZV(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Rle{constructor(e,t,r,i,s=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let r=0;r<t.length;r++)t[r].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]):t[r].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return null==r||r.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=0;r<t.length;r++){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=t.length-1;r>=0;r--){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(zi(1)).subscribe(e)}}let tB=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new Rle(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(m(XV),m(K),m(N))},n.\u0275prov=M({factory:function(){return new n(m(XV),m(K),m(N))},token:n,providedIn:"root"}),n})();"undefined"!=typeof Element&&Element;const iB=new O("cdk-input-modality-detector-options"),Ole={ignoreKeys:[18,17,224,91,16]},zl=PT({passive:!0,capture:!0});let oB=(()=>{class n{constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new or(null),this._lastTouchMs=0,this._onKeydown=o=>{var a,l;(null===(l=null===(a=this._options)||void 0===a?void 0:a.ignoreKeys)||void 0===l?void 0:l.some(c=>c===o.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Wl(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function(n){return 0===n.offsetX&&0===n.offsetY}(o)?"keyboard":"mouse"),this._mostRecentTarget=Wl(o))},this._onTouchstart=o=>{!function(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(o)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Wl(o)):this._modality.next("keyboard")},this._options=Object.assign(Object.assign({},Ole),s),this.modalityDetected=this._modality.pipe(e=>e.lift(new ule(1))),this.modalityChanged=this.modalityDetected.pipe(function(n,e){return t=>t.lift(new tae(n,e))}()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,zl),i.addEventListener("mousedown",this._onMousedown,zl),i.addEventListener("touchstart",this._onTouchstart,zl)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,zl),document.removeEventListener("mousedown",this._onMousedown,zl),document.removeEventListener("touchstart",this._onTouchstart,zl))}}return n.\u0275fac=function(t){return new(t||n)(m(ft),m(K),m(N),m(iB,8))},n.\u0275prov=M({factory:function(){return new n(m(ft),m(K),m(N),m(iB,8))},token:n,providedIn:"root"}),n})();const cB=new O("cdk-focus-monitor-default-options"),wg=PT({passive:!0,capture:!0});let uB=(()=>{class n{constructor(t,r,i,s,o){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ee,this._rootNodeFocusAndBlurListener=a=>{const l=Wl(a),c="focus"===a.type?this._onFocus:this._onBlur;for(let u=l;u;u=u.parentElement)c.call(this,a,u)},this._document=s,this._detectionMode=(null==o?void 0:o.detectionMode)||0}monitor(t,r=!1){const i=Ho(t);if(!this._platform.isBrowser||1!==i.nodeType)return L(null);const s=function(n){if(function(){if(null==OT){const n="undefined"!=typeof document?document.head:null;OT=!(!n||!n.createShadowRoot&&!n.attachShadow)}return OT}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),o=this._elementInfo.get(i);if(o)return r&&(o.checkChildren=!0),o.subject;const a={checkChildren:r,subject:new Ee,rootNode:s};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=Ho(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=Ho(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,r,l)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,r,i){i?t.classList.add(r):t.classList.remove(r)}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){this._toggleClass(t,"cdk-focused",!!r),this._toggleClass(t,"cdk-touch-focused","touch"===r),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===r),this._toggleClass(t,"cdk-mouse-focused","mouse"===r),this._toggleClass(t,"cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=Wl(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,wg),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,wg)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ud(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,wg),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,wg),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(m(K),m(ft),m(oB),m(N,8),m(cB,8))},n.\u0275prov=M({factory:function(){return new n(m(K),m(ft),m(oB),m(N,8),m(cB,8))},token:n,providedIn:"root"}),n})();const dB="cdk-high-contrast-black-on-white",hB="cdk-high-contrast-white-on-black",HT="cdk-high-contrast-active";let fB=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(HT),t.remove(dB),t.remove(hB),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(HT),t.add(dB)):2===r&&(t.add(HT),t.add(hB))}}}return n.\u0275fac=function(t){return new(t||n)(m(ft),m(N))},n.\u0275prov=M({factory:function(){return new n(m(ft),m(N))},token:n,providedIn:"root"}),n})();const pB=new us("12.2.9"),gB=new us("12.2.9"),$le=new O("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let qo,pi=(()=>{class n{constructor(t,r,i){this._hasDoneGlobalChecks=!1,this._document=i,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=r,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!(!by()||NT())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const r=getComputedStyle(t);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&gB.full!==pB.full&&console.warn("The Angular Material version ("+gB.full+") does not match the Angular CDK version ("+pB.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(t){return new(t||n)(m(fB),m($le,8),m(N))},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({imports:[[fd],fd]}),n})();function zle(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}try{qo="undefined"!=typeof Intl}catch(n){qo=!1}function yce(n,e){}class WT{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const vce={dialogContainer:xp("dialogContainer",[xo("void, exit",vn({opacity:0,transform:"scale(0.7)"})),xo("enter",vn({transform:"none"})),Nl("* => enter",Ol("150ms cubic-bezier(0, 0, 0.2, 1)",vn({transform:"none",opacity:1}))),Nl("* => void, * => exit",Ol("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",vn({opacity:0})))])};let bce=(()=>{class n extends LT{constructor(t,r,i,s,o,a){super(),this._elementRef=t,this._focusTrapFactory=r,this._changeDetectorRef=i,this._config=o,this._focusMonitor=a,this._animationStateChanged=new Fe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=l=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(l)),this._ariaLabelledBy=o.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const r=yg(),i=this._elementRef.nativeElement;(!r||r===this._document.body||r===i||i.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=yg())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=yg();return t===r||t.contains(r)}}return n.\u0275fac=function(t){return new(t||n)(b(Ae),b(tB),b(Qs),b(N,8),b(WT),b(uB))},n.\u0275dir=ne({type:n,viewQuery:function(t,r){if(1&t&&Rh(Cg,7),2&t){let i;Ja(i=Xa())&&(r._portalOutlet=i.first)}},features:[Rn]}),n})(),Ece=(()=>{class n extends bce{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:r}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=function(n){return ts(()=>{const e=n.prototype.constructor,t=e[vi]||p_(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[vi]||p_(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(n)))(r||n)}}(),n.\u0275cmp=lt({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,r){1&t&&Tm("@dialogContainer.start",function(s){return r._onAnimationStart(s)})("@dialogContainer.done",function(s){return r._onAnimationDone(s)}),2&t&&(Ua("id",r._id),Di("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),Mm("@dialogContainer",r._state))},features:[Rn],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&Ye(0,yce,0,0,"ng-template",0)},directives:[Cg],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[vce.dialogContainer]}}),n})(),Cce=0;class md{constructor(e,t,r="mat-dialog-"+Cce++){this._overlayRef=e,this._containerInstance=t,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Ee,this._afterClosed=new Ee,this._beforeClosed=new Ee,this._state=0,t._id=r,t._animationStateChanged.pipe(Vn(i=>"opened"===i.state),zi(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Vn(i=>"closed"===i.state),zi(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(Vn(i=>27===i.keyCode&&!this.disableClose&&!function(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(i))).subscribe(i=>{i.preventDefault(),zT(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():zT(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Vn(t=>"closing"===t.state),zi(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function zT(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const GT=new O("MatDialogData"),wce=new O("mat-dialog-default-options"),wB=new O("mat-dialog-scroll-strategy"),Tce={provide:wB,deps:[Go],useFactory:function(n){return()=>n.scrollStrategies.block()}};let Dce=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=s,this._overlayContainer=o,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ee,this._afterOpenedAtThisLevel=new Ee,this._ariaHiddenElements=new Map,this.afterAllClosed=aT(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Xu(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,r){(r=function(n,e){return Object.assign(Object.assign({},e),n)}(r,this._defaultOptions||new WT)).id&&this.getDialogById(r.id);const i=this._createOverlay(r),s=this._attachDialogContainer(i,r),o=this._attachDialogContent(t,s,i,r);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe(()=>this._removeOpenDialog(o)),this.afterOpened.next(o),s._initializeWithAttachedContent(),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const r=this._getOverlayConfig(t);return this._overlay.create(r)}_getOverlayConfig(t){const r=new UT({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachDialogContainer(t,r){const s=me.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:WT,useValue:r}]}),o=new bg(this._dialogContainerType,r.viewContainerRef,s,r.componentFactoryResolver);return t.attach(o).instance}_attachDialogContent(t,r,i,s){const o=new this._dialogRefConstructor(i,r,s.id);if(t instanceof Mn)r.attachTemplatePortal(new Eg(t,null,{$implicit:s.data,dialogRef:o}));else{const a=this._createInjector(s,o,r),l=r.attachComponentPortal(new bg(t,s.viewContainerRef,a));o.componentInstance=l.instance}return o.updateSize(s.width,s.height).updatePosition(s.position),o}_createInjector(t,r,i){const s=t&&t.viewContainerRef&&t.viewContainerRef.injector,o=[{provide:this._dialogContainerType,useValue:i},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:r}];return t.direction&&(!s||!s.get(Wo,null,B.Optional))&&o.push({provide:Wo,useValue:{value:t.direction,change:L()}}),me.create({parent:s||this._injector,providers:o})}_removeOpenDialog(t){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((i,s)=>{i?s.setAttribute("aria-hidden",i):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){let s=r[i];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){return new(t||n)(b(Go),b(me),b(void 0),b(void 0),b(gd),b(void 0),b(fa),b(fa),b(O))},n.\u0275dir=ne({type:n}),n})(),Tg=(()=>{class n extends Dce{constructor(t,r,i,s,o,a,l){super(t,r,s,a,l,o,md,Ece,GT)}}return n.\u0275fac=function(t){return new(t||n)(m(Go),m(me),m(il,8),m(wce,8),m(wB),m(n,12),m(gd))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})(),Rce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({providers:[Tg,Tce],imports:[[lle,FV,pi],pi]}),n})();function Dg(n,e){return new H(t=>{const r=n.length;if(0===r)return void t.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const l=Ct(n[a]);let c=!1;t.add(l.subscribe({next:u=>{c||(c=!0,o++),i[a]=u},error:u=>t.error(u),complete:()=>{s++,(s===r||!c)&&(o===r&&t.next(e?e.reduce((u,d,h)=>(u[d]=i[h],u),{}):i),t.complete())}}))}})}class TB{}class Ki{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ki?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ki;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ki?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class kce{encodeKey(e){return SB(e)}encodeValue(e){return SB(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Pce=/%(\d[a-f0-9])/gi,Oce={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function SB(n){return encodeURIComponent(n).replace(Pce,(e,t)=>{var r;return null!==(r=Oce[t])&&void 0!==r?r:e})}function AB(n){return`${n}`}class Ps{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new kce,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ps({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(AB(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(AB(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Nce{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function RB(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function MB(n){return"undefined"!=typeof Blob&&n instanceof Blob}function kB(n){return"undefined"!=typeof FormData&&n instanceof FormData}class yd{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ki),this.context||(this.context=new Nce),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new Ps,this.urlWithParams=t}serializeBody(){return null===this.body?null:RB(this.body)||MB(this.body)||kB(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ps?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||kB(this.body)?null:MB(this.body)?this.body.type||null:RB(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ps?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,s=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,l=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const d=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((h,f)=>h.set(f,e.setHeaders[f]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((h,f)=>h.set(f,e.setParams[f]),u)),new yd(r,i,o,{params:u,headers:c,context:d,reportProgress:l,responseType:s,withCredentials:a})}}var pt=(()=>((pt=pt||{})[pt.Sent=0]="Sent",pt[pt.UploadProgress=1]="UploadProgress",pt[pt.ResponseHeader=2]="ResponseHeader",pt[pt.DownloadProgress=3]="DownloadProgress",pt[pt.Response=4]="Response",pt[pt.User=5]="User",pt))();class Sg extends class{constructor(e,t=200,r="OK"){this.headers=e.headers||new Ki,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=pt.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Sg({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function YT(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Ag=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof yd)s=t;else{let l,c;l=i.headers instanceof Ki?i.headers:new Ki(i.headers),i.params&&(c=i.params instanceof Ps?i.params:new Ps({fromObject:i.params})),s=new yd(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=L(s).pipe(Bl(l=>this.handler.handle(l)));if(t instanceof yd||"events"===i.observe)return o;const a=o.pipe(Vn(l=>l instanceof Sg));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(se(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(se(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(se(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(se(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Ps).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,YT(i,r))}post(t,r,i={}){return this.request("POST",t,YT(i,r))}put(t,r,i={}){return this.request("PUT",t,YT(i,r))}}return n.\u0275fac=function(t){return new(t||n)(m(TB))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();const Wce=["*"];function LB(n){return Error(`Unable to find icon with the name "${n}"`)}function VB(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function BB(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Ko{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let Rg=(()=>{class n{constructor(t,r,i,s){this._httpClient=t,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,s){return this._addSvgIconConfig(t,r,new Ko(i,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,s){const o=this._sanitizer.sanitize(Se.HTML,i);if(!o)throw BB(i);return this._addSvgIconConfig(t,r,new Ko("",o,s))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Ko(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const s=this._sanitizer.sanitize(Se.HTML,r);if(!s)throw BB(r);return this._addSvgIconSetConfig(t,new Ko("",s,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(Se.RESOURCE_URL,t);if(!r)throw VB(t);const i=this._cachedIconsByUrl.get(r);return i?L(Mg(i)):this._loadSvgIconFromConfig(new Ko(t,null)).pipe(At(s=>this._cachedIconsByUrl.set(r,s)),se(s=>Mg(s)))}getNamedSvgIcon(t,r=""){const i=UB(r,t);let s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,t),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(r);return o?this._getSvgFromIconSetConfigs(t,o):VP(LB(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?L(Mg(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(se(r=>Mg(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?L(i):function(...n){if(1===n.length){const e=n[0];if(Br(e))return Dg(e,null);if(Xi(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Dg(t.map(r=>e[r]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return Dg(n=1===n.length&&Br(n[0])?n[0]:n,null).pipe(se(t=>e(...t)))}return Dg(n,null)}(r.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(ks(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(Se.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),L(null)})))).pipe(se(()=>{const o=this._extractIconWithNameFromAnySet(t,r);if(!o)throw LB(t);return o}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const s=r[i];if(s.svgText&&s.svgText.indexOf(t)>-1){const o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,t,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(At(r=>t.svgText=r),se(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?L(null):this._fetchIcon(t).pipe(At(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const s=t.querySelector(`[id="${r}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,i);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),i);const a=this._svgElementFromString("<svg></svg>");return a.appendChild(o),this._setSvgAttributes(a,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString("<svg></svg>"),i=t.attributes;for(let s=0;s<i.length;s++){const{name:o,value:a}=i[s];"id"!==o&&r.setAttribute(o,a)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){var r;const{url:i,options:s}=t,o=null!==(r=null==s?void 0:s.withCredentials)&&void 0!==r&&r;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const a=this._sanitizer.sanitize(Se.RESOURCE_URL,i);if(!a)throw VB(i);const l=this._inProgressUrlFetches.get(a);if(l)return l;const c=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(EL(()=>this._inProgressUrlFetches.delete(a)),dD());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(UB(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const s=this._resolvers[i](r,t);if(s)return qce(s)?new Ko(s.url,null,s.options):new Ko(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(m(Ag,8),m(sl),m(N,8),m(gr))},n.\u0275prov=M({factory:function(){return new n(m(Ag,8),m(sl),m(N,8),m(gr))},token:n,providedIn:"root"}),n})();function Mg(n){return n.cloneNode(!0)}function UB(n,e){return n+":"+e}function qce(n){return!(!n.url||!n.options)}const Kce=zle(class{constructor(n){this._elementRef=n}}),Yce=new O("mat-icon-location",{providedIn:"root",factory:function(){const n=E_(N),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),jB=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Xce=jB.map(n=>`[${n}]`).join(", "),Zce=/^url\(['"]?#(.*?)['"]?\)$/;let Gl=(()=>{class n extends Kce{constructor(t,r,i,s,o){super(t),this._iconRegistry=r,this._location=s,this._errorHandler=o,this._inline=!1,this._currentIconFetch=ue.EMPTY,i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=function(n){return null!=n&&"false"!=`${n}`}(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=t.querySelectorAll("style");for(let s=0;s<r.length;s++)r[s].textContent+=" ";const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&t.removeChild(i)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),r&&t.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(Xce),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)jB.forEach(o=>{const a=r[s],l=a.getAttribute(o),c=l?l.match(Zce):null;if(c){let u=i.get(a);u||(u=[],i.set(a,u)),u.push({name:o,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(zi(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(b(Ae),b(Rg),ca("aria-hidden"),b(Yce),b(gr))},n.\u0275cmp=lt({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(Di("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),Xt("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Rn],ngContentSelectors:Wce,decls:1,vars:0,template:function(t,r){1&t&&(Si(),Er(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),HB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({imports:[[pi],pi]}),n})(),$B=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({imports:[[tf,HB],HB,Rce]}),n})(),eue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({imports:[[tf,$B]]}),n})();function WB(n){return e=>e.lift(new tue(n))}class tue{constructor(e){this.value=e}call(e,t){return t.subscribe(new nue(e,this.value))}}class nue extends _e{constructor(e,t){super(e),this.value=t}_next(e){this.destination.next(this.value)}}var kg,rue=new Uint8Array(16);function iue(){if(!kg&&!(kg="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return kg(rue)}const sue=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,aue=function(n){return"string"==typeof n&&sue.test(n)};for(var Vt=[],ZT=0;ZT<256;++ZT)Vt.push((ZT+256).toString(16).substr(1));const zB=function(n,e,t){var r=(n=n||{}).random||(n.rng||iue)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=r[i];return e}return function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(Vt[n[e+0]]+Vt[n[e+1]]+Vt[n[e+2]]+Vt[n[e+3]]+"-"+Vt[n[e+4]]+Vt[n[e+5]]+"-"+Vt[n[e+6]]+Vt[n[e+7]]+"-"+Vt[n[e+8]]+Vt[n[e+9]]+"-"+Vt[n[e+10]]+Vt[n[e+11]]+Vt[n[e+12]]+Vt[n[e+13]]+Vt[n[e+14]]+Vt[n[e+15]]).toLowerCase();if(!aue(t))throw TypeError("Stringified UUID is invalid");return t}(r)};let GB=(()=>{class n{constructor(t){this.db=t,this.nights=ko(this.db,"nights")}getRef(t){return ko(this.db,t)}getAllNights(){return AI(this.nights).pipe(se(this.mapToArray))}getAllFightsOfNight(t){return AI(ko(this.db,`nights/${t}/fights`)).pipe(se(this.mapToArray))}getNightRef(t){return ko(this.db,`nights/${t}`)}getFightRef(t,r){return ko(this.db,`nights/${t}/fights/${r}`)}createNewNight(){const t=zB(),r=ko(this.db,`nights/${t}`),i={id:t,name:"Created night",timestamp:(new Date).getTime(),players:[],fights:[]};return Ct(hF(r,i)).pipe(Nr(),WB(i))}createNewFight(t,r,i,s){const o=zB(),a=ko(this.db,`nights/${t}/fights/${o}`),l={id:o,firstFighter:r,secondFighter:i,bet:s};return Ct(hF(a,l)).pipe(Nr(),WB(l))}mapToArray(t){return null===t?[]:Object.keys(t).map(r=>t[r])}}return n.\u0275fac=function(t){return new(t||n)(m(kp))},n.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function due(n,e){if(1&n&&(T(0,"mat-icon"),te(1),D()),2&n){const t=st().$implicit;$(1),xc(t.icon)}}function hue(n,e){if(1&n){const t=br();T(0,"div",2),Ge("click",function(){const s=dn(t).$implicit;return st().onItemClick(s)}),Ye(1,due,2,1,"mat-icon",3),T(2,"p"),te(3),D(),D()}if(2&n){const t=e.$implicit;Xt("app-context-menu-item","item"===t.type)("app-context-menu-seperator","seperator"===t.type),$(1),he("ngIf",t.icon),$(2),xc(t.display)}}let fue=(()=>{class n{constructor(){this.animationState="open",this.animationStateChanged=new Fe,this.itemClick=new Fe}startCloseAnimation(){this.animationState="void"}onItemClick(t){"item"===t.type&&this.itemClick.emit(t.key)}onAnimationStart(t){this.animationStateChanged.emit(t)}onAnimationDone(t){this.animationStateChanged.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=lt({type:n,selectors:[["app-context-menu"]],inputs:{items:"items"},outputs:{itemClick:"itemClick"},decls:2,vars:2,consts:[[1,"app-context-menu"],[3,"app-context-menu-item","app-context-menu-seperator","click",4,"ngFor","ngForOf"],[3,"click"],[4,"ngIf"]],template:function(t,r){1&t&&(T(0,"div",0),Ge("@contextMenu.start",function(s){return r.onAnimationStart(s)})("@contextMenu.done",function(s){return r.onAnimationDone(s)}),Ye(1,hue,4,6,"div",1),D()),2&t&&(he("@contextMenu",r.animationState),$(1),he("ngForOf",r.items))},directives:[io,ru,Gl],styles:[".app-context-menu{background-color:var(--color-white);padding:4px 0;box-shadow:#0000001a 0 4px 12px;border-radius:4px}.app-context-menu-item{display:flex;grid-gap:8px;gap:8px;min-width:164px;padding:8px 16px;transition:.3s ease}.app-context-menu-item:hover{background-color:var(--color-light)}\n"],encapsulation:2,data:{animation:[xp("contextMenu",[xo("open",vn({transform:"scale(1)",opacity:1})),xo("void",vn({transform:"scale(0.8)",opacity:0,transformOrigin:"top right"})),Nl("* => *",Ol(".2s ease"))])]}}),n})(),pue=(()=>{class n{constructor(t,r,i){this.overlayPositionBuilder=t,this.elementRef=r,this.overlay=i,this.onContextMenuItemClick=new Fe}onClick(){this.overlayRef.hasAttached()?this.hide():this.show()}ngOnInit(){const t=this.overlayPositionBuilder.flexibleConnectedTo(this.elementRef).withPositions([{originX:"start",originY:"center",overlayX:"end",overlayY:"top"}]);this.overlayRef=this.overlay.create({positionStrategy:t,hasBackdrop:!0,backdropClass:"cdk-overlay-transparent-backdrop"}),this.overlayRef.backdropClick().subscribe(()=>this.onClick())}show(){const t=new bg(fue);this.contextMenuRef=this.overlayRef.attach(t),this.contextMenuRef.instance.items=this.items,this.contextMenuClickListener=this.contextMenuRef.instance.itemClick.subscribe(r=>{this.onContextMenuItemClick.emit(r),this.hide()}),this.contextMenuAfterClosed=this.contextMenuRef.instance.animationStateChanged.pipe(Vn(r=>"done"===r.phaseName&&"void"===r.toState),Nr())}hide(){this.contextMenuClickListener.unsubscribe(),this.contextMenuAfterClosed.subscribe(t=>this.overlayRef.detach()),this.contextMenuRef.instance.startCloseAnimation()}}return n.\u0275fac=function(t){return new(t||n)(b(qV),b(Ae),b(Go))},n.\u0275dir=ne({type:n,selectors:[["","appContextMenu",""]],hostBindings:function(t,r){1&t&&Ge("click",function(){return r.onClick()})},inputs:{items:["appContextMenu","items"]},outputs:{onContextMenuItemClick:"contextMenuClick"}}),n})();function gue(n,e){if(1&n){const t=br();T(0,"div",3),Ge("contextMenuClick",function(i){return dn(t),st().contextMenuClick.emit(i)}),T(1,"mat-icon"),te(2," more_horiz "),D(),D()}2&n&&he("appContextMenu",st().contextMenu)}const _ue=["*",[["","appCardAction",""]]],mue=["*","[appCardAction]"];let qB=(()=>{class n{constructor(){this.contentCentered=!1,this.contextMenuClick=new Fe}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=lt({type:n,selectors:[["app-card"]],hostAttrs:[1,"app-card"],hostVars:2,hostBindings:function(t,r){2&t&&Xt("content-center",r.contentCentered)},inputs:{contentCentered:["content-center","contentCentered"],contextMenu:"contextMenu"},outputs:{contextMenuClick:"contextMenuClick"},ngContentSelectors:mue,decls:5,vars:1,consts:[[1,"app-card-content"],[1,"app-card-action"],["class","app-card-context-menu",3,"appContextMenu","contextMenuClick",4,"ngIf"],[1,"app-card-context-menu",3,"appContextMenu","contextMenuClick"]],template:function(t,r){1&t&&(Si(_ue),T(0,"div",0),Er(1),D(),T(2,"div",1),Er(3,1),D(),Ye(4,gue,3,1,"div",2)),2&t&&($(4),he("ngIf",void 0!==r.contextMenu))},directives:[ru,pue,Gl],styles:[".app-card{position:relative;display:flex;width:100%;padding:16px;background-color:var(--color-white);border-radius:8px;box-shadow:#0000001a 0 4px 12px}.app-card.content-center .app-card-content{place-items:center;place-content:center}.app-card-content,.app-card-action{display:flex;flex-direction:column}.app-card-content{flex-grow:1;width:100%}.app-card-action{justify-content:center}.app-card-context-menu{display:flex;position:absolute;cursor:pointer;top:0px;right:0px;padding:12px}\n"],encapsulation:2}),n})();function yue(n,e){if(1&n){const t=br();T(0,"app-card",3),Ge("click",function(){const s=dn(t).$implicit;return st().navigateToNight(s.id)}),T(1,"p"),te(2),D(),T(3,"p"),te(4),Ri(5,"date"),D(),T(6,"mat-icon",4),te(7," chevron_right "),D(),D()}if(2&n){const t=e.$implicit;$(2),It(" ",t.name," "),$(2),It(" ",function(n,e,t,r){const i=n+20,s=C(),o=ia(s,i);return qc(s,Gc(s,i)?MM(s,Yt(),e,o.transform,t,r,o):o.transform(t,r))}(5,2,t.timestamp,"dd.MM.yyyy")," ")}}let vue=(()=>{class n{constructor(t,r){this.db=t,this.router=r}ngOnInit(){this.allNights$=this.db.getAllNights()}addNewNight(){this.db.createNewNight().subscribe(t=>this.navigateToNight(t.id))}navigateToNight(t){this.router.navigate([xg.Night,t])}}return n.\u0275fac=function(t){return new(t||n)(b(GB),b(Gt))},n.\u0275cmp=lt({type:n,selectors:[["app-home"]],decls:6,vars:4,consts:[[1,"grid"],[3,"click",4,"ngFor","ngForOf"],[3,"content-center","click"],[3,"click"],["appCardAction",""]],template:function(t,r){1&t&&(T(0,"div",0),Ye(1,yue,8,5,"app-card",1),Ri(2,"async"),T(3,"app-card",2),Ge("click",function(){return r.addNewNight()}),T(4,"mat-icon"),te(5,"add"),D(),D(),D()),2&t&&($(1),he("ngForOf",hs(2,2,r.allNights$)),$(2),he("content-center",!0))},directives:[io,qB,Gl],pipes:[Yy,cx],styles:[""]}),n})();const bue=[[["input"]]],Eue=["input"];let KB=(()=>{class n{ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=lt({type:n,selectors:[["app-form-field"]],hostAttrs:[1,"app-form-field"],inputs:{label:"label"},ngContentSelectors:Eue,decls:3,vars:1,consts:[[1,"app-form-field-label"]],template:function(t,r){1&t&&(Si(bue),Er(0),T(1,"span",0),te(2),D()),2&t&&($(2),xc(r.label))},styles:[".app-form-field{position:relative;display:block}.app-form-field-label{position:absolute;left:8px;bottom:0px;transition:.3s ease;transform-origin:left;pointer-events:none;font-size:13px;line-height:28px}.app-form-field input.app-input.is-focus+.app-form-field-label,.app-form-field input.app-input.has-value+.app-form-field-label{color:var(--color-primary);transform:scale(.8) translateY(-32px)}\n"],encapsulation:2}),n})();const Cue=["appInput",""],wue=["*"];let eD=(()=>{class n{constructor(t){this.elementRef=t,this.isFocused=!1,this.hasValue=!1}onFocus(){this.isFocused=!0}onBlur(){this.isFocused=!1}onChange(t){this.checkForValue(t.target)}ngAfterViewInit(){this.checkForValue(this.elementRef.nativeElement)}checkForValue(t){this.value=t.value,this.hasValue=""!==this.value}}return n.\u0275fac=function(t){return new(t||n)(b(Ae))},n.\u0275cmp=lt({type:n,selectors:[["","appInput",""]],hostAttrs:[1,"app-input"],hostVars:4,hostBindings:function(t,r){1&t&&Ge("focus",function(){return r.onFocus()})("blur",function(){return r.onBlur()})("change",function(s){return r.onChange(s)}),2&t&&Xt("is-focus",r.isFocused)("has-value",r.hasValue)},attrs:Cue,ngContentSelectors:wue,decls:1,vars:0,template:function(t,r){1&t&&(Si(),Er(0))},styles:[".app-input{border:0;box-shadow:inset 0 -1px 0 var(--color-dark);transition:all .3s ease;padding:16px 8px 0;line-height:32px;width:100%}.app-input.is-focus,.app-input.has-value{outline:none;box-shadow:inset 0 -2px 0 var(--color-primary)}\n"],encapsulation:2}),n})();const Iue=["appButton",""],Tue=["*"];let tD=(()=>{class n{ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=lt({type:n,selectors:[["","appButton",""]],hostAttrs:[1,"app-button"],attrs:Iue,ngContentSelectors:Tue,decls:1,vars:0,template:function(t,r){1&t&&(Si(),Er(0))},styles:[".app-button{padding:8px 16px;border:2px solid var(--color-primary);border-radius:8px;background-color:var(--color-white);color:var(--color-dark);transition:.3s ease;cursor:pointer;display:flex;align-items:center;justify-content:center}.app-button:hover{background-color:var(--color-primary)}\n"],encapsulation:2}),n})();function Due(n,e){if(1&n){const t=br();T(0,"div",13),T(1,"mat-icon",14),Ge("click",function(){return dn(t).$implicit.selection=0}),te(2,"chevron_left"),D(),T(3,"span"),te(4),D(),T(5,"mat-icon",15),Ge("click",function(){return dn(t).$implicit.selection=1}),te(6,"chevron_right"),D(),D()}if(2&n){const t=e.$implicit;Xt("left",0===t.selection)("right",1===t.selection),$(4),It("",t.player," ")}}let Sue=(()=>{class n{constructor(t,r){this.dialogRef=t,this.players$=r}ngOnInit(){this.players$.pipe(Nr()).subscribe(t=>{this.playerData=t.map(r=>({player:r,selection:-1}))})}submit(t,r,i){const s={name:t,players:this.playerData.filter(a=>0===a.selection).map(a=>a.player)},o={name:r,players:this.playerData.filter(a=>1===a.selection).map(a=>a.player)};this.dialogRef.close([s,o,parseFloat(i)])}}return n.\u0275fac=function(t){return new(t||n)(b(md),b(GT))},n.\u0275cmp=lt({type:n,selectors:[["app-add-fight"]],decls:16,vars:2,consts:[["label","Bet",1,"mb-5"],["type","number","appInput","",3,"value"],["bet",""],[1,"flex"],["label","Fighter 1"],["appInput",""],["fighterOne",""],[1,"text-center","mt-4"],["label","Fighter 2"],["fighterTwo",""],[1,"selector-container","mt-4"],["class","selector",3,"left","right",4,"ngFor","ngForOf"],["appButton","",1,"w-full","mt-4",3,"click"],[1,"selector"],[1,"selector-left",3,"click"],[1,"selector-right",3,"click"]],template:function(t,r){if(1&t){const i=br();T(0,"app-form-field",0),Yn(1,"input",1,2),D(),T(3,"div",3),T(4,"app-form-field",4),Yn(5,"input",5,6),D(),T(7,"p",7),te(8,"vs."),D(),T(9,"app-form-field",8),Yn(10,"input",5,9),D(),D(),T(12,"div",10),Ye(13,Due,7,5,"div",11),D(),T(14,"button",12),Ge("click",function(){dn(i);const o=Mc(6),a=Mc(11),l=Mc(2);return r.submit(o.value,a.value,l.value)}),te(15," Submit\n"),D()}2&t&&($(1),he("value",5),$(12),he("ngForOf",r.playerData))},directives:[KB,eD,io,tD,Gl],styles:[".selector[_ngcontent-%COMP%]{--translate-x: 50%;display:flex;justify-content:space-between;border:1px solid var(--color-dark);border-radius:8px;width:50%;padding:4px 8px;grid-gap:8px;gap:8px;transition:.3s ease;transform:translate(var(--translate-x))}.selector-container[_ngcontent-%COMP%]{grid-gap:12px;gap:12px;display:flex;flex-direction:column}.selector.left[_ngcontent-%COMP%]{--translate-x: 0%}.selector.right[_ngcontent-%COMP%]{--translate-x: 100%}"]}),n})();function Aue(n,e){if(1&n&&(T(0,"app-form-field",4),Yn(1,"input",5),D()),2&n){const t=e.$implicit;he("label","Player "+t.index),$(1),he("value",t.name)}}let Rue=(()=>{class n{constructor(t,r){this.dialogRef=t,this.data=r}ngOnInit(){this.data.pipe(Nr()).subscribe(t=>{(void 0===t.players||0===t.players.length)&&(this.players=[...Array(6).keys()].map((r,i)=>({index:i+1,name:""}))),this.players=t.players.map((r,i)=>({index:i+1,name:r}))})}addPlayer(){this.players.push({index:this.players.length+1,name:""})}submit(){console.log(this.inputValues),this.dialogRef.close(this.inputValues.map(t=>t.value).filter(t=>""!==t))}}return n.\u0275fac=function(t){return new(t||n)(b(md),b(GT))},n.\u0275cmp=lt({type:n,selectors:[["app-add-players-dialog"]],viewQuery:function(t,r){if(1&t&&Rh(eD,5),2&t){let i;Ja(i=Xa())&&(r.inputValues=i)}},hostAttrs:[1,"app-add-players-dialog"],decls:7,vars:1,consts:[[1,"grid"],[3,"label",4,"ngFor","ngForOf"],["appButton","",3,"click"],["appButton","",1,"mt-4",3,"click"],[3,"label"],["appInput","",3,"value"]],template:function(t,r){1&t&&(T(0,"div",0),Ye(1,Aue,2,2,"app-form-field",1),T(2,"button",2),Ge("click",function(){return r.addPlayer()}),T(3,"mat-icon"),te(4,"add"),D(),D(),T(5,"button",3),Ge("click",function(){return r.submit()}),te(6," Ok "),D(),D()),2&t&&($(1),he("ngForOf",r.players))},directives:[io,tD,Gl,KB,eD],styles:[""],encapsulation:2}),n})();const Mue_Edit=[{type:"item",key:"edit",icon:"edit_note",display:"Edit"}],kue=function(n){return{data:n}};function xue(n,e){if(1&n&&A0(0,4),2&n){const t=e.$implicit,r=st();he("ngTemplateOutlet",Mc(11))("ngTemplateOutletContext",function(n,e,t,r){return RM(C(),Yt(),n,e,t,r)}(2,kue,r.getPlayerSummary(t)))}}function Pue(n,e){if(1&n&&(T(0,"div",5),T(1,"span",6),te(2),D(),T(3,"span"),te(4),D(),T(5,"span"),te(6),D(),T(7,"span"),te(8),D(),D()),2&n){const t=e.data;$(2),It(" ",t.name," "),$(2),It(" ",t.totalBets," "),$(2),It(" ",t.totalWon," "),$(1),Xt("plus",t.overall>0)("minus",t.overall<0),$(1),It(" ",t.overall," ")}}let Oue=(()=>{class n{constructor(){this.trackByIndex=t=>t}ngOnInit(){}getPlayerSummary(t){var r;const i=this.mapToArray(null===(r=this.night)||void 0===r?void 0:r.fights);let s=0,o=0;return i.forEach(a=>{var l,c;let u="";a.firstFighter.players.includes(t)&&(s+=null!==(l=a.bet)&&void 0!==l?l:0,u=a.firstFighter.name),a.secondFighter.players.includes(t)&&(s+=null!==(c=a.bet)&&void 0!==c?c:0,u=a.secondFighter.name),o+=this.calculateWinningsOfFight(a,a.winner===u)}),{name:t,totalBets:this.round(s),totalWon:this.round(o),overall:this.round(o-s)}}calculateWinningsOfFight(t,r){if(!r)return 0;let i=[],s=[];return t.winner===t.firstFighter.name&&(i=t.secondFighter.players,s=t.firstFighter.players),t.winner===t.secondFighter.name&&(i=t.firstFighter.players,s=t.secondFighter.players),t.bet+(null==i?void 0:i.length)*t.bet/s.length}mapToArray(t){return null===t?[]:Object.keys(t).map(r=>t[r])}round(t){return Math.round(100*t)/100}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=lt({type:n,selectors:[["app-night-dashboard"]],inputs:{night:"night"},decls:12,vars:1,consts:[[1,"night-dashboard-grid"],[1,"night-dashboard-grid-row","header"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],["playerSummary",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"night-dashboard-grid-row"],[1,"first"]],template:function(t,r){1&t&&(T(0,"div",0),T(1,"div",1),Yn(2,"span"),T(3,"span"),te(4,"Einsatz"),D(),T(5,"span"),te(6,"Gewinn"),D(),T(7,"span"),te(8,"Total"),D(),D(),Ye(9,xue,1,4,"ng-container",2),D(),Ye(10,Pue,9,8,"ng-template",null,3,UM)),2&t&&($(9),he("ngForOf",null==r.night?null:r.night.players))},directives:[io,lx],styles:[".night-dashboard-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto auto auto}.night-dashboard-grid-row[_ngcontent-%COMP%]{display:contents}.night-dashboard-grid-row.header[_ngcontent-%COMP%]{font-weight:bold}.night-dashboard-grid-row[_ngcontent-%COMP%]:nth-child(2n)   span[_ngcontent-%COMP%]{background-color:var(--color-light)}.night-dashboard-grid-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;border-bottom:2px solid var(--color-light-accent);text-align:center}.night-dashboard-grid-row[_ngcontent-%COMP%]   span.first[_ngcontent-%COMP%]{text-align:left}.night-dashboard-grid-row[_ngcontent-%COMP%]   span.plus[_ngcontent-%COMP%]{background-color:#d8f1bb;text-align:right}.night-dashboard-grid-row[_ngcontent-%COMP%]   span.minus[_ngcontent-%COMP%]{background-color:#ffbdbd;text-align:right}"]}),n})();function Nue(n,e){if(1&n&&(T(0,"app-card"),Yn(1,"app-night-dashboard",12),Ri(2,"async"),D()),2&n){const t=st(2);$(1),he("night",hs(2,1,t.night$))}}function Fue(n,e){if(1&n&&(T(0,"p",19),te(1),D()),2&n){const t=e.$implicit;$(1),It(" ",t," ")}}function Lue(n,e){if(1&n&&(T(0,"p",19),te(1),D()),2&n){const t=e.$implicit;$(1),It(" ",t," ")}}function Vue(n,e){if(1&n){const t=br();T(0,"div",20),T(1,"button",21),Ge("click",function(){dn(t);const i=st().$implicit;return st(2).setWinner(i.id,i.firstFighter.name)}),te(2," Set Winner "),D(),T(3,"button",21),Ge("click",function(){dn(t);const i=st().$implicit;return st(2).setWinner(i.id,i.secondFighter.name)}),te(4," Set Winner "),D(),D()}}function Bue(n,e){if(1&n){const t=br();T(0,"p",22),Ge("click",function(){return dn(t),st().$implicit.isOpen=!1}),te(1," Hide Details "),D()}}function Uue(n,e){1&n&&(T(0,"mat-icon",25),te(1,"warning_amber"),D())}function jue(n,e){if(1&n){const t=br();T(0,"p",23),Ge("click",function(){return dn(t),st().$implicit.isOpen=!0}),te(1," View Details "),Ye(2,Uue,2,0,"mat-icon",24),D()}if(2&n){const t=st().$implicit;$(2),he("ngIf",void 0===t.winner)}}function Hue(n,e){if(1&n&&(T(0,"app-card"),T(1,"div",9),T(2,"p",13),te(3),D(),T(4,"p",13),te(5),D(),D(),T(6,"div"),T(7,"div",14),T(8,"div"),Ye(9,Fue,2,1,"p",10),D(),T(10,"div"),Ye(11,Lue,2,1,"p",10),D(),T(12,"p",15),te(13),D(),D(),Ye(14,Vue,5,0,"div",16),D(),Ye(15,Bue,2,0,"p",17),Ye(16,jue,3,1,"p",18),D()),2&n){const t=e.$implicit;let r;$(2),Xt("text-bold",t.winner===t.firstFighter.name),$(1),It(" ",t.firstFighter.name," "),$(1),Xt("text-bold",t.winner===t.secondFighter.name),$(1),It(" ",t.secondFighter.name," "),$(1),he("@collapse",t.isOpen?"open":"closed"),$(3),he("ngForOf",t.firstFighter.players),$(2),he("ngForOf",t.secondFighter.players),$(2),It("Bet: ",null!==(r=t.bet)&&void 0!==r?r:"?",".-"),$(1),he("ngIf",!t.winner),$(1),he("ngIf",t.isOpen),$(1),he("ngIf",!t.isOpen)}}function $ue(n,e){if(1&n&&(T(0,"p",19),te(1),D()),2&n){const t=e.$implicit;$(1),It(" ",t," ")}}function Wue(n,e){if(1&n){const t=br();T(0,"button",26),Ge("click",function(){return dn(t),st(2).addPlayers()}),te(1," Add Players "),D()}}function zue(n,e){if(1&n){const t=br();T(0,"div",1),Ye(1,Nue,3,3,"app-card",2),Ri(2,"async"),T(3,"app-card",3),Ge("click",function(){return dn(t),st().addFight()}),T(4,"p",4),te(5," Add Fight "),T(6,"mat-icon",5),te(7,"add"),D(),D(),D(),Ye(8,Hue,17,13,"app-card",6),Ri(9,"async"),T(10,"app-card",7),Ge("contextMenuClick",function(){return dn(t),st().addPlayers()}),T(11,"p",8),te(12,"Players"),D(),T(13,"div",9),Ye(14,$ue,2,1,"p",10),Ri(15,"async"),D(),Ye(16,Wue,2,0,"button",11),Ri(17,"async"),D(),D()}if(2&n){const t=st();let r,i,s;he("@fadeIn",void 0),$(1),he("ngIf",void 0!==(null==(r=hs(2,7,t.night$))?null:r.fights)),$(2),he("content-center",!0),$(5),he("ngForOf",hs(9,9,t.allFights$)),$(2),he("contextMenu",t.contextMenuEdit),$(4),he("ngForOf",null==(i=hs(15,11,t.night$))?null:i.players),$(2),he("ngIf",void 0===(null==(s=hs(17,13,t.night$))?null:s.players))}}const xg={Home:"home",Night:"night",Fights:"fights"},que=[{path:"",pathMatch:"full",redirectTo:xg.Home},{path:xg.Home,component:vue},{path:`${xg.Night}/:id`,component:(()=>{class n{constructor(t,r,i,s){this.db=t,this.route=r,this.dialog=i,this.router=s,this.contextMenuEdit=Mue_Edit}ngOnInit(){this.night$=this.route.paramMap.pipe(At(t=>{this.nightId=t.get("id"),this.nightRef=this.db.getNightRef(this.nightId),this.allFights$=this.db.getAllFightsOfNight(this.nightId)}),di(()=>AI(this.nightRef))),this.isLoading$=this.night$.pipe(Xu(void 0),se(t=>void 0===t))}setWinner(t,r){const i=this.db.getRef(`nights/${this.nightId}/fights/${t}`);fF(i,{winner:r})}addPlayers(){this.dialog.open(Rue,{data:this.night$}).afterClosed().subscribe(t=>{t&&t.length>0&&fF(this.nightRef,{players:t})})}addFight(){this.dialog.open(Sue,{data:this.night$.pipe(se(t=>t.players))}).afterClosed().subscribe(t=>{this.db.createNewFight(this.nightId,t[0],t[1],t[2])})}}return n.\u0275fac=function(t){return new(t||n)(b(GB),b(Bo),b(Tg),b(Gt))},n.\u0275cmp=lt({type:n,selectors:[["app-night"]],decls:2,vars:3,consts:[["class","grid",4,"ngIf"],[1,"grid"],[4,"ngIf"],[1,"mt-4",3,"content-center","click"],[1,"flex"],[1,"ml-1"],[4,"ngFor","ngForOf"],[1,"mt-5",3,"contextMenu","contextMenuClick"],[1,"text-large","text-center","mb-2"],[1,"grid","grid-2"],["class","text-center",4,"ngFor","ngForOf"],["class","mt-6","appButton","",3,"click",4,"ngIf"],[3,"night"],[1,"text-large","text-center","text-bold"],[1,"grid","grid-2","mt-3"],[1,"colspan-2","text-center"],["class","grid grid-2 mt-4",4,"ngIf"],["class","text-center text-small mt-4 pt-2 pb-2",3,"click",4,"ngIf"],["class","text-center text-small mt-4 pt-2 pb-2 flex justify-center",3,"click",4,"ngIf"],[1,"text-center"],[1,"grid","grid-2","mt-4"],["appButton","",3,"click"],[1,"text-center","text-small","mt-4","pt-2","pb-2",3,"click"],[1,"text-center","text-small","mt-4","pt-2","pb-2","flex","justify-center",3,"click"],["class","ml-4",4,"ngIf"],[1,"ml-4"],["appButton","",1,"mt-6",3,"click"]],template:function(t,r){1&t&&(Ye(0,zue,18,15,"div",0),Ri(1,"async")),2&t&&he("ngIf",!hs(1,1,r.isLoading$))},directives:[ru,qB,Gl,io,Oue,tD],pipes:[Yy],styles:[""],data:{animation:[xp("collapse",[xo("open",vn({height:"*",opacity:1})),xo("closed",vn({height:0,opacity:0,overflow:"hidden"})),xo("void",vn({height:0,opacity:0,overflow:"hidden"})),Nl("* => *",Ol(".3s ease"))]),xp("fadeIn",[Nl(":enter",[vn({opacity:0}),Ol("300ms",vn({opacity:1}))]),Nl(":leave",[Ol("300ms",vn({opacity:0}))])])]}}),n})()}];let Kue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Ce({imports:[[vV.forRoot(que)],vV]}),n})(),Yue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=De({type:n,bootstrap:[qoe]}),n.\u0275inj=Ce({providers:[],imports:[[ov,pL,Kue,eue,$B,K9(()=>Y9(gL_firebase)),Wne(()=>zne()),pL]]}),n})();(function(){if(hk)throw new Error("Cannot enable prod mode after platform setup.");dk=!1})(),wK().bootstrapModule(Yue).catch(n=>console.error(n))}},Qo=>{Qo(Qo.s=51)}]);